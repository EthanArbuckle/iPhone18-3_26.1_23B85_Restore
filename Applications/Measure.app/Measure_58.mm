uint64_t sub_10038AFA4(uint64_t a1)
{
  *(a1 + 1124) = 18;
  result = sub_1003892BC(a1);
  if (*(a1 + 613) <= 2u)
  {
    *(a1 + 292) |= 0x1000u;
  }

  return result;
}

uint64_t sub_10038B050(uint64_t result, int a2, Bytef *a3, unint64_t a4)
{
  if (result)
  {
    v5 = result;
    if (a4 >> 31)
    {
      sub_10037A948(result, "length exceeds PNG maximum");
    }

    *(result + 1124) = 34;
    v8[0] = HIBYTE(a2);
    v8[1] = BYTE2(a2);
    v8[2] = BYTE1(a2);
    v8[3] = a2;
    sub_1003892BC(result);
    *(v5 + 528) = a2;
    sub_1003764B8(v5);
    sub_1003764EC(v5, v8, 4);
    *(v5 + 1124) = 66;
    if (a3)
    {
      if (a4)
      {
        sub_1003892BC(v5);
        sub_1003764EC(v5, a3, a4);
      }
    }

    *(v5 + 1124) = 130;
    return sub_1003892BC(v5);
  }

  return result;
}

void sub_10038B1A0(uint64_t a1, void **a2)
{
  v3 = *a2;
  if (v3)
  {
    *a2 = 0;
    do
    {
      v5 = *v3;
      sub_10037BAB4(a1, v3);
      v3 = v5;
    }

    while (v5);
  }
}

uint64_t sub_10038B1E8(uint64_t a1, unsigned int a2, int a3, unsigned int a4, int a5, int a6, int a7, unsigned int a8)
{
  v11 = a4;
  if (a5 <= 2)
  {
    if (a5)
    {
      if (a5 != 2)
      {
        goto LABEL_48;
      }

      v15 = 3;
      if (a4 != 8 && a4 != 16)
      {
        sub_10037A948(a1, "Invalid bit depth for RGB image");
      }
    }

    else if (a4 > 0x10 || (v15 = 1, ((1 << a4) & 0x10116) == 0))
    {
      sub_10037A948(a1, "Invalid bit depth for grayscale image");
    }
  }

  else
  {
    switch(a5)
    {
      case 3:
        if (a4 - 1 >= 8 || ((0x8Bu >> (a4 - 1)) & 1) == 0)
        {
          sub_10037A948(a1, "Invalid bit depth for paletted image");
        }

        v15 = 1;
        break;
      case 4:
        v15 = 2;
        if (a4 != 8 && a4 != 16)
        {
          sub_10037A948(a1, "Invalid bit depth for grayscale+alpha image");
        }

        break;
      case 6:
        v15 = 4;
        if (a4 != 8 && a4 != 16)
        {
          sub_10037A948(a1, "Invalid bit depth for RGBA image");
        }

        break;
      default:
LABEL_48:
        sub_10037A948(a1, "Invalid image color type specified");
    }
  }

  *(a1 + 611) = v15;
  if (a6)
  {
    sub_10037AB5C(a1, "Invalid compression type specified");
  }

  if ((*(a1 + 976) & 4) == 0 || (*(a1 + 293) & 0x10) != 0)
  {
    if (!a7)
    {
      goto LABEL_36;
    }

    goto LABEL_35;
  }

  v17 = (a5 & 0xFFFFFFFB) != 2 || a7 != 64;
  if (a7 && v17)
  {
LABEL_35:
    sub_10037AB5C(a1, "Invalid filter type specified");
    LOBYTE(a7) = 0;
  }

LABEL_36:
  if (a8 >= 2)
  {
    sub_10037AB5C(a1, "Invalid interlace type specified");
    LOBYTE(a8) = 1;
  }

  *(a1 + 608) = v11;
  *(a1 + 607) = a5;
  *(a1 + 604) = a8;
  *(a1 + 980) = a7;
  *(a1 + 1040) = 0;
  *(a1 + 496) = a2;
  *(a1 + 500) = a3;
  v18 = *(a1 + 611);
  *(a1 + 610) = v18 * v11;
  v19 = a2 * ((v18 * v11) >> 3);
  if ((v18 * v11) < 8u)
  {
    v19 = ((v18 * v11) * a2 + 7) >> 3;
  }

  *(a1 + 512) = v19;
  *(a1 + 508) = a2;
  *(a1 + 609) = v11;
  *(a1 + 612) = v18;
  v22[0] = HIBYTE(a2);
  v22[1] = BYTE2(a2);
  v22[2] = BYTE1(a2);
  v22[3] = a2;
  v22[4] = HIBYTE(a3);
  v22[5] = BYTE2(a3);
  v22[6] = BYTE1(a3);
  v22[7] = a3;
  v22[8] = v11;
  v22[9] = a5;
  v22[10] = 0;
  v22[11] = a7;
  v22[12] = a8;
  result = sub_10038B050(a1, 1229472850, v22, 0xDuLL);
  if (!*(a1 + 606))
  {
    v21 = 8;
    if (*(a1 + 607) != 3)
    {
      if (*(a1 + 608) < 8u)
      {
        v21 = 8;
      }

      else
      {
        v21 = -8;
      }
    }

    *(a1 + 606) = v21;
  }

  *(a1 + 292) = 1;
  return result;
}

uint64_t sub_10038B4E4(uint64_t a1, uint64_t a2, unsigned int a3)
{
  v3 = a3;
  v6 = *(a1 + 607);
  if (v6 == 3)
  {
    if (*(a1 + 976) & 1 | a3)
    {
      v7 = 1 << *(a1 + 608) >= a3;
    }

    else
    {
      v7 = 0;
    }

    if (!v7)
    {
      sub_10037A948(a1, "Invalid number of colors in palette");
    }

    goto LABEL_11;
  }

  if (a3 <= 0x100 && *(a1 + 976) & 1 | a3)
  {
    if ((v6 & 2) != 0)
    {
LABEL_11:
      *(a1 + 592) = a3;
      *(a1 + 1124) = 34;
      LOBYTE(v12) = (3 * a3) >> 24;
      BYTE1(v12) = (3 * a3) >> 16;
      BYTE2(v12) = (3 * a3) >> 8;
      HIBYTE(v12) = 3 * a3;
      v13 = 1163152464;
      sub_1003892BC(a1);
      *(a1 + 528) = 1347179589;
      sub_1003764B8(a1);
      sub_1003764EC(a1, &v13, 4);
      for (*(a1 + 1124) = 66; v3; --v3)
      {
        buf = *a2;
        v11 = *(a2 + 1);
        sub_1003892BC(a1);
        sub_1003764EC(a1, &buf, 3);
        a2 += 3;
      }

      *(a1 + 1124) = 130;
      v12 = bswap32(*(a1 + 580));
      result = sub_1003892BC(a1);
      *(a1 + 292) |= 2u;
      return result;
    }

    v8 = "Ignoring request to write a PLTE chunk in grayscale PNG";
  }

  else
  {
    v8 = "Invalid number of colors in palette";
  }

  return sub_10037AB5C(a1, v8);
}

unint64_t sub_10038B6F8(uint64_t a1, uint64_t a2, unint64_t a3, int a4)
{
  if (*(a1 + 304) != 1229209940)
  {
    v8 = *(a1 + 424);
    if (v8)
    {
      v9 = *v8;
      if (*v8)
      {
        *v8 = 0;
        do
        {
          v10 = *v9;
          sub_10037BAB4(a1, v9);
          v9 = v10;
        }

        while (v10);
      }
    }

    else
    {
      v11 = sub_10037BB44(a1, *(a1 + 432) + 8);
      *(a1 + 424) = v11;
      *v11 = 0;
    }

    v12 = sub_10038BD44(a1);
    if (sub_10038BA98(a1, 1229209940, v12))
    {
LABEL_59:
      sub_10037A948(a1, *(a1 + 360));
    }

    *(a1 + 336) = *(a1 + 424) + 8;
    *(a1 + 344) = *(a1 + 432);
  }

  *(a1 + 312) = a2;
  while (1)
  {
    do
    {
      v13 = a3 >= 0xFFFFFFFF ? 0xFFFFFFFFLL : a3;
      *(a1 + 320) = v13;
      v14 = a3 - v13;
      v15 = HIDWORD(a3) ? 0 : a4;
      result = deflate((a1 + 312), v15);
      a3 = v14 + *(a1 + 320);
      *(a1 + 320) = 0;
      LODWORD(v14) = *(a1 + 344);
      if (v14)
      {
        break;
      }

      v17 = *(a1 + 424);
      v18 = (v17 + 8);
      v14 = *(a1 + 432);
      if ((*(a1 + 292) & 4) != 0 || *(a1 + 1040) || (v19 = result, v20 = sub_10038BD44(a1), result = v19, v20 > 0x4000) || (v21 = *v18, (v21 & 0xF) != 8) || ((v22 = v21 >> 4, v23 = 128 << (*v18 >> 4), (v21 & 0xF0) <= 0x70) ? (v24 = v20 > v23) : (v24 = 1), v24))
      {
        if (!v14)
        {
          goto LABEL_32;
        }
      }

      else
      {
        v26 = ((v22 & 0xF) << 12) | 0x800;
        v27 = (v21 & 0xF0) + 8;
        v28 = v22 - 1;
        do
        {
          v26 -= 4096;
          v27 -= 16;
          v29 = v28-- != 0;
          if (!v29)
          {
            break;
          }

          v23 = v23 >> 1;
        }

        while (v20 <= v23);
        *(v17 + 8) = v27;
        *(v17 + 9) = (*(v17 + 9) & 0xE0 | ((*(v17 + 9) & 0xE0) - 31 * (((*(v17 + 9) & 0xE0u) + v26) / 0x1F))) ^ 0x1F;
        if (!v14)
        {
          goto LABEL_32;
        }
      }

      v25 = result;
      sub_10038B050(a1, 1229209940, v18, v14);
      result = v25;
LABEL_32:
      *(a1 + 292) |= 4u;
      *(a1 + 336) = v18;
      *(a1 + 344) = v14;
    }

    while (a4 && !result);
    if (result)
    {
      break;
    }

    if (!a3)
    {
      if (a4 == 4)
      {
        sub_10037A948(a1, "Z_OK on Z_FINISH with output space");
      }

      return result;
    }
  }

  if (a4 != 4 || result != 1)
  {
    sub_100376F34(a1, result);
    goto LABEL_59;
  }

  v30 = *(a1 + 424);
  v31 = *(a1 + 432);
  if ((*(a1 + 292) & 4) == 0 && !*(a1 + 1040))
  {
    result = sub_10038BD44(a1);
    if (result <= 0x4000)
    {
      v32 = *(v30 + 8);
      if ((v32 & 0xF) == 8 && (v32 & 0xF0) <= 0x70)
      {
        v33 = v32 >> 4;
        v34 = 128 << (*(v30 + 8) >> 4);
        if (result <= v34)
        {
          v35 = ((v33 & 0xF) << 12) | 0x800;
          v36 = (v32 & 0xF0) + 8;
          v37 = v33 - 1;
          do
          {
            v35 -= 4096;
            v36 -= 16;
            v29 = v37-- != 0;
            if (!v29)
            {
              break;
            }

            v34 = v34 >> 1;
          }

          while (result <= v34);
          *(v30 + 8) = v36;
          *(v30 + 9) = (*(v30 + 9) & 0xE0 | ((*(v30 + 9) & 0xE0) - 31 * (((*(v30 + 9) & 0xE0u) + v35) / 0x1F))) ^ 0x1F;
        }
      }
    }
  }

  if (v31 != v14)
  {
    result = sub_10038B050(a1, 1229209940, (v30 + 8), (v31 - v14));
  }

  *(a1 + 344) = 0;
  *(a1 + 336) = 0;
  *(a1 + 292) |= 0xCu;
  *(a1 + 304) = 0;
  return result;
}

uint64_t sub_10038BA98(uint64_t a1, int a2, unint64_t a3)
{
  v6 = *(a1 + 304);
  if (!v6)
  {
LABEL_5:
    if (a2 == 1229209940)
    {
      v8 = *(a1 + 436);
      v9 = *(a1 + 440);
      v10 = *(a1 + 444);
      v11 = *(a1 + 448);
      if (*(a1 + 296))
      {
        v12 = *(a1 + 452);
        if (a3 > 0x4000)
        {
          goto LABEL_14;
        }
      }

      else
      {
        v12 = *(a1 + 606) != 8;
        if (a3 > 0x4000)
        {
          goto LABEL_14;
        }
      }
    }

    else
    {
      v8 = *(a1 + 456);
      v9 = *(a1 + 460);
      v10 = *(a1 + 464);
      v11 = *(a1 + 468);
      v12 = *(a1 + 472);
      if (a3 > 0x4000)
      {
        goto LABEL_14;
      }
    }

    v13 = (1 << (v10 - 1));
    if (a3 + 262 <= v13)
    {
      do
      {
        LODWORD(v13) = v13 >> 1;
        --v10;
      }

      while (v13 >= a3 + 262);
    }

LABEL_14:
    v14 = *(a1 + 296);
    if ((v14 & 2) != 0 && (*(a1 + 476) != v8 || *(a1 + 480) != v9 || *(a1 + 484) != v10 || *(a1 + 488) != v11 || *(a1 + 492) != v12))
    {
      if (deflateEnd((a1 + 312)))
      {
        sub_10037AB5C(a1, "deflateEnd failed (ignored)");
      }

      v14 = *(a1 + 296) & 0xFFFFFFFD;
      *(a1 + 296) = v14;
    }

    *(a1 + 312) = 0;
    *(a1 + 320) = 0;
    *(a1 + 336) = 0;
    *(a1 + 344) = 0;
    if ((v14 & 2) != 0)
    {
      v15 = deflateReset((a1 + 312));
      if (!v15)
      {
        goto LABEL_29;
      }
    }

    else
    {
      v15 = deflateInit2_((a1 + 312), v8, v9, v10, v11, v12, "1.2.12", 112);
      if (!v15)
      {
        *(a1 + 296) |= 2u;
LABEL_29:
        v7 = 0;
        *(a1 + 304) = a2;
        return v7;
      }
    }

    v7 = v15;
    sub_100376F34(a1, v15);
    return v7;
  }

  v17[0] = HIBYTE(a2);
  v17[1] = BYTE2(a2);
  v17[2] = BYTE1(a2);
  v17[3] = a2;
  v18 = 8250;
  v19 = HIBYTE(v6);
  v20 = BYTE2(v6);
  v21 = BYTE1(v6);
  v22 = v6;
  sub_10037A9D8(v17, 0x40uLL, 0xAuLL, " using zstream");
  sub_10037AB5C(a1, v17);
  if (*(a1 + 304) != 1229209940)
  {
    *(a1 + 304) = 0;
    goto LABEL_5;
  }

  *(a1 + 360) = "in use by IDAT";
  return 4294967294;
}

unint64_t sub_10038BD44(uint64_t a1)
{
  v1 = *(a1 + 500);
  v2 = *(a1 + 512);
  if (v2 >> 15)
  {
    v3 = 0;
  }

  else
  {
    v3 = v1 >> 15 == 0;
  }

  if (!v3)
  {
    return 0xFFFFFFFFLL;
  }

  if (!*(a1 + 604))
  {
    return v1 + v1 * v2;
  }

  v5 = *(a1 + 496);
  v6 = v5 + 7;
  if (*(a1 + 610) > 7u)
  {
    v7 = *(a1 + 610) >> 3;
    if (v6 >= 8)
    {
      result = ((v1 + 7) >> 3) + ((v1 + 7) >> 3) * (*(a1 + 610) >> 3) * (v6 >> 3);
      v8 = v5 + 3;
      if ((v5 + 3) >= 8)
      {
        goto LABEL_10;
      }
    }

    else
    {
      result = 0;
      v8 = v5 + 3;
      if ((v5 + 3) >= 8)
      {
LABEL_10:
        result += ((v1 + 7) >> 3) + ((v1 + 7) >> 3) * v7 * (v8 >> 3);
LABEL_17:
        result += ((v1 + 3) >> 3) + ((v1 + 3) >> 3) * v7 * (v8 >> 2);
LABEL_18:
        v11 = v5 + 1;
        if ((v5 + 1) >= 4)
        {
          result += ((v1 + 3) >> 2) + ((v1 + 3) >> 2) * v7 * (v11 >> 2);
        }

        else if (v11 < 2)
        {
          if (v5 < 2)
          {
            goto LABEL_21;
          }

          goto LABEL_33;
        }

        result += ((v1 + 1) >> 2) + ((v1 + 1) >> 2) * v7 * (v11 >> 1);
        if (v5 < 2)
        {
LABEL_21:
          if (!v5)
          {
            return result;
          }

LABEL_34:
          result += (v1 >> 1) + (v1 >> 1) * v5 * v7;
          return result;
        }

LABEL_33:
        result += ((v1 + 1) >> 1) + ((v1 + 1) >> 1) * (v5 >> 1) * v7;
        goto LABEL_34;
      }
    }

    if (v8 < 4)
    {
      goto LABEL_18;
    }

    goto LABEL_17;
  }

  v9 = *(a1 + 610);
  if (v6 >= 8)
  {
    result = ((v1 + 7) >> 3) + ((v1 + 7) >> 3) * ((*(a1 + 610) * (v6 >> 3) + 7) >> 3);
    v10 = v5 + 3;
    if ((v5 + 3) >= 8)
    {
      goto LABEL_14;
    }

LABEL_24:
    if (v10 < 4)
    {
      goto LABEL_26;
    }

    goto LABEL_25;
  }

  result = 0;
  v10 = v5 + 3;
  if ((v5 + 3) < 8)
  {
    goto LABEL_24;
  }

LABEL_14:
  result += ((v1 + 7) >> 3) + ((v1 + 7) >> 3) * ((v9 * (v10 >> 3) + 7) >> 3);
LABEL_25:
  result += ((v1 + 3) >> 3) + ((v1 + 3) >> 3) * ((v9 * (v10 >> 2) + 7) >> 3);
LABEL_26:
  v12 = v5 + 1;
  if ((v5 + 1) >= 4)
  {
    result += ((v1 + 3) >> 2) + ((v1 + 3) >> 2) * ((v9 * (v12 >> 2) + 7) >> 3);
  }

  else if (v12 < 2)
  {
    if (v5 < 2)
    {
      goto LABEL_29;
    }

LABEL_37:
    result += ((v1 + 1) >> 1) + ((v1 + 1) >> 1) * (((v5 >> 1) * v9 + 7) >> 3);
    goto LABEL_38;
  }

  result += ((v1 + 1) >> 2) + ((v1 + 1) >> 2) * ((v9 * (v12 >> 1) + 7) >> 3);
  if (v5 >= 2)
  {
    goto LABEL_37;
  }

LABEL_29:
  if (v5)
  {
LABEL_38:
    result += (v1 >> 1) + (v1 >> 1) * ((v5 * v9 + 7) >> 3);
  }

  return result;
}

uint64_t sub_10038BFCC(uint64_t result)
{
  v1 = result;
  if (result)
  {
    *(result + 1124) = 34;
    v2 = 1145980233;
    sub_1003892BC(result);
    v1[132] = 1229278788;
    sub_1003764B8(v1);
    sub_1003764EC(v1, &v2, 4);
    v1[281] = 130;
    result = sub_1003892BC(v1);
  }

  v1[73] |= 0x10u;
  return result;
}

uint64_t sub_10038C0DC(uint64_t a1, int a2)
{
  v2 = a2;
  if (a2 >= 4)
  {
    v3 = a1;
    sub_10037AB5C(a1, "Invalid sRGB rendering intent specified");
    a1 = v3;
  }

  v5 = v2;
  return sub_10038B050(a1, 1934772034, &v5, 1uLL);
}

uint64_t sub_10038C138(uint64_t a1, unsigned __int8 *a2, uint64_t a3)
{
  if (!a3)
  {
    sub_10037A948(a1, "No profile for iCCP chunk");
  }

  v5 = _byteswap_ulong(*a3);
  if (v5 <= 0x83)
  {
    sub_10037A948(a1, "ICC profile too short");
  }

  v6 = (*(a3 + 3) & 3) != 0 && *(a3 + 8) >= 4u;
  if (v6)
  {
    sub_10037A948(a1, "ICC profile length invalid (not a multiple of 4)");
  }

  memset(&v21[2], 0, 496);
  v7 = sub_100388740(a1, a2, buf);
  if (!v7)
  {
    sub_10037A948(a1, "iCCP: invalid keyword");
  }

  buf[v7 + 1] = 0;
  v8 = (v7 + 2);
  v21[0] = a3;
  v21[1] = v5;
  LODWORD(v21[2]) = 0;
  result = sub_10038C44C(a1, 1766015824, v21, v8);
  if (result)
  {
    sub_10037A948(a1, *(a1 + 360));
  }

  v10 = v21[2];
  if (a1)
  {
    *(a1 + 1124) = 34;
    LOBYTE(v23) = (v10 + v8) >> 24;
    BYTE1(v23) = (v10 + v8) >> 16;
    BYTE2(v23) = (v10 + v8) >> 8;
    HIBYTE(v23) = v10 + v8;
    v24 = 1346585449;
    sub_1003892BC(a1);
    *(a1 + 528) = 1766015824;
    sub_1003764B8(a1);
    result = sub_1003764EC(a1, &v24, 4);
    *(a1 + 1124) = 66;
    if (v8)
    {
      sub_1003892BC(a1);
      result = sub_1003764EC(a1, buf, v8);
    }

    v11 = v21[2];
    v12 = &v21[2] + 4;
    v13 = *(a1 + 424);
    if (LODWORD(v21[2]) <= 0x400)
    {
      v14 = LODWORD(v21[2]);
    }

    else
    {
      v14 = 1024;
    }

    if (v14)
    {
LABEL_16:
      sub_1003892BC(a1);
      result = sub_1003764EC(a1, v12, v14);
    }

    while (1)
    {
      v11 -= v14;
      v15 = v11 == 0;
      if (!v11 || v13 == 0)
      {
        break;
      }

      v17 = *(a1 + 432);
      v12 = (v13 + 1);
      v13 = *v13;
      if (v17 >= v11)
      {
        v14 = v11;
      }

      else
      {
        v14 = v17;
      }

      if (v14)
      {
        goto LABEL_16;
      }
    }
  }

  else
  {
    if (LODWORD(v21[2]) < 0x401 || (v18 = MEMORY[0x1A8]) == 0)
    {
      if (LODWORD(v21[2]) <= 0x400)
      {
        return result;
      }

LABEL_47:
      sub_10037A948(a1, "error writing ancillary chunked compressed data");
    }

    v19 = LODWORD(v21[2]) - 1024;
    do
    {
      v6 = v19 >= MEMORY[0x1B0];
      v19 -= MEMORY[0x1B0];
      v20 = v19 != 0 && v6;
      if (!v6)
      {
        v19 = 0;
      }

      v15 = !v20;
      if (!v20)
      {
        break;
      }

      v18 = *v18;
    }

    while (v18);
  }

  if (!v15)
  {
    goto LABEL_47;
  }

  if (a1)
  {
    *(a1 + 1124) = 130;
    v23 = bswap32(*(a1 + 580));
    return sub_1003892BC(a1);
  }

  return result;
}

uint64_t sub_10038C44C(uint64_t a1, int a2, uint64_t a3, int a4)
{
  result = sub_10038BA98(a1, a2, *(a3 + 8));
  if (result)
  {
    return result;
  }

  v8 = (a1 + 424);
  v9 = *(a3 + 8);
  *(a1 + 312) = *a3;
  *(a1 + 336) = a3 + 20;
  v10 = 1024;
  *(a1 + 344) = 1024;
  while (1)
  {
    if (v9 >= 0xFFFFFFFF)
    {
      v13 = 0xFFFFFFFFLL;
    }

    else
    {
      v13 = v9;
    }

    v9 -= v13;
    *(a1 + 320) = v13;
    if (*(a1 + 344))
    {
      goto LABEL_5;
    }

    if (v10 + a4 < 0)
    {
      goto LABEL_14;
    }

    v14 = *v8;
    if (!*v8)
    {
      break;
    }

LABEL_4:
    *(a1 + 336) = v14 + 1;
    v11 = *(a1 + 432);
    *(a1 + 344) = v11;
    v10 += v11;
    v8 = v14;
LABEL_5:
    v12 = deflate((a1 + 312), 4 * (v9 == 0));
    v9 += *(a1 + 320);
    *(a1 + 320) = 0;
    if (v12)
    {
      goto LABEL_15;
    }
  }

  v14 = sub_10037BB9C(a1, *(a1 + 432) + 8);
  if (v14)
  {
    *v14 = 0;
    *v8 = v14;
    goto LABEL_4;
  }

LABEL_14:
  v12 = 4294967292;
LABEL_15:
  v15 = v10 - *(a1 + 344);
  *(a1 + 344) = 0;
  *(a3 + 16) = v15;
  if ((v15 + a4) >= 0x7FFFFFFF)
  {
    *(a1 + 360) = "compressed data too long";
    *(a1 + 304) = 0;
    return 4294967292;
  }

  v16 = v12;
  sub_100376F34(a1, v12);
  result = v16;
  *(a1 + 304) = 0;
  if (v16 == 1 && !v9)
  {
    v17 = *(a3 + 8);
    if (v17 > 0x4000)
    {
      return 0;
    }

    result = 0;
    v18 = *(a3 + 20);
    if ((v18 & 0xF) == 8 && (v18 & 0xF0) <= 0x70)
    {
      v19 = v18 >> 4;
      v20 = 128 << (*(a3 + 20) >> 4);
      if (v17 <= v20)
      {
        v21 = ((v19 & 0xF) << 12) | 0x800;
        v22 = (v18 & 0xF0) + 8;
        v23 = v19 - 1;
        do
        {
          v21 -= 4096;
          v22 -= 16;
          if (v23-- == 0)
          {
            break;
          }

          v20 = v20 >> 1;
        }

        while (v17 <= v20);
        result = 0;
        *(a3 + 20) = v22;
        *(a3 + 21) = (*(a3 + 21) & 0xE0 | ((*(a3 + 21) & 0xE0) - 31 * (((*(a3 + 21) & 0xE0u) + v21) / 0x1F))) ^ 0x1F;
      }

      else
      {
        return 0;
      }
    }
  }

  return result;
}

uint64_t sub_10038C6A8(uint64_t a1, uint64_t a2)
{
  v4 = (a2 + 8);
  if (*(a2 + 8) == 8)
  {
    v5 = 6;
  }

  else
  {
    v5 = 10;
  }

  v6 = *(a2 + 24);
  result = sub_100388740(a1, *a2, buf);
  if (!result)
  {
    sub_10037A948(a1, "sPLT: invalid keyword");
  }

  if (!a1)
  {
    v16 = *(a2 + 24);
    if (v16 <= 0)
    {
      goto LABEL_53;
    }

    v17 = *(a2 + 16);
    v18 = v17 + 10 * v16;
    v19 = &v17[1] + 2;
    if (v18 > &v17[1] + 2)
    {
      v19 = v18;
    }

    v20 = (v19 - 10);
    if (v20 == v17)
    {
      v21 = *(a2 + 16);
    }

    else
    {
      v21 = v17 + 1;
    }

    v22 = v20 - v21;
    if (v20 == v17)
    {
      v23 = v22 / 0xA;
    }

    else
    {
      v23 = v22 / 0xA + 1;
    }

    v24 = v23 + 1;
    if (*(a2 + 8) == 8)
    {
      if (v23 < 0x1F)
      {
        goto LABEL_59;
      }

      if (v39 < &v17[1] + 10 * v23 + 2 && v17 < (&v40 + 2))
      {
        goto LABEL_59;
      }

      v26 = (v17 + 10 * (v24 & 0x7FFFFFFFFFFFFFF0));
      v27 = v17 - 20;
      v28 = v24 & 0x7FFFFFFFFFFFFFF0;
      do
      {
        v27 += 20;
        v28 -= 16;
      }

      while (v28);
      v29 = *v27[18].i8;
      v39[0] = BYTE6(*&v27[18]);
      v39[1] = BYTE8(v29);
      v39[2] = BYTE10(v29);
      v39[3] = BYTE12(v29);
      LOBYTE(v40) = HIBYTE(v29);
      BYTE1(v40) = BYTE14(v29);
      v17 = v26;
      if (v24 != (v24 & 0x7FFFFFFFFFFFFFF0))
      {
LABEL_59:
        do
        {
          *v39 = vuzp1_s8(*v17, *v17).u32[0];
          LOWORD(v40) = bswap32(v17[1].u16[0]) >> 16;
          v17 = (v17 + 10);
        }

        while (v17 < v18);
      }

LABEL_53:
      if (!a1)
      {
        return result;
      }

      goto LABEL_54;
    }

    if (v23 >= 7 && (v39 >= &v17[1] + 10 * v23 + 2 || v17 >= &v42))
    {
      if (v23 >= 0xF)
      {
        v31 = v24 & 0x7FFFFFFFFFFFFFF0;
        v36 = v17 - 20;
        v37 = v24 & 0x7FFFFFFFFFFFFFF0;
        do
        {
          v36 += 20;
          v37 -= 16;
        }

        while (v37);
        v38 = *v36[18].i8;
        v39[1] = BYTE6(*&v36[18]);
        v39[0] = BYTE7(v38);
        v39[2] = BYTE9(v38);
        v39[3] = BYTE8(v38);
        LOBYTE(v40) = BYTE11(v38);
        BYTE1(v40) = BYTE10(v38);
        BYTE2(v40) = BYTE13(v38);
        HIBYTE(v40) = BYTE12(v38);
        LOBYTE(v41) = HIBYTE(v38);
        HIBYTE(v41) = BYTE14(v38);
        if (v24 == v31)
        {
          goto LABEL_53;
        }

        if ((v24 & 8) == 0)
        {
          v17 = (v17 + 10 * v31);
          goto LABEL_52;
        }
      }

      else
      {
        v31 = 0;
      }

      v32 = (v17 + 10 * (v24 & 0x7FFFFFFFFFFFFFF8));
      v33 = &v17[-10] + 10 * v31;
      v34 = v31 - (v24 & 0x7FFFFFFFFFFFFFF8);
      do
      {
        v33 += 80;
        v34 += 8;
      }

      while (v34);
      v35 = *(v33 + 64);
      v39[0] = HIBYTE(*(v33 + 64));
      v39[1] = BYTE6(v35);
      v39[2] = BYTE9(v35);
      v39[3] = BYTE8(v35);
      LOBYTE(v40) = BYTE11(v35);
      BYTE1(v40) = BYTE10(v35);
      BYTE2(v40) = BYTE13(v35);
      HIBYTE(v40) = BYTE12(v35);
      LOBYTE(v41) = HIBYTE(v35);
      HIBYTE(v41) = BYTE14(v35);
      v17 = v32;
      if (v24 == (v24 & 0x7FFFFFFFFFFFFFF8))
      {
        goto LABEL_53;
      }
    }

    do
    {
LABEL_52:
      *v39 = bswap32(v17->u16[0]) >> 16;
      *&v39[2] = bswap32(v17->u16[1]) >> 16;
      LOWORD(v40) = bswap32(v17->u16[2]) >> 16;
      HIWORD(v40) = bswap32(v17->u16[3]) >> 16;
      v41 = bswap32(v17[1].u16[0]) >> 16;
      v17 = (v17 + 10);
    }

    while (v17 < v18);
    goto LABEL_53;
  }

  *(a1 + 1124) = 34;
  v39[0] = (result + v6 * v5 + 2) >> 24;
  v39[1] = (result + v6 * v5 + 2) >> 16;
  v39[2] = (result + v6 * v5 + 2) >> 8;
  v39[3] = result + v6 * v5 + 2;
  v40 = 1414287475;
  v8 = result;
  sub_1003892BC(a1);
  *(a1 + 528) = 1934642260;
  sub_1003764B8(a1);
  sub_1003764EC(a1, &v40, 4);
  *(a1 + 1124) = 66;
  if (v8 != -1)
  {
    sub_1003892BC(a1);
    sub_1003764EC(a1, buf, (v8 + 1));
  }

  sub_1003892BC(a1);
  sub_1003764EC(a1, v4, 1);
  if (*(a2 + 24) > 0)
  {
    v9 = (*(a2 + 16) + 4);
    do
    {
      v15 = v9 - 2;
      if (*v4 == 8)
      {
        v39[0] = *(v9 - 2);
        v39[1] = *(v9 - 2);
        v39[2] = *v9;
        v10 = v9[1];
        v11 = &v40;
        v12 = &v39[3];
        v13 = &v40 + 1;
      }

      else
      {
        *v39 = __rev16(*(v9 - 2));
        *&v39[2] = bswap32(*(v9 - 1)) >> 16;
        LOWORD(v40) = bswap32(*v9) >> 16;
        v10 = v9[1];
        BYTE2(v40) = HIBYTE(v10);
        v12 = &v40 + 3;
        v11 = &v41;
        v13 = &v41 + 1;
      }

      *v12 = v10;
      v14 = v9[2];
      *v11 = HIBYTE(v14);
      *v13 = v14;
      sub_1003892BC(a1);
      result = sub_1003764EC(a1, v39, v5);
      v9 += 5;
    }

    while ((v15 + 5) < *(a2 + 16) + 10 * *(a2 + 24));
    goto LABEL_53;
  }

LABEL_54:
  *(a1 + 1124) = 130;
  return sub_1003892BC(a1);
}

uint64_t sub_10038CC34(uint64_t a1, unsigned __int8 *a2, int a3)
{
  if ((a3 & 2) != 0)
  {
    if (a3 == 3)
    {
      v4 = 8;
      v5 = *a2;
      if (*a2)
      {
        v6 = v5 <= 8;
      }

      else
      {
        v6 = 0;
      }

      if (!v6)
      {
        goto LABEL_24;
      }
    }

    else
    {
      v4 = *(a1 + 609);
      v5 = *a2;
      if (*a2)
      {
        v7 = v4 >= v5;
      }

      else
      {
        v7 = 0;
      }

      if (!v7)
      {
        goto LABEL_24;
      }
    }

    v8 = a2[1];
    if (a2[1])
    {
      if (v4 >= v8)
      {
        v9 = a2[2];
        if (a2[2])
        {
          if (v4 >= v9)
          {
            v12[0] = v5;
            v12[1] = v8;
            v3 = 3;
            v12[2] = v9;
            if ((a3 & 4) == 0)
            {
              return sub_10038B050(a1, 1933723988, v12, v3);
            }

            goto LABEL_22;
          }
        }
      }
    }
  }

  else if (a2[3] && a2[3] <= *(a1 + 609))
  {
    v12[0] = a2[3];
    v3 = 1;
    if ((a3 & 4) == 0)
    {
      return sub_10038B050(a1, 1933723988, v12, v3);
    }

LABEL_22:
    v10 = a2[4];
    if (!a2[4] || v10 > *(a1 + 609))
    {
      goto LABEL_24;
    }

    v12[v3++] = v10;
    return sub_10038B050(a1, 1933723988, v12, v3);
  }

LABEL_24:

  return sub_10037AB5C(a1, "Invalid sBIT depth specified");
}

uint64_t sub_10038CD34(uint64_t a1, unsigned int *a2)
{
  sub_100376E80(&v5, a2[6]);
  sub_100376E80(&v6, a2[7]);
  sub_100376E80(&v7, *a2);
  sub_100376E80(&v8, a2[1]);
  sub_100376E80(&v9, a2[2]);
  sub_100376E80(&v10, a2[3]);
  sub_100376E80(&v11, a2[4]);
  sub_100376E80(&v12, a2[5]);
  return sub_10038B050(a1, 1665684045, &v5, 0x20uLL);
}

uint64_t sub_10038CE10(uint64_t a1, Bytef *a2, unsigned __int16 *a3, int a4, int a5)
{
  if (a5)
  {
    if (a5 == 2)
    {
      v7 = a3[1];
      v8 = v7 >> 8;
      v15[0] = __rev16(v7);
      v9 = a3[2];
      v10 = v9 >> 8;
      v15[1] = __rev16(v9);
      v11 = a3[3];
      v15[2] = __rev16(v11);
      v12 = v10 | v8 | (v11 >> 8);
      if (*(a1 + 608) == 8 && v12 != 0)
      {
        v5 = "Ignoring attempt to write 16-bit tRNS chunk when bit_depth is 8";

        return sub_10037B2B8(a1, v5);
      }

      return sub_10038B050(a1, 1951551059, v15, 6uLL);
    }

    else
    {
      if (a5 != 3)
      {
        v5 = "Can't write tRNS with an alpha channel";

        return sub_10037B2B8(a1, v5);
      }

      if (a4 < 1 || *(a1 + 592) < a4)
      {
        v5 = "Invalid number of transparent colors specified";

        return sub_10037B2B8(a1, v5);
      }

      return sub_10038B050(a1, 1951551059, a2, a4);
    }
  }

  else
  {
    v14 = a3[4];
    if (1 << *(a1 + 608) <= v14)
    {
      v5 = "Ignoring attempt to write tRNS chunk out-of-range for bit_depth";

      return sub_10037B2B8(a1, v5);
    }

    v15[0] = __rev16(v14);
    return sub_10038B050(a1, 1951551059, v15, 2uLL);
  }
}

uint64_t sub_10038CFAC(uint64_t a1, unsigned __int8 *a2, int a3)
{
  if (a3 == 3)
  {
    if (!*(a1 + 592) && (*(a1 + 976) & 1) != 0)
    {
      LOBYTE(v3) = *a2;
    }

    else
    {
      v3 = *a2;
      if (*(a1 + 592) <= v3)
      {
        v4 = "Invalid background palette index";

        return sub_10037AB5C(a1, v4);
      }
    }

    LOBYTE(v14[0]) = v3;
    return sub_10038B050(a1, 1649100612, v14, 1uLL);
  }

  else if ((a3 & 2) != 0)
  {
    v7 = *(a2 + 1);
    v8 = v7 >> 8;
    v14[0] = __rev16(v7);
    v9 = *(a2 + 2);
    v10 = v9 >> 8;
    v14[1] = __rev16(v9);
    v11 = *(a2 + 3);
    v14[2] = __rev16(v11);
    v12 = v10 | v8 | (v11 >> 8);
    if (*(a1 + 608) == 8 && v12 != 0)
    {
      v4 = "Ignoring attempt to write 16-bit bKGD chunk when bit_depth is 8";

      return sub_10037AB5C(a1, v4);
    }

    return sub_10038B050(a1, 1649100612, v14, 6uLL);
  }

  else
  {
    v6 = *(a2 + 4);
    if (1 << *(a1 + 608) <= v6)
    {
      v4 = "Ignoring attempt to write bKGD chunk out-of-range for bit_depth";

      return sub_10037AB5C(a1, v4);
    }

    v14[0] = __rev16(v6);
    return sub_10038B050(a1, 1649100612, v14, 2uLL);
  }
}

uint64_t sub_10038D120(uint64_t result, Bytef *a2, int a3)
{
  LODWORD(v3) = a3;
  v4 = a2;
  v5 = result;
  if (!result)
  {
    if (a3 > 0)
    {
      buf = a2[a3 - 1];
    }

LABEL_8:
    if (!v5)
    {
      return result;
    }

    goto LABEL_9;
  }

  *(result + 1124) = 34;
  LOBYTE(v8) = HIBYTE(a3);
  BYTE1(v8) = BYTE2(a3);
  BYTE2(v8) = BYTE1(a3);
  HIBYTE(v8) = a3;
  v9 = 1716082789;
  sub_1003892BC(result);
  v5[132] = 1700284774;
  sub_1003764B8(v5);
  sub_1003764EC(v5, &v9, 4);
  v5[281] = 66;
  if (v3 > 0)
  {
    v3 = v3;
    do
    {
      v6 = *v4++;
      buf = v6;
      sub_1003892BC(v5);
      result = sub_1003764EC(v5, &buf, 1);
      --v3;
    }

    while (v3);
    goto LABEL_8;
  }

LABEL_9:
  v5[281] = 130;
  v8 = bswap32(v5[145]);
  return sub_1003892BC(v5);
}

uint64_t sub_10038D274(uint64_t a1, unsigned __int16 *a2, unsigned int a3)
{
  if (*(a1 + 592) >= a3)
  {
    LODWORD(v5) = a3;
    *(a1 + 1124) = 34;
    LOBYTE(v9) = a3 >> 23;
    BYTE1(v9) = a3 >> 15;
    BYTE2(v9) = a3 >> 7;
    HIBYTE(v9) = 2 * a3;
    v10 = 1414744424;
    sub_1003892BC(a1);
    *(a1 + 528) = 1749635924;
    sub_1003764B8(a1);
    sub_1003764EC(a1, &v10, 4);
    *(a1 + 1124) = 66;
    if (v5 >= 1)
    {
      v5 = v5;
      do
      {
        v7 = *a2++;
        *buf = bswap32(v7) >> 16;
        sub_1003892BC(a1);
        sub_1003764EC(a1, buf, 2);
        --v5;
      }

      while (v5);
    }

    *(a1 + 1124) = 130;
    v9 = bswap32(*(a1 + 580));
    return sub_1003892BC(a1);
  }

  else
  {

    return sub_10037AB5C(a1, "Invalid number of histogram entries specified");
  }
}

unint64_t sub_10038D408(_DWORD *a1, unsigned __int8 *a2, char *a3)
{
  result = sub_100388740(a1, a2, v11);
  if (!result)
  {
    sub_10037A948(a1, "tEXt: invalid keyword");
  }

  v6 = result;
  if (a3)
  {
    if (!*a3)
    {
      v7 = 0;
      if (!a1)
      {
        return result;
      }

      goto LABEL_8;
    }

    result = strlen(a3);
    v7 = result;
    if (result > (2147483646 - v6))
    {
      sub_10037A948(a1, "tEXt: text too long");
    }
  }

  else
  {
    v7 = 0;
  }

  if (!a1)
  {
    return result;
  }

LABEL_8:
  v8 = __CFADD__(v6, 1);
  v9 = (v6 + 1);
  v10 = v8;
  a1[281] = 34;
  LOBYTE(v12) = (v9 + v7) >> 24;
  BYTE1(v12) = (v9 + v7) >> 16;
  BYTE2(v12) = (v9 + v7) >> 8;
  HIBYTE(v12) = v9 + v7;
  v13 = 1951942004;
  sub_1003892BC(a1);
  a1[132] = 1950701684;
  sub_1003764B8(a1);
  sub_1003764EC(a1, &v13, 4);
  a1[281] = 66;
  if ((v10 & 1) == 0)
  {
    sub_1003892BC(a1);
    sub_1003764EC(a1, v11, v9);
  }

  if (a3)
  {
    if (v7)
    {
      sub_1003892BC(a1);
      sub_1003764EC(a1, a3, v7);
    }
  }

  a1[281] = 130;
  v12 = bswap32(a1[145]);
  return sub_1003892BC(a1);
}

unint64_t sub_10038D5C8(uint64_t a1, unsigned __int8 *a2, char *a3, int a4)
{
  if (a4)
  {
    if (a4 != -1)
    {
      sub_10037A948(a1, "zTXt: invalid compression type");
    }

    return sub_10038D408(a1, a2, a3);
  }

  memset(&v22[2], 0, 496);
  v7 = sub_100388740(a1, a2, buf);
  if (!v7)
  {
    sub_10037A948(a1, "zTXt: invalid keyword");
  }

  buf[v7 + 1] = 0;
  v8 = (v7 + 2);
  if (a3)
  {
    v9 = strlen(a3);
  }

  else
  {
    v9 = 0;
  }

  v22[0] = a3;
  v22[1] = v9;
  LODWORD(v22[2]) = 0;
  result = sub_10038C44C(a1, 2052348020, v22, v8);
  if (result)
  {
    sub_10037A948(a1, *(a1 + 360));
  }

  v10 = v22[2];
  if (a1)
  {
    *(a1 + 1124) = 34;
    LOBYTE(v24) = (v10 + v8) >> 24;
    BYTE1(v24) = (v10 + v8) >> 16;
    BYTE2(v24) = (v10 + v8) >> 8;
    HIBYTE(v24) = v10 + v8;
    v25 = 1951945850;
    sub_1003892BC(a1);
    *(a1 + 528) = 2052348020;
    sub_1003764B8(a1);
    result = sub_1003764EC(a1, &v25, 4);
    *(a1 + 1124) = 66;
    if (v8)
    {
      sub_1003892BC(a1);
      result = sub_1003764EC(a1, buf, v8);
    }

    v11 = v22[2];
    v12 = &v22[2] + 4;
    v13 = *(a1 + 424);
    if (LODWORD(v22[2]) <= 0x400)
    {
      v14 = LODWORD(v22[2]);
    }

    else
    {
      v14 = 1024;
    }

    if (v14)
    {
LABEL_18:
      sub_1003892BC(a1);
      result = sub_1003764EC(a1, v12, v14);
    }

    while (1)
    {
      v11 -= v14;
      v15 = v11 == 0;
      if (!v11 || v13 == 0)
      {
        break;
      }

      v17 = *(a1 + 432);
      v12 = (v13 + 1);
      v13 = *v13;
      if (v17 >= v11)
      {
        v14 = v11;
      }

      else
      {
        v14 = v17;
      }

      if (v14)
      {
        goto LABEL_18;
      }
    }
  }

  else
  {
    if (LODWORD(v22[2]) < 0x401 || (v18 = MEMORY[0x1A8]) == 0)
    {
      if (LODWORD(v22[2]) <= 0x400)
      {
        return result;
      }

LABEL_47:
      sub_10037A948(a1, "error writing ancillary chunked compressed data");
    }

    v19 = LODWORD(v22[2]) - 1024;
    do
    {
      v20 = v19 >= MEMORY[0x1B0];
      v19 -= MEMORY[0x1B0];
      v21 = v19 != 0 && v20;
      if (!v20)
      {
        v19 = 0;
      }

      v15 = !v21;
      if (!v21)
      {
        break;
      }

      v18 = *v18;
    }

    while (v18);
  }

  if (!v15)
  {
    goto LABEL_47;
  }

  if (a1)
  {
    *(a1 + 1124) = 130;
    v24 = bswap32(*(a1 + 580));
    return sub_1003892BC(a1);
  }

  return result;
}

unint64_t sub_10038D8E0(uint64_t a1, int a2, unsigned __int8 *a3, char *a4, char *a5, char *a6)
{
  memset(&v35[2], 0, 496);
  v11 = sub_100388740(a1, a3, buf);
  if (!v11)
  {
    sub_10037A948(a1, "iTXt: invalid keyword");
  }

  v12 = a2 + 1;
  if ((a2 + 1) >= 4)
  {
    sub_10037A948(a1, "iTXt: invalid compression");
  }

  v13 = v11;
  buf[v11 + 1] = 0x1000100u >> (8 * v12);
  buf[v11 + 2] = 0;
  v14 = (v11 + 3);
  if (a4)
  {
    v15 = a4;
  }

  else
  {
    v15 = "";
  }

  v16 = strlen(v15) + 1;
  if (!a5)
  {
    a5 = "";
  }

  v17 = strlen(a5) + 1;
  if (!a6)
  {
    a6 = "";
  }

  v18 = v14 + v16;
  if (v16 > (2147483644 - v13))
  {
    v18 = 0x7FFFFFFF;
  }

  v19 = v18 ^ 0x7FFFFFFFu;
  v20 = v18 + v17;
  if (v17 <= v19)
  {
    v21 = v20;
  }

  else
  {
    v21 = 0x7FFFFFFF;
  }

  result = strlen(a6);
  v35[0] = a6;
  v35[1] = result;
  LODWORD(v35[2]) = 0;
  if (v12)
  {
    result = sub_10038C44C(a1, 1767135348, v35, v21);
    if (result)
    {
      sub_10037A948(a1, *(a1 + 360));
    }

    if (a1)
    {
      v23 = LODWORD(v35[2]) + v21;
LABEL_22:
      *(a1 + 1124) = 34;
      LOBYTE(v37) = HIBYTE(v23);
      BYTE1(v37) = BYTE2(v23);
      BYTE2(v37) = BYTE1(v23);
      HIBYTE(v37) = v23;
      v38 = 1951945833;
      sub_1003892BC(a1);
      *(a1 + 528) = 1767135348;
      sub_1003764B8(a1);
      sub_1003764EC(a1, &v38, 4);
      *(a1 + 1124) = 66;
      if (v14)
      {
        sub_1003892BC(a1);
        sub_1003764EC(a1, buf, v14);
      }

      if (v16)
      {
        sub_1003892BC(a1);
        sub_1003764EC(a1, v15, v16);
      }

      if (v17)
      {
        sub_1003892BC(a1);
        sub_1003764EC(a1, a5, v17);
      }

      if ((v12 & 1) == 0)
      {
        v30 = LODWORD(v35[2]);
        if (LODWORD(v35[2]))
        {
          sub_1003892BC(a1);
          sub_1003764EC(a1, a6, v30);
        }

LABEL_46:
        *(a1 + 1124) = 130;
        v37 = bswap32(*(a1 + 580));
        return sub_1003892BC(a1);
      }

      v24 = v35[2];
      v25 = &v35[2] + 4;
      v26 = *(a1 + 424);
      if (LODWORD(v35[2]) <= 0x400)
      {
        v27 = LODWORD(v35[2]);
      }

      else
      {
        v27 = 1024;
      }

      if (v27)
      {
LABEL_33:
        sub_1003892BC(a1);
        sub_1003764EC(a1, v25, v27);
      }

      while (1)
      {
        v24 -= v27;
        if (!v24 || v26 == 0)
        {
          break;
        }

        v29 = *(a1 + 432);
        v25 = (v26 + 1);
        v26 = *v26;
        if (v29 >= v24)
        {
          v27 = v24;
        }

        else
        {
          v27 = v29;
        }

        if (v27)
        {
          goto LABEL_33;
        }
      }

      if (!v24)
      {
        goto LABEL_46;
      }

LABEL_65:
      sub_10037A948(a1, "error writing ancillary chunked compressed data");
    }

    v31 = LODWORD(v35[2]) < 0x401;
    if (LODWORD(v35[2]) >= 0x401)
    {
      v32 = MEMORY[0x1A8];
      if (MEMORY[0x1A8])
      {
        v33 = LODWORD(v35[2]) - 1024;
        do
        {
          v34 = v33 > MEMORY[0x1B0];
          if (v33 >= MEMORY[0x1B0])
          {
            v33 -= MEMORY[0x1B0];
          }

          else
          {
            v33 = 0;
          }

          v31 = !v34;
          if (!v34)
          {
            break;
          }

          v32 = *v32;
        }

        while (v32);
      }
    }

    if (!v31)
    {
      goto LABEL_65;
    }
  }

  else
  {
    if (result > (v21 ^ 0x7FFFFFFFu))
    {
      sub_10037A948(a1, "iTXt: uncompressed text too long");
    }

    LODWORD(v35[2]) = result;
    if (a1)
    {
      v23 = v21 + result;
      goto LABEL_22;
    }
  }

  return result;
}

uint64_t sub_10038DD58(uint64_t a1, unsigned int a2, unsigned int a3, int a4)
{
  v4 = a4;
  if (a4 >= 2)
  {
    v7 = a2;
    sub_10037AB5C(a1, "Unrecognized unit type for oFFs chunk");
    a2 = v7;
  }

  sub_100376E80(&v9, a2);
  sub_100376E80(&v10, a3);
  v11 = v4;
  return sub_10038B050(a1, 1866876531, &v9, 9uLL);
}

void sub_10038DE14(uint64_t a1, unsigned __int8 *a2, unsigned int a3, unsigned int a4, int a5, int a6, const char *a7, Bytef **a8)
{
  if (a5 >= 4)
  {
    sub_10037A948(a1, "Unrecognized equation type for pCAL chunk");
  }

  v12 = a5;
  v15 = sub_100388740(a1, a2, buf);
  if (!v15)
  {
    sub_10037A948(a1, "pCAL: invalid keyword");
  }

  v39 = a3;
  v40 = a4;
  v41 = v12;
  v16 = (v15 + 1);
  v42 = a7;
  v17 = strlen(a7);
  if (a6)
  {
    v18 = v17 + 1;
  }

  else
  {
    v18 = v17;
  }

  v38 = v18;
  v19 = v16 + v18 + 10;
  v20 = sub_10037BB44(a1, 8 * a6);
  v21 = a6;
  v22 = (a6 - 1);
  v43 = v20;
  if (a6 >= 1)
  {
    v23 = a6;
    v24 = a8;
    v25 = v20;
    do
    {
      v26 = *v24++;
      v27 = strlen(v26);
      v28 = v22-- != 0;
      if (v28)
      {
        v29 = v27 + 1;
      }

      else
      {
        v29 = v27;
      }

      *v25++ = v29;
      v19 += v27 + v28;
      --v23;
    }

    while (v23);
  }

  if (a1)
  {
    *(a1 + 1124) = 34;
    LOBYTE(v45) = HIBYTE(v19);
    BYTE1(v45) = BYTE2(v19);
    BYTE2(v45) = BYTE1(v19);
    HIBYTE(v45) = v19;
    v46 = 1279345520;
    sub_1003892BC(a1);
    *(a1 + 528) = 1883455820;
    sub_1003764B8(a1);
    sub_1003764EC(a1, &v46, 4);
    *(a1 + 1124) = 66;
    v30 = v42;
    v31 = v41;
    v32 = v39;
    if (v16)
    {
      sub_1003892BC(a1);
      sub_1003764EC(a1, buf, v16);
    }
  }

  else
  {
    v30 = v42;
    v31 = v41;
    v32 = v39;
  }

  sub_100376E80(&v45, v32);
  sub_100376E80(&v46, v40);
  v47 = v31;
  v48 = a6;
  if (a1)
  {
    sub_1003892BC(a1);
    sub_1003764EC(a1, &v45, 10);
    if (v30 && v38)
    {
      sub_1003892BC(a1);
      sub_1003764EC(a1, v30, v38);
    }

    if (a6 >= 1)
    {
      v33 = v43;
      do
      {
        v34 = *a8;
        v36 = *v33++;
        v35 = v36;
        if (*a8)
        {
          v37 = v35 == 0;
        }

        else
        {
          v37 = 1;
        }

        if (!v37)
        {
          sub_1003892BC(a1);
          sub_1003764EC(a1, v34, v35);
        }

        ++a8;
        --v21;
      }

      while (v21);
    }

    sub_10037BAB4(a1, v43);
    *(a1 + 1124) = 130;
    sub_1003892BC(a1);
  }

  else
  {
    sub_10037BAB4(0, v43);
  }
}

uint64_t sub_10038E120(uint64_t a1, Bytef a2, char *__s, const char *a4)
{
  v7 = strlen(__s);
  v8 = strlen(a4);
  v9 = v7 + v8 + 2;
  if (v9 < 0x41)
  {
    v11 = v8;
    v12[0] = a2;
    __memcpy_chk();
    memcpy(&v12[v7 + 2], a4, v11);
    return sub_10038B050(a1, 1933787468, v12, v9);
  }

  else
  {

    return sub_10037AB5C(a1, "Can't write sCAL (buffer too small)");
  }
}

uint64_t sub_10038E258(uint64_t a1, int a2, int a3, int a4)
{
  v4 = a4;
  if (a4 >= 2)
  {
    v7 = a1;
    sub_10037AB5C(a1, "Unrecognized unit type for pHYs chunk");
    a1 = v7;
  }

  v9[0] = HIBYTE(a2);
  v9[1] = BYTE2(a2);
  v9[2] = BYTE1(a2);
  v9[3] = a2;
  v9[4] = HIBYTE(a3);
  v9[5] = BYTE2(a3);
  v9[6] = BYTE1(a3);
  v9[7] = a3;
  v9[8] = v4;
  return sub_10038B050(a1, 1883789683, v9, 9uLL);
}

uint64_t sub_10038E328(uint64_t a1, unsigned __int16 *a2)
{
  v4 = *(a2 + 2);
  if ((v4 - 13) >= 0xFFFFFFF4 && (v5 = *(a2 + 3), (v5 - 32) >= 0xFFFFFFE1) && (v6 = *(a2 + 4), v6 <= 0x17) && (v7 = *(a2 + 6), v7 < 0x3D))
  {
    v11 = v2;
    v12 = v3;
    v9 = *a2;
    v10[0] = HIBYTE(*a2);
    v10[1] = v9;
    v10[2] = v4;
    v10[3] = v5;
    v10[4] = v6;
    v10[5] = *(a2 + 5);
    v10[6] = v7;
    return sub_10038B050(a1, 1950960965, v10, 7uLL);
  }

  else
  {

    return sub_10037AB5C(a1, "Invalid time specified for tIME chunk");
  }
}

void *sub_10038E3D0(uint64_t a1)
{
  v2 = *(a1 + 609) * *(a1 + 612);
  v3 = *(a1 + 496);
  v4 = v3 * v2 + 7;
  v5 = v3 * (v2 >> 3);
  v6 = v4 >> 3;
  if (v2 >= 8)
  {
    v7 = v5;
  }

  else
  {
    v7 = v6;
  }

  *(a1 + 615) = *(a1 + 610);
  *(a1 + 614) = v2;
  result = sub_10037BB44(a1, v7 + 1);
  *(a1 + 544) = result;
  *result = 0;
  v9 = *(a1 + 606);
  if (*(a1 + 500) == 1)
  {
    v9 &= 0x1Fu;
  }

  if (*(a1 + 496) == 1)
  {
    v9 &= 0x2Fu;
  }

  if (v9)
  {
    v10 = v9;
  }

  else
  {
    v10 = 8;
  }

  *(a1 + 606) = v10;
  if (v10 >= 0x10)
  {
    if (!*(a1 + 552))
    {
      result = sub_10037BB44(a1, v7 + 1);
      *(a1 + 552) = result;
      if (((v10 >> 5) & 1) + (v10 >> 7) + ((v10 >> 4) & 1) + ((v10 >> 6) & 1) >= 2)
      {
        result = sub_10037BB44(a1, v7 + 1);
        *(a1 + 560) = result;
      }
    }

    if (v10 >= 0x20)
    {
      result = sub_10037BAD4(a1, v7 + 1);
      *(a1 + 536) = result;
    }
  }

  if (*(a1 + 604))
  {
    v11 = *(a1 + 500);
    if ((*(a1 + 300) & 2) == 0)
    {
      *(a1 + 504) = (v11 + 7) >> 3;
      *(a1 + 508) = (*(a1 + 496) + 7) >> 3;
      return result;
    }
  }

  else
  {
    v11 = *(a1 + 500);
  }

  *(a1 + 504) = v11;
  *(a1 + 508) = *(a1 + 496);
  return result;
}

void sub_10038E530(uint64_t a1)
{
  v1 = *(a1 + 524) + 1;
  *(a1 + 524) = v1;
  if (v1 >= *(a1 + 504))
  {
    if (!*(a1 + 604))
    {
      goto LABEL_16;
    }

    *(a1 + 524) = 0;
    v2 = *(a1 + 605);
    if ((*(a1 + 300) & 2) != 0)
    {
      v3 = v2 + 1;
    }

    else
    {
      v3 = v2 + 1;
      if ((v2 + 1) <= 6u)
      {
        v4 = byte_1003EBCB5[(v2 + 1)];
        v5 = *(a1 + 496) + v4 + ~byte_1003EBCAE[(v2 + 1)];
        *(a1 + 508) = v5 / v4;
        v6 = byte_1003EBCA7[(v2 + 1)];
        v7 = *(a1 + 500) + v6 + ~byte_1003EBCA0[(v2 + 1)];
        *(a1 + 504) = v7 / v6;
        if (v5 < v4 || v7 < v6)
        {
          v3 = v2 + 2;
          if ((v2 + 2) <= 6u)
          {
            v13 = byte_1003EBCB5[(v2 + 2)];
            v14 = *(a1 + 496) + v13 + ~byte_1003EBCAE[(v2 + 2)];
            *(a1 + 508) = v14 / v13;
            v15 = byte_1003EBCA7[(v2 + 2)];
            v16 = *(a1 + 500) + v15 + ~byte_1003EBCA0[(v2 + 2)];
            *(a1 + 504) = v16 / v15;
            if (v14 < v13 || v16 < v15)
            {
              v3 = v2 + 3;
              if ((v2 + 3) <= 6u)
              {
                v17 = byte_1003EBCB5[(v2 + 3)];
                v18 = *(a1 + 496) + v17 + ~byte_1003EBCAE[(v2 + 3)];
                *(a1 + 508) = v18 / v17;
                v19 = byte_1003EBCA7[(v2 + 3)];
                v20 = *(a1 + 500) + v19 + ~byte_1003EBCA0[(v2 + 3)];
                *(a1 + 504) = v20 / v19;
                if (v18 < v17 || v20 < v19)
                {
                  v3 = v2 + 4;
                  if ((v2 + 4) <= 6u)
                  {
                    v21 = byte_1003EBCB5[(v2 + 4)];
                    v22 = *(a1 + 496) + v21 + ~byte_1003EBCAE[(v2 + 4)];
                    *(a1 + 508) = v22 / v21;
                    v23 = byte_1003EBCA7[(v2 + 4)];
                    v24 = *(a1 + 500) + v23 + ~byte_1003EBCA0[(v2 + 4)];
                    *(a1 + 504) = v24 / v23;
                    if (v22 < v21 || v24 < v23)
                    {
                      v3 = v2 + 5;
                      if ((v2 + 5) <= 6u)
                      {
                        v25 = byte_1003EBCB5[(v2 + 5)];
                        v26 = *(a1 + 496) + v25 + ~byte_1003EBCAE[(v2 + 5)];
                        *(a1 + 508) = v26 / v25;
                        v27 = byte_1003EBCA7[(v2 + 5)];
                        v28 = *(a1 + 500) + v27 + ~byte_1003EBCA0[(v2 + 5)];
                        *(a1 + 504) = v28 / v27;
                        if (v26 < v25 || v28 < v27)
                        {
                          v3 = v2 + 6;
                          if ((v2 + 6) <= 6u)
                          {
                            v29 = byte_1003EBCB5[(v2 + 6)];
                            v30 = *(a1 + 496) + v29 + ~byte_1003EBCAE[(v2 + 6)];
                            *(a1 + 508) = v30 / v29;
                            v31 = byte_1003EBCA7[(v2 + 6)];
                            v32 = *(a1 + 500) + v31 + ~byte_1003EBCA0[(v2 + 6)];
                            *(a1 + 504) = v32 / v31;
                            if (v30 < v29 || v32 < v31)
                            {
                              v3 = v2 + 7;
                              if (v2 >= 0xF9)
                              {
                                v33 = byte_1003EBCB5[(v2 + 7)];
                                v34 = *(a1 + 496) + v33 + ~byte_1003EBCAE[(v2 + 7)];
                                *(a1 + 508) = v34 / v33;
                                v35 = byte_1003EBCA7[(v2 + 7)];
                                v36 = *(a1 + 500) + v35 + ~byte_1003EBCA0[(v2 + 7)];
                                *(a1 + 504) = v36 / v35;
                                if (v34 < v33 || v36 < v35)
                                {
                                  v3 = v2 + 8;
                                  if ((v2 + 8) <= 6u)
                                  {
                                    *(a1 + 508) = (*(a1 + 496) + byte_1003EBCB5[(v2 + 8)] + ~byte_1003EBCAE[(v2 + 8)]) / byte_1003EBCB5[(v2 + 8)];
                                    *(a1 + 504) = (*(a1 + 500) + byte_1003EBCA7[(v2 + 8)] + ~byte_1003EBCA0[(v2 + 8)]) / byte_1003EBCA7[(v2 + 8)];
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }

    *(a1 + 605) = v3;
    if (v3 <= 6u)
    {
      if (*(a1 + 536))
      {
        v8 = *(a1 + 609) * *(a1 + 612);
        v9 = *(a1 + 496);
        v10 = v8 >= 8;
        v11 = (v9 * v8 + 7) >> 3;
        v12 = v9 * (v8 >> 3);
        if (!v10)
        {
          v12 = v11;
        }

        bzero(*(a1 + 536), v12 + 1);
      }
    }

    else
    {
LABEL_16:
      sub_10038B6F8(a1, 0, 0, 4);
    }
  }
}

unint64_t sub_10038E8FC(unint64_t result, unsigned __int8 *__dst, int a3)
{
  if (a3 > 5)
  {
    return result;
  }

  v4 = result;
  v5 = *(result + 19);
  v6 = *result;
  switch(v5)
  {
    case 4:
      v7 = a3;
      v8 = byte_1003EBCAE[a3];
      if (v6 > v8)
      {
        v23 = byte_1003EBCB5[a3];
        v24 = 4 * v8;
        v25 = byte_1003EBCAE[a3];
        v10 = __dst;
        while (1)
        {
          v26 = 16 * (__dst[v25 >> 1] >> (~v24 & 4));
          v27 = v25 + v23;
          if (v27 >= v6)
          {
            break;
          }

          *v10++ = (__dst[v27 >> 1] >> (~(4 * v23 + v24) & 4)) & 0xF | v26;
          v25 = v27 + v23;
          v24 += 8 * v23;
          if (v25 >= v6)
          {
            goto LABEL_35;
          }
        }

        LOBYTE(v11) = v26 & 0xF0;
        goto LABEL_34;
      }

      break;
    case 2:
      v7 = a3;
      v8 = byte_1003EBCAE[a3];
      if (v6 > v8)
      {
        v18 = byte_1003EBCB5[a3];
        v19 = 2 * v8;
        v20 = 2 * v18;
        result = byte_1003EBCAE[a3];
        v10 = __dst;
        while (1)
        {
          v11 = ((__dst[result >> 2] >> (~v19 & 6)) & 3) << 6;
          v21 = (result + v18);
          if (v21 >= v6)
          {
            goto LABEL_34;
          }

          v11 |= 16 * ((__dst[v21 >> 2] >> (~(v20 + v19) & 6)) & 3);
          v22 = (v20 + result);
          if (v22 >= v6)
          {
            goto LABEL_34;
          }

          v11 |= 4 * ((__dst[v22 >> 2] >> (~(4 * v18 + v19) & 6)) & 3);
          result = (3 * v18 + result);
          if (result >= v6)
          {
            goto LABEL_34;
          }

          *v10++ = (__dst[result >> 2] >> (~(6 * v18 + v19) & 6)) & 3 | v11;
          result = (v21 + v18 + v18 + v18);
          v19 += 8 * v18;
          if (result >= v6)
          {
            goto LABEL_35;
          }
        }
      }

      break;
    case 1:
      v7 = a3;
      v8 = byte_1003EBCAE[a3];
      if (v6 > v8)
      {
        v9 = byte_1003EBCB5[a3];
        v10 = __dst;
        result = byte_1003EBCAE[a3];
        while (1)
        {
          v11 = ((__dst[result >> 3] >> (~result & 7)) & 1) << 7;
          if (v9 + result >= v6)
          {
            break;
          }

          v11 |= ((__dst[(v9 + result) >> 3] >> (~(v9 + result) & 7)) & 1) << 6;
          v12 = v9 + v9 + result;
          if (v12 >= v6)
          {
            break;
          }

          v11 |= 32 * ((__dst[(2 * v9 + result) >> 3] >> (~(2 * v9 + result) & 7)) & 1);
          v13 = v9 + v12;
          if (v13 >= v6)
          {
            break;
          }

          v11 |= 16 * ((__dst[(3 * v9 + result) >> 3] >> (~(3 * v9 + result) & 7)) & 1);
          v14 = v9 + v13;
          if (v14 >= v6)
          {
            break;
          }

          v11 |= 8 * ((__dst[(4 * v9 + result) >> 3] >> (~(4 * v9 + result) & 7)) & 1);
          v15 = v9 + v14;
          if (v15 >= v6)
          {
            break;
          }

          v11 |= 4 * ((__dst[(5 * v9 + result) >> 3] >> (~(5 * v9 + result) & 7)) & 1);
          v16 = v9 + v15;
          if (v16 >= v6)
          {
            break;
          }

          v11 |= 2 * ((__dst[(6 * v9 + result) >> 3] >> (~(6 * v9 + result) & 7)) & 1);
          v17 = v9 + v16;
          if (v17 >= v6)
          {
            break;
          }

          *v10++ = (__dst[(7 * v9 + result) >> 3] >> (~(7 * v9 + result) & 7)) & 1 | v11;
          result = v9 + v17;
          if (result >= v6)
          {
            goto LABEL_35;
          }
        }

LABEL_34:
        *v10 = v11;
      }

      break;
    default:
      v7 = a3;
      v8 = byte_1003EBCAE[a3];
      if (v6 > v8)
      {
        v28 = v5 >> 3;
        v29 = byte_1003EBCB5[a3];
        v30 = byte_1003EBCAE[a3];
        v31 = __dst;
        do
        {
          v32 = &__dst[v28 * v30];
          if (v31 != v32)
          {
            result = memcpy(v31, v32, v28);
          }

          v31 += v28;
          v30 += v29;
        }

        while (v30 < v6);
      }

      break;
  }

LABEL_35:
  v33 = (*v4 + ~v8 + byte_1003EBCB5[v7]) / byte_1003EBCB5[v7];
  *v4 = v33;
  v34 = *(v4 + 19);
  v35 = (v34 * v33 + 7) >> 3;
  v36 = (v34 >> 3) * v33;
  if (v34 < 8)
  {
    v36 = v35;
  }

  *(v4 + 8) = v36;
  return result;
}

void sub_10038ED14(uint64_t a1, uint64_t a2, int8x16_t a3, double a4, int64x2_t a5, uint32x4_t a6, __n128 a7)
{
  v8 = *(a1 + 606);
  v9 = *(a2 + 8);
  v10 = *(a2 + 19);
  v11 = (v10 + 7) >> 3;
  v12 = *(a1 + 544);
  if (v9 >= 0x1FFFFFFFFFFFFFFLL)
  {
    v8 &= -v8;
    v13 = -257;
    goto LABEL_3;
  }

  v13 = -257;
  if ((v8 & 8) != 0 && v8 != 8)
  {
    if (!v9)
    {
      v13 = 0;
      goto LABEL_3;
    }

    if (v9 < 4)
    {
      v30 = 0;
      v13 = 0;
      v31 = *(a1 + 544);
      goto LABEL_290;
    }

    if (v9 >= 0x10)
    {
      v30 = v9 & 0x1FFFFFFFFFFFFF0;
      v270 = (v12 + 1);
      v271 = 0uLL;
      a6.i32[1] = -251;
      v272.i64[0] = 0x10000000100;
      v272.i64[1] = 0x10000000100;
      a7 = 0uLL;
      v273 = v9 & 0x1FFFFFFFFFFFFF0;
      v274 = 0uLL;
      v275 = 0uLL;
      v276 = 0uLL;
      v277 = 0uLL;
      v278 = 0uLL;
      v279 = 0uLL;
      do
      {
        v280 = *v270++;
        v281 = vqtbl1q_s8(v280, xmmword_1003E3710);
        v282 = vqtbl1q_s8(v280, xmmword_1003E3700);
        v283 = vqtbl1q_s8(v280, xmmword_1003E3730);
        v284 = vqtbl1q_s8(v280, xmmword_1003E3720);
        v285 = vcltzq_s8(v280);
        v286 = vmovl_s8(*v285.i8);
        v287 = vmovl_high_s8(v285);
        v288 = vmovl_s16(*v287.i8);
        v289 = vbslq_s8(vmovl_high_s16(v287), vsubq_s32(v272, v281), v281);
        v290 = vbslq_s8(v288, vsubq_s32(v272, v282), v282);
        v291 = vbslq_s8(vmovl_high_s16(v286), vsubq_s32(v272, v283), v283);
        v292 = vbslq_s8(vmovl_s16(*v286.i8), vsubq_s32(v272, v284), v284);
        v278 = vaddw_u32(v278, *v289.i8);
        v277 = vaddw_high_u32(v277, v290);
        v275 = vaddw_high_u32(v275, v291);
        v279 = vaddw_high_u32(v279, v289);
        v276 = vaddw_u32(v276, *v290.i8);
        v274 = vaddw_u32(v274, *v291.i8);
        a7 = vaddw_high_u32(a7, v292);
        v271 = vaddw_u32(v271, *v292.i8);
        v273 -= 16;
      }

      while (v273);
      a5 = vaddq_s64(v275, v279);
      a3.i64[0] = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v271, v276), vaddq_s64(v274, v278)), vaddq_s64(vaddq_s64(a7, v277), a5)));
      v13 = a3.i64[0];
      if (v9 == v30)
      {
        goto LABEL_3;
      }

      if ((v9 & 0xC) == 0)
      {
        v31 = v12 + v30;
LABEL_290:
        v410 = v9 - v30;
        v411 = (v31 + 1);
        do
        {
          v413 = *v411++;
          LODWORD(v412) = v413;
          v414 = 256 - v413;
          if ((v413 & 0x80u) == 0)
          {
            v412 = v412;
          }

          else
          {
            v412 = v414;
          }

          v13 += v412;
          --v410;
        }

        while (v410);
        goto LABEL_3;
      }
    }

    else
    {
      v13 = 0;
      v30 = 0;
    }

    v293 = v30;
    v30 = v9 & 0x1FFFFFFFFFFFFFCLL;
    v31 = v12 + (v9 & 0x1FFFFFFFFFFFFFCLL);
    v294 = 0uLL;
    v295 = v13;
    v296 = (v293 + v12 + 1);
    v297 = v293 - (v9 & 0x1FFFFFFFFFFFFFCLL);
    a5.i64[0] = 0x10000000100;
    a5.i64[1] = 0x10000000100;
    do
    {
      v298 = *v296++;
      a6.i32[0] = v298;
      v299 = vmovl_u8(*a6.i8).u64[0];
      a7 = vmovl_s16(vcltz_s16(vshr_n_s16(vshl_n_s16(v299, 8uLL), 8uLL)));
      a6 = vbslq_s8(a7, vsubw_u16(a5, v299), vmovl_u16(v299));
      v294 = vaddw_high_u32(v294, a6);
      v295 = vaddw_u32(v295, *a6.i8);
      v297 += 4;
    }

    while (v297);
    a3.i64[0] = vaddvq_s64(vaddq_s64(v295, v294));
    v13 = a3.i64[0];
    if (v9 == v30)
    {
      goto LABEL_3;
    }

    goto LABEL_290;
  }

LABEL_3:
  if (v8 != 16)
  {
    if ((v8 & 0x10) == 0)
    {
      v14 = *(a1 + 544);
      goto LABEL_58;
    }

    v32 = *(a1 + 552);
    *v32 = 1;
    v33 = (v32 + 1);
    v34 = (v12 + 1);
    v35 = 0;
    if (v10)
    {
      if (v10 < 0x79 || (v32 - v12) <= 0xF)
      {
        v37 = (v12 + 1);
        v36 = 0;
      }

      else
      {
        v36 = ((v10 + 7) >> 3) & 0x30;
        v37 = &v34->i8[v36];
        v38 = *v34;
        *v33 = *v34;
        v39 = vmovl_u8(*v38.i8);
        v40 = vmovl_u16(*v39.i8);
        v41 = vmovl_high_u8(v38);
        v42.i64[0] = 0x10000000100;
        v42.i64[1] = 0x10000000100;
        v43 = vsubw_u16(v42, *v39.i8);
        v44 = vcltzq_s8(v38);
        v45 = vmovl_s8(*v44.i8);
        v46 = vmovl_high_s8(v44);
        v47 = vmovl_s16(*v46.i8);
        v48 = vbslq_s8(vmovl_high_s16(v46), vsubw_high_u16(v42, v41), vmovl_high_u16(v41));
        v49 = vbslq_s8(v47, vsubw_u16(v42, *v41.i8), vmovl_u16(*v41.i8));
        v50 = vbslq_s8(vmovl_high_s16(v45), vsubw_high_u16(v42, v39), vmovl_high_u16(v39));
        v51 = vbslq_s8(vmovl_s16(*v45.i8), v43, v40);
        if (v36 != 16)
        {
          v52 = *(v12 + 17);
          *(v32 + 17) = v52;
          v53 = vmovl_high_u8(v52);
          v54 = vmovl_high_u16(v53);
          v55 = vmovl_u16(*v53.i8);
          v56 = vmovl_u8(*v52.i8);
          v57 = vmovl_high_u16(v56);
          v58 = vmovl_u16(*v56.i8);
          v59 = vsubw_high_u16(v42, v53);
          v60 = vsubw_u16(v42, *v53.i8);
          v61 = vsubw_high_u16(v42, v56);
          v62 = vsubw_u16(v42, *v56.i8);
          v63 = vcltzq_s8(v52);
          v64 = vmovl_high_s8(v63);
          v65 = vmovl_s8(*v63.i8);
          v48 = vaddq_s32(v48, vbslq_s8(vmovl_high_s16(v64), v59, v54));
          v49 = vaddq_s32(v49, vbslq_s8(vmovl_s16(*v64.i8), v60, v55));
          v50 = vaddq_s32(v50, vbslq_s8(vmovl_high_s16(v65), v61, v57));
          v51 = vaddq_s32(v51, vbslq_s8(vmovl_s16(*v65.i8), v62, v58));
        }

        a7 = vaddq_s64(vaddl_high_u32(v51, v49), vaddl_high_u32(v50, v48));
        a5 = vaddl_u32(*v51.i8, *v49.i8);
        a3.i64[0] = vaddvq_s64(vaddq_s64(vaddq_s64(a5, vaddl_u32(*v50.i8, *v48.i8)), a7));
        v35 = a3.i64[0];
        v33 = (v33 + (((v10 + 7) >> 3) & 0x30));
        if (v36 == v11)
        {
          goto LABEL_44;
        }
      }

      v67 = v11 - v36;
      do
      {
        v69 = *v37++;
        LODWORD(v68) = v69;
        v33->i8[0] = v69;
        v33 = (v33 + 1);
        v70 = 256 - v69;
        if ((v69 & 0x80u) == 0)
        {
          v68 = v68;
        }

        else
        {
          v68 = v70;
        }

        v35 += v68;
        --v67;
      }

      while (v67);
    }

    else
    {
      v37 = (v12 + 1);
    }

LABEL_44:
    if (v9 > v11)
    {
      v71 = v11 + 1;
      do
      {
        v73 = *v37++;
        v72 = v73;
        v74 = v34->i8[0];
        v34 = (v34 + 1);
        LOBYTE(v75) = v72 - v74;
        v33->i8[0] = v75;
        v33 = (v33 + 1);
        if ((v75 & 0x80u) == 0)
        {
          v75 = v75;
        }

        else
        {
          v75 = 256 - v75;
        }

        v35 += v75;
      }

      while (v35 <= v13 && v71++ < v9);
    }

    v14 = v12;
    if (v35 < v13)
    {
      v77 = *(a1 + 560);
      if (v77)
      {
        *(a1 + 552) = v77;
        *(a1 + 560) = v32;
      }

      v13 = v35;
      v14 = v32;
    }

    goto LABEL_58;
  }

  v14 = *(a1 + 552);
  *v14 = 1;
  v15 = (v14 + 1);
  v16 = (v12 + 1);
  if (v10)
  {
    v17 = 0;
    if (v10 < 0x79 || (v14 - v12) <= 0xF)
    {
      goto LABEL_10;
    }

    v17 = ((v10 + 7) >> 3) & 0x30;
    a3 = *v16;
    *v15 = *v16;
    if (v17 != 16)
    {
      a3 = *(v12 + 17);
      *(v14 + 17) = a3;
    }

    v16 = (v16 + (((v10 + 7) >> 3) & 0x30));
    v15 = (v15 + (((v10 + 7) >> 3) & 0x30));
    if (v17 != v11)
    {
LABEL_10:
      v18 = v11 - v17;
      do
      {
        v19 = v16->n128_u8[0];
        v16 = (v16 + 1);
        v15->n128_u8[0] = v19;
        v15 = (v15 + 1);
        --v18;
      }

      while (v18);
    }
  }

  v20 = v9 - v11;
  if (v9 > v11)
  {
    if (v20 < 8 || (v12 - v15) > 0xFFFFFFFFFFFFFFDFLL || (v15 - v16) < 0x20)
    {
      v21 = (v10 + 7) >> 3;
      v22 = v12;
      v23 = v15;
      v24 = v16;
      goto LABEL_15;
    }

    if (v20 < 0x20)
    {
      v66 = 0;
      goto LABEL_268;
    }

    v66 = v20 & 0xFFFFFFFFFFFFFFE0;
    v322 = &v16[1];
    v323 = (v12 + 17);
    v324 = &v15[1];
    v325 = v20 & 0xFFFFFFFFFFFFFFE0;
    do
    {
      a5 = v323[-1];
      a3 = vsubq_s8(v322[-1], a5);
      v326 = vsubq_s8(*v322, *v323);
      v324[-1] = a3;
      *v324 = v326;
      v322 += 2;
      v323 += 2;
      v324 += 2;
      v325 -= 32;
    }

    while (v325);
    if (v20 != v66)
    {
      if ((v20 & 0x18) == 0)
      {
        v24 = (v16 + v66);
        v23 = (v15 + v66);
        v22 = v12 + v66;
        v21 = v66 + v11;
        goto LABEL_15;
      }

LABEL_268:
      v21 = (v20 & 0xFFFFFFFFFFFFFFF8) + v11;
      v22 = v12 + (v20 & 0xFFFFFFFFFFFFFFF8);
      v23 = (v15 + (v20 & 0xFFFFFFFFFFFFFFF8));
      v24 = (v16 + (v20 & 0xFFFFFFFFFFFFFFF8));
      v327 = (v66 + v12 + 1);
      v328 = (v16 + v66);
      v329 = (v15->n128_u64 + v66);
      v330 = v66 - (v20 & 0xFFFFFFFFFFFFFFF8);
      do
      {
        v331 = *v328++;
        v332 = v331;
        v333 = *v327++;
        *a3.i8 = vsub_s8(v332, v333);
        *v329++ = a3.i64[0];
        v330 += 8;
      }

      while (v330);
      if (v20 == (v20 & 0xFFFFFFFFFFFFFFF8))
      {
        goto LABEL_58;
      }

LABEL_15:
      v25 = v9 - v21;
      v26 = (v22 + 1);
      do
      {
        v28 = v24->n128_u8[0];
        v24 = (v24 + 1);
        v27 = v28;
        v29 = *v26++;
        v23->n128_u8[0] = v27 - v29;
        v23 = (v23 + 1);
        --v25;
      }

      while (v25);
    }
  }

LABEL_58:
  if (v8 == 32)
  {
    v14 = *(a1 + 552);
    *v14 = 2;
    if (!v9)
    {
      goto LABEL_257;
    }

    v78 = *(a1 + 536);
    if (v9 < 8)
    {
      v79 = 0;
LABEL_62:
      v80 = *(a1 + 536);
      v81 = v14;
      v82 = v12;
      goto LABEL_63;
    }

    v79 = 0;
    if ((v14 - v12) < 0x20 || (v14 - v78) < 0x20)
    {
      goto LABEL_62;
    }

    if (v9 >= 0x20)
    {
      v79 = v9 & 0xFFFFFFFFFFFFFFE0;
      v263 = (v12 + 17);
      v264 = 17;
      do
      {
        v265 = (v14 + v264);
        a5 = *(v78 + v264 - 16);
        a3 = vsubq_s8(v263[-1], a5);
        v266 = vsubq_s8(*v263, *(v78 + v264));
        v265[-1] = a3;
        *v265 = v266;
        v263 += 2;
        v264 += 32;
      }

      while (v264 - (v9 & 0xFFFFFFFFFFFFFFE0) != 17);
      if (v9 == v79)
      {
        goto LABEL_81;
      }

      if ((v9 & 0x18) == 0)
      {
        v82 = v12 + v79;
        v81 = v14 + v79;
        v80 = v78 + v79;
LABEL_63:
        v83 = v9 - v79;
        v84 = (v80 + 1);
        v85 = (v81 + 1);
        v86 = (v82 + 1);
        do
        {
          v88 = *v86++;
          v87 = v88;
          v89 = *v84++;
          *v85++ = v87 - v89;
          --v83;
        }

        while (v83);
        goto LABEL_81;
      }
    }

    else
    {
      v79 = 0;
    }

    v267 = v79;
    v79 = v9 & 0xFFFFFFFFFFFFFFF8;
    v80 = v78 + (v9 & 0xFFFFFFFFFFFFFFF8);
    v81 = v14 + (v9 & 0xFFFFFFFFFFFFFFF8);
    v82 = v12 + (v9 & 0xFFFFFFFFFFFFFFF8);
    v268 = v267 + 1;
    v269 = v267 - (v9 & 0xFFFFFFFFFFFFFFF8);
    do
    {
      *a3.i8 = vsub_s8(*(v12 + v268), *(v78 + v268));
      *(v14 + v268) = a3.i64[0];
      v268 += 8;
      v269 += 8;
    }

    while (v269);
    if (v9 != v79)
    {
      goto LABEL_63;
    }
  }

  else if ((v8 & 0x20) != 0)
  {
    v90 = *(a1 + 552);
    *v90 = 2;
    v91 = 0;
    if (v9)
    {
      v92 = (v12 + 1);
      v93 = (*(a1 + 536) + 1);
      v94 = v90 + 1;
      v95 = v9 - 1;
      do
      {
        v97 = *v92++;
        v96 = v97;
        v98 = *v93++;
        LOBYTE(v99) = v96 - v98;
        *v94++ = v99;
        if ((v99 & 0x80u) == 0)
        {
          v99 = v99;
        }

        else
        {
          v99 = 256 - v99;
        }

        v91 += v99;
      }

      while (v91 <= v13 && v95-- != 0);
    }

    if (v91 < v13)
    {
      v101 = *(a1 + 560);
      if (v101)
      {
        *(a1 + 552) = v101;
        *(a1 + 560) = v90;
      }

      v13 = v91;
      v14 = v90;
    }
  }

LABEL_81:
  if (v8 != 64)
  {
    if ((v8 & 0x40) == 0)
    {
      goto LABEL_140;
    }

    v115 = *(a1 + 552);
    *v115 = 3;
    v116 = (v115 + 1);
    v117 = *(a1 + 536);
    v118 = (v117 + 1);
    v119 = (v12 + 1);
    if (v10)
    {
      v120 = (v11 - 1);
      if (v120 <= 0xE)
      {
        v121 = 0;
        LODWORD(v122) = 0;
LABEL_93:
        v123 = (v12 + 1);
        v124 = v118;
        v125 = v115 + 1;
        goto LABEL_94;
      }

      LODWORD(v122) = 0;
      v121 = 0;
      if (&v115[-v12] < 0x10 || &v115[-v117] < 0x10)
      {
        goto LABEL_93;
      }

      v207 = v120 + 1;
      v122 = (v120 + 1) & 0x1FFFFFFF0;
      v123 = &v119[v122];
      v124 = (v118 + v122);
      v125 = &v116->i8[v122];
      v208 = 0uLL;
      a7.n128_u64[0] = 0x10000000100;
      a7.n128_u64[1] = 0x10000000100;
      v209 = 0uLL;
      v210 = v122;
      v211 = (v12 + 1);
      v212 = 0uLL;
      v213 = 0uLL;
      v214 = 0uLL;
      v215 = 0uLL;
      v216 = 0uLL;
      v217 = 0uLL;
      do
      {
        v218 = *v211++;
        v219 = v218;
        v220 = *v118++;
        v221 = vsubq_s8(v219, vshrq_n_u8(v220, 1uLL));
        *v116++ = v221;
        v222 = vqtbl1q_s8(v221, xmmword_1003E3710);
        v223 = vqtbl1q_s8(v221, xmmword_1003E3700);
        v224 = vqtbl1q_s8(v221, xmmword_1003E3730);
        v225 = vqtbl1q_s8(v221, xmmword_1003E3720);
        v226 = vcltzq_s8(v221);
        v227 = vmovl_s8(*v226.i8);
        v228 = vmovl_high_s8(v226);
        v229 = vmovl_s16(*v228.i8);
        v230 = vbslq_s8(vmovl_high_s16(v228), vsubq_s32(a7, v222), v222);
        v231 = vbslq_s8(v229, vsubq_s32(a7, v223), v223);
        v232 = vbslq_s8(vmovl_high_s16(v227), vsubq_s32(a7, v224), v224);
        v233 = vbslq_s8(vmovl_s16(*v227.i8), vsubq_s32(a7, v225), v225);
        v217 = vaddw_high_u32(v217, v230);
        v216 = vaddw_u32(v216, *v230.i8);
        v215 = vaddw_high_u32(v215, v231);
        v213 = vaddw_high_u32(v213, v232);
        v214 = vaddw_u32(v214, *v231.i8);
        v212 = vaddw_u32(v212, *v232.i8);
        v209 = vaddw_high_u32(v209, v233);
        v208 = vaddw_u32(v208, *v233.i8);
        v210 -= 16;
      }

      while (v210);
      a5 = vaddq_s64(v213, v217);
      a3.i64[0] = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v208, v214), vaddq_s64(v212, v216)), vaddq_s64(vaddq_s64(v209, v215), a5)));
      v121 = a3.i64[0];
      if (v207 != v122)
      {
LABEL_94:
        v126 = v11 - v122;
        do
        {
          v128 = *v123++;
          v127 = v128;
          v129 = v124->u8[0];
          v124 = (v124 + 1);
          LOBYTE(v130) = v127 - (v129 >> 1);
          *v125++ = v130;
          if ((v130 & 0x80u) == 0)
          {
            v130 = v130;
          }

          else
          {
            v130 = 256 - v130;
          }

          v121 += v130;
          --v126;
        }

        while (v126);
      }
    }

    else
    {
      v121 = 0;
      v125 = v115 + 1;
      v124 = (v117 + 1);
      v123 = (v12 + 1);
    }

    if (v9 > v11)
    {
      v151 = v11 + 1;
      do
      {
        v153 = *v123++;
        v152 = v153;
        v155 = v124->u8[0];
        v124 = (v124 + 1);
        v154 = v155;
        v156 = *v119++;
        LOBYTE(v157) = v152 - ((v156 + v154) >> 1);
        *v125++ = v157;
        if ((v157 & 0x80u) == 0)
        {
          v157 = v157;
        }

        else
        {
          v157 = 256 - v157;
        }

        v121 += v157;
        v158 = v151++;
        v159 = v121 <= v13 && v9 > v158;
      }

      while (v159);
    }

    if (v121 < v13)
    {
      v160 = *(a1 + 560);
      if (v160)
      {
        *(a1 + 552) = v160;
        *(a1 + 560) = v115;
      }

      v13 = v121;
      v14 = v115;
    }

    goto LABEL_140;
  }

  v14 = *(a1 + 552);
  *v14 = 3;
  v102 = (v14 + 1);
  v103 = *(a1 + 536);
  v104 = (v103 + 1);
  v105 = (v12 + 1);
  if (v10)
  {
    v106 = (v11 - 1);
    if (v106 > 0xE)
    {
      LODWORD(v107) = 0;
      if ((v14 - v12) >= 0x10 && (v14 - v103) >= 0x10)
      {
        v144 = v106 + 1;
        v107 = (v106 + 1) & 0x1FFFFFFF0;
        v108 = (v105 + v107);
        v109 = (v104 + v107);
        v110 = (v102 + v107);
        v145 = v107;
        do
        {
          v146 = *v105++;
          v147 = v146;
          v148 = *v104++;
          a3 = vsubq_s8(v147, vshrq_n_u8(v148, 1uLL));
          *v102++ = a3;
          v145 -= 16;
        }

        while (v145);
        if (v144 == v107)
        {
          goto LABEL_105;
        }

        goto LABEL_86;
      }
    }

    else
    {
      LODWORD(v107) = 0;
    }

    v108 = (v12 + 1);
    v109 = v104;
    v110 = (v14 + 1);
LABEL_86:
    v111 = v11 - v107;
    do
    {
      v113 = v108->i8[0];
      v108 = (v108 + 1);
      v112 = v113;
      v114 = v109->u8[0];
      v109 = (v109 + 1);
      v110->i8[0] = v112 - (v114 >> 1);
      v110 = (v110 + 1);
      --v111;
    }

    while (v111);
    goto LABEL_105;
  }

  v110 = (v14 + 1);
  v109 = (v103 + 1);
  v108 = (v12 + 1);
LABEL_105:
  v131 = v9 - v11;
  if (v9 <= v11)
  {
    goto LABEL_140;
  }

  if (v131 < 8 || (v149 = v9 + ~v11, -2 - v11 < v149) || HIDWORD(v149) || (v12 - v110) > 0xFFFFFFFFFFFFFFDFLL || (v110 - v108) < 0x20 || (v110 - v109) < 0x20)
  {
    v132 = (v10 + 7) >> 3;
    v133 = v12;
    v134 = v109;
    v135 = v110;
    v136 = v108;
    goto LABEL_108;
  }

  if (v131 < 0x20)
  {
    v150 = 0;
    goto LABEL_284;
  }

  v150 = v131 & 0xFFFFFFFFFFFFFFE0;
  v394 = v108 + 1;
  v395 = (v12 + 17);
  v396 = v110 + 1;
  v397 = v109 + 1;
  v398 = v131 & 0xFFFFFFFFFFFFFFE0;
  do
  {
    a7 = v395[-1];
    a5 = vhaddq_u8(a7, v397[-1]);
    a3 = vsubq_s8(v394[-1], a5);
    v399 = vsubq_s8(*v394, vhaddq_u8(*v395, *v397));
    v394 += 2;
    v396[-1] = a3;
    *v396 = v399;
    v395 += 2;
    v396 += 2;
    v397 += 2;
    v398 -= 32;
  }

  while (v398);
  if (v131 != v150)
  {
    if ((v131 & 0x18) == 0)
    {
      v136 = (v108 + v150);
      v135 = (v110 + v150);
      v134 = &v109->u8[v150];
      v133 = v12 + v150;
      LODWORD(v132) = v11 + v150;
      goto LABEL_108;
    }

LABEL_284:
    LODWORD(v132) = v11 + (v131 & 0xFFFFFFF8);
    v133 = v12 + (v131 & 0xFFFFFFFFFFFFFFF8);
    v134 = &v109->u8[v131 & 0xFFFFFFFFFFFFFFF8];
    v135 = (v110 + (v131 & 0xFFFFFFFFFFFFFFF8));
    v136 = (v108 + (v131 & 0xFFFFFFFFFFFFFFF8));
    v400 = (v150 + v12 + 1);
    v401 = &v108->i8[v150];
    v402 = (v110->i64 + v150);
    v403 = &v109->i8[v150];
    v404 = v150 - (v131 & 0xFFFFFFFFFFFFFFF8);
    do
    {
      v405 = *v401++;
      v406 = v405;
      v407 = *v403++;
      v408 = v407;
      v409 = *v400++;
      a5.i32[1] = v409.i32[1];
      *a3.i8 = vsub_s8(v406, vhadd_u8(v409, v408));
      *v402++ = a3.i64[0];
      v404 += 8;
    }

    while (v404);
    if (v131 == (v131 & 0xFFFFFFFFFFFFFFF8))
    {
      goto LABEL_140;
    }

LABEL_108:
    v137 = v132 + 1;
    v138 = (v133 + 1);
    do
    {
      v140 = v136->i8[0];
      v136 = (v136 + 1);
      v139 = v140;
      v142 = *v134++;
      v141 = v142;
      v143 = *v138++;
      v135->i8[0] = v139 - ((v143 + v141) >> 1);
      v135 = (v135 + 1);
      v159 = v9 > v137++;
    }

    while (v159);
  }

LABEL_140:
  if (v8 == 128)
  {
    v14 = *(a1 + 552);
    *v14 = 4;
    v161 = (v14 + 1);
    v162 = *(a1 + 536);
    v163 = v11;
    v164 = (v162 + 1);
    v165 = (v12 + 1);
    if (!v10)
    {
      v168 = (v162 + 1);
      v167 = (v12 + 1);
      goto LABEL_153;
    }

    if (v10 > 0x78)
    {
      v166 = 0;
      if ((v14 - v12) >= 0x10 && (v14 - v162) >= 0x10)
      {
        v166 = ((v10 + 7) >> 3) & 0x30;
        v167 = &v165->i8[v166];
        v168 = &v164->i8[v163 & 0x30];
        a3 = vsubq_s8(*v165, *v164);
        *v161 = a3;
        if ((v163 & 0x30) != 0x10)
        {
          a3 = vsubq_s8(*(v12 + 17), *(v162 + 17));
          *(v14 + 17) = a3;
        }

        v161 = (v161 + (v163 & 0x30));
        if (v166 == v163)
        {
LABEL_153:
          v183 = v9 - v163;
          if (v9 <= v163)
          {
            goto LABEL_257;
          }

          if (v183 < 4 || ((v162 - v161) <= 0xFFFFFFFFFFFFFFEFLL ? (v184 = (v161 - v168) >= 0x10) : (v184 = 0), v184 ? (v185 = (v161 - v167) >= 0x10) : (v185 = 0), v185 ? (v186 = (v12 - v161) > 0xFFFFFFFFFFFFFFEFLL) : (v186 = 1), v186))
          {
            v187 = v12;
            v188 = v162;
            v189 = v168;
            v190 = v161;
            v191 = v167;
          }

          else
          {
            if (v183 < 0x10)
            {
              v262 = 0;
LABEL_276:
              v163 += v183 & 0xFFFFFFFFFFFFFFFCLL;
              v187 = v12 + (v183 & 0xFFFFFFFFFFFFFFFCLL);
              v188 = v162 + (v183 & 0xFFFFFFFFFFFFFFFCLL);
              v189 = &v168[v183 & 0xFFFFFFFFFFFFFFFCLL];
              v190 = (v161 + (v183 & 0xFFFFFFFFFFFFFFFCLL));
              v191 = &v167[v183 & 0xFFFFFFFFFFFFFFFCLL];
              v377 = (v12 + v262 + 1);
              v378 = (v162 + v262 + 1);
              v379 = &v167[v262];
              v380 = (v161 + v262);
              v381 = &v168[v262];
              v382 = v262 - (v183 & 0xFFFFFFFFFFFFFFFCLL);
              do
              {
                v383 = *v381++;
                a3.i32[0] = v383;
                v384 = vmovl_u8(*a3.i8).u64[0];
                v385 = *v378++;
                a5.i32[0] = v385;
                a5.i64[0] = vmovl_u8(*a5.i8).u64[0];
                v386 = vmovl_u16(*a5.i8);
                v387 = *v377++;
                a7.n128_u32[0] = v387;
                a7.n128_u64[0] = vmovl_u8(a7.n128_u64[0]).u64[0];
                v388 = vabdq_u32(v386, vmovl_u16(v384));
                v389 = vabdq_u32(v386, vmovl_u16(a7.n128_u64[0]));
                v390 = vabsq_s32(vaddq_s32(vsubl_u16(a7.n128_u64[0], *a5.i8), vsubl_u16(v384, *a5.i8)));
                *v388.i8 = vmovn_s32(vcgtq_u32(v388, vminq_u32(v389, v390)));
                v391 = vbsl_s8(*v388.i8, vbsl_s8(vmovn_s32(vcgtq_u32(v389, v390)), *a5.i8, v384), a7.n128_u64[0]);
                v392 = *v379++;
                v388.i32[0] = v392;
                v393 = vsub_s16(*&vmovl_u8(*v388.i8), v391);
                *a3.i8 = vuzp1_s8(v393, v393);
                v380->n128_u32[0] = a3.i32[0];
                v380 = (v380 + 4);
                v382 += 4;
              }

              while (v382);
              if (v183 == (v183 & 0xFFFFFFFFFFFFFFFCLL))
              {
                goto LABEL_257;
              }

              goto LABEL_167;
            }

            v262 = v183 & 0xFFFFFFFFFFFFFFF0;
            a3.i32[1] = -243;
            a5.i32[1] = -251;
            v334 = v183 & 0xFFFFFFFFFFFFFFF0;
            v335 = v168;
            v336 = v161;
            v337 = v167;
            do
            {
              v338 = *v335++;
              v339 = v338;
              v340 = vqtbl1q_s8(v338, xmmword_1003E3710);
              v341 = vqtbl1q_s8(v338, xmmword_1003E3700);
              v342 = vqtbl1q_s8(v338, xmmword_1003E3730);
              v343 = vqtbl1q_s8(v338, xmmword_1003E3720);
              v344 = *v164++;
              v345 = v344;
              v346 = vqtbl1q_s8(v344, xmmword_1003E3710);
              v347 = vqtbl1q_s8(v344, xmmword_1003E3700);
              v348 = vqtbl1q_s8(v344, xmmword_1003E3730);
              v349 = vqtbl1q_s8(v344, xmmword_1003E3720);
              v350 = *v165++;
              v351 = vqtbl1q_s8(v350, xmmword_1003E3710);
              v352 = vqtbl1q_s8(v350, xmmword_1003E3700);
              v353 = vqtbl1q_s8(v350, xmmword_1003E3730);
              v354 = vqtbl1q_s8(v350, xmmword_1003E3720);
              v355 = vsubq_s32(v343, v349);
              v356 = vsubq_s32(v342, v348);
              v357 = vsubq_s32(v341, v347);
              v358 = vsubq_s32(v340, v346);
              v359 = vsubq_s32(v354, v349);
              v360 = vsubq_s32(v353, v348);
              v361 = vsubq_s32(v352, v347);
              v362 = vsubq_s32(v351, v346);
              v363 = vabdq_u32(v349, v343);
              v364 = vabdq_u32(v348, v342);
              v365 = vabdq_u32(v347, v341);
              v366 = vabdq_u32(v346, v340);
              v367 = vabdq_u32(v349, v354);
              v368 = vabdq_u32(v348, v353);
              v369 = vabdq_u32(v347, v352);
              v370 = vabdq_u32(v346, v351);
              v371 = vabsq_s32(vaddq_s32(v359, v355));
              v372 = vabsq_s32(vaddq_s32(v360, v356));
              v373 = vabsq_s32(vaddq_s32(v361, v357));
              v374 = vabsq_s32(vaddq_s32(v362, v358));
              v375 = vbslq_s8(vuzp1q_s8(vuzp1q_s16(vcgtq_u32(v363, vminq_u32(v367, v371)), vcgtq_u32(v364, vminq_u32(v368, v372))), vuzp1q_s16(vcgtq_u32(v365, vminq_u32(v369, v373)), vcgtq_u32(v366, vminq_u32(v370, v374)))), vbslq_s8(vuzp1q_s8(vuzp1q_s16(vcgtq_u32(v367, v371), vcgtq_u32(v368, v372)), vuzp1q_s16(vcgtq_u32(v369, v373), vcgtq_u32(v370, v374))), v345, v339), v350);
              v376 = *v337++;
              a7 = vsubq_s8(v376, v375);
              *v336++ = a7;
              v334 -= 16;
            }

            while (v334);
            if (v183 == v262)
            {
              goto LABEL_257;
            }

            if ((v183 & 0xC) != 0)
            {
              goto LABEL_276;
            }

            v191 = &v167[v262];
            v190 = (v161 + v262);
            v189 = &v168[v262];
            v188 = v162 + v262;
            v187 = v12 + v262;
            v163 += v262;
          }

LABEL_167:
          v192 = v9 - v163;
          v193 = (v187 + 1);
          v194 = (v188 + 1);
          do
          {
            v196 = *v189++;
            v195 = v196;
            v198 = *v194++;
            v197 = v198;
            v200 = *v193++;
            v199 = v200;
            v201 = v200 - v197;
            if (v195 - v197 >= 0)
            {
              v202 = v195 - v197;
            }

            else
            {
              v202 = v197 - v195;
            }

            if (v201 >= 0)
            {
              v203 = v201;
            }

            else
            {
              v203 = -v201;
            }

            v204 = v201 + v195 - v197;
            if (v204 < 0)
            {
              v204 = -v204;
            }

            if (v203 > v204)
            {
              LOBYTE(v195) = v197;
            }

            if (v202 <= v204 && v202 <= v203)
            {
              LOBYTE(v195) = v199;
            }

            v206 = *v191++;
            v190->n128_u8[0] = v206 - v195;
            v190 = (v190 + 1);
            --v192;
          }

          while (v192);
          goto LABEL_257;
        }

LABEL_145:
        v169 = v163 - v166;
        do
        {
          v171 = *v167++;
          v170 = v171;
          v172 = *v168++;
          v161->n128_u8[0] = v170 - v172;
          v161 = (v161 + 1);
          --v169;
        }

        while (v169);
        goto LABEL_153;
      }
    }

    else
    {
      v166 = 0;
    }

    v167 = (v12 + 1);
    v168 = (v162 + 1);
    goto LABEL_145;
  }

  if ((v8 & 0x80) == 0)
  {
    goto LABEL_257;
  }

  v173 = *(a1 + 552);
  *v173 = 4;
  v174 = (v173 + 1);
  v175 = *(a1 + 536);
  v176 = v11;
  v177 = (v175 + 1);
  v178 = (v12 + 1);
  if (v10)
  {
    if (v10 > 0x78)
    {
      v179 = 0;
      if ((v173 - v12) < 0x10 || (v173 - v175) < 0x10)
      {
        v181 = (v12 + 1);
        v182 = (v175 + 1);
        v180 = 0;
      }

      else
      {
        v180 = v176 & 0x30;
        v181 = &v178->i8[v180];
        v182 = &v177->i8[v180];
        v234 = vsubq_s8(*v178, *v177);
        *v174 = v234;
        v235 = vmovl_u8(*v234.i8);
        v236 = vmovl_u16(*v235.i8);
        v237 = vmovl_high_u8(v234);
        v238.i64[0] = 0x10000000100;
        v238.i64[1] = 0x10000000100;
        v239 = vsubw_u16(v238, *v235.i8);
        v240 = vcltzq_s8(v234);
        v241 = vmovl_s8(*v240.i8);
        v242 = vmovl_high_s8(v240);
        v243 = vmovl_s16(*v242.i8);
        v244 = vbslq_s8(vmovl_high_s16(v242), vsubw_high_u16(v238, v237), vmovl_high_u16(v237));
        v245 = vbslq_s8(v243, vsubw_u16(v238, *v237.i8), vmovl_u16(*v237.i8));
        v246 = vbslq_s8(vmovl_high_s16(v241), vsubw_high_u16(v238, v235), vmovl_high_u16(v235));
        v247 = vbslq_s8(vmovl_s16(*v241.i8), v239, v236);
        if (v180 != 16)
        {
          v248 = vsubq_s8(*(v12 + 17), *(v175 + 17));
          *(v173 + 17) = v248;
          v249 = vmovl_high_u8(v248);
          v250 = vmovl_high_u16(v249);
          v251 = vmovl_u16(*v249.i8);
          v252 = vmovl_u8(*v248.i8);
          v253 = vmovl_high_u16(v252);
          v254 = vmovl_u16(*v252.i8);
          v255 = vsubw_high_u16(v238, v249);
          v256 = vsubw_u16(v238, *v249.i8);
          v257 = vsubw_high_u16(v238, v252);
          v258 = vsubw_u16(v238, *v252.i8);
          v259 = vcltzq_s8(v248);
          v260 = vmovl_high_s8(v259);
          v261 = vmovl_s8(*v259.i8);
          v244 = vaddq_s32(v244, vbslq_s8(vmovl_high_s16(v260), v255, v250));
          v245 = vaddq_s32(v245, vbslq_s8(vmovl_s16(*v260.i8), v256, v251));
          v246 = vaddq_s32(v246, vbslq_s8(vmovl_high_s16(v261), v257, v253));
          v247 = vaddq_s32(v247, vbslq_s8(vmovl_s16(*v261.i8), v258, v254));
        }

        v179 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddl_u32(*v247.i8, *v245.i8), vaddl_u32(*v246.i8, *v244.i8)), vaddq_s64(vaddl_high_u32(v247, v245), vaddl_high_u32(v246, v244))));
        v174 = (v174 + (v176 & 0x30));
        if (v180 == v176)
        {
          goto LABEL_228;
        }
      }
    }

    else
    {
      v179 = 0;
      v180 = 0;
      v181 = (v12 + 1);
      v182 = (v175 + 1);
    }

    v300 = v176 - v180;
    do
    {
      v302 = *v181++;
      v301 = v302;
      v303 = *v182++;
      LOBYTE(v304) = v301 - v303;
      v174->i8[0] = v304;
      v174 = (v174 + 1);
      if ((v304 & 0x80u) == 0)
      {
        v304 = v304;
      }

      else
      {
        v304 = 256 - v304;
      }

      v179 += v304;
      --v300;
    }

    while (v300);
  }

  else
  {
    v179 = 0;
    v182 = (v175 + 1);
    v181 = (v12 + 1);
  }

LABEL_228:
  if (v9 > v176)
  {
    v305 = v176 + 1;
    do
    {
      v307 = *v182++;
      LODWORD(v306) = v307;
      v309 = v177->u8[0];
      v177 = (v177 + 1);
      v308 = v309;
      v311 = v178->u8[0];
      v178 = (v178 + 1);
      v310 = v311;
      v312 = v311 - v308;
      if (v306 - v308 >= 0)
      {
        v313 = v306 - v308;
      }

      else
      {
        v313 = v308 - v306;
      }

      if (v312 >= 0)
      {
        v314 = v312;
      }

      else
      {
        v314 = -v312;
      }

      v315 = v312 + v306 - v308;
      if (v315 < 0)
      {
        v315 = -v315;
      }

      if (v314 > v315)
      {
        LOBYTE(v306) = v308;
      }

      if (v313 <= v315 && v313 <= v314)
      {
        LOBYTE(v306) = v310;
      }

      v317 = *v181++;
      LOBYTE(v306) = v317 - v306;
      v174->i8[0] = v306;
      v174 = (v174 + 1);
      if ((v306 & 0x80u) == 0)
      {
        v306 = v306;
      }

      else
      {
        v306 = 256 - v306;
      }

      v179 += v306;
    }

    while (v179 <= v13 && v305++ < v9);
  }

  if (v179 < v13)
  {
    v319 = *(a1 + 560);
    if (v319)
    {
      *(a1 + 552) = v319;
      *(a1 + 560) = v173;
    }

    v14 = v173;
  }

LABEL_257:
  sub_10038B6F8(a1, v14, *(a2 + 8) + 1, 0);
  v320 = *(a1 + 536);
  if (v320)
  {
    *(a1 + 536) = *(a1 + 544);
    *(a1 + 544) = v320;
  }

  sub_10038E530(a1);
  v321 = *(a1 + 660) + 1;
  *(a1 + 660) = v321;
  if (*(a1 + 656) - 1 < v321)
  {

    sub_100389FE4(a1);
  }
}

double sub_10038FFF4(char *a1, int a2, uint64_t a3)
{
  *(a1 + 1) = 0;
  if (a2 != 90)
  {
    *(*a1 + 40) = 0x5A0000000DLL;
    *(*a1 + 48) = a2;
    (**a1)(a1);
  }

  if (a3 != 568)
  {
    *(*a1 + 40) = 0x23800000016;
    *(*a1 + 48) = a3;
    (**a1)(a1);
  }

  v5 = *a1;
  v6 = *(a1 + 3);
  bzero(a1, 0x238uLL);
  *a1 = v5;
  *(a1 + 3) = v6;
  a1[32] = 0;
  sub_1003C3918(a1);
  *(a1 + 2) = 0;
  *(a1 + 5) = 0;
  *(a1 + 104) = 0u;
  *(a1 + 120) = 0u;
  *(a1 + 17) = 0;
  memset_pattern16(a1 + 144, &unk_1003EC060, 0x10uLL);
  result = 0.0;
  *(a1 + 12) = 0u;
  *(a1 + 13) = 0u;
  *(a1 + 10) = 0u;
  *(a1 + 11) = 0u;
  *(a1 + 115) = 8;
  *(a1 + 58) = dword_1003ECC10;
  *(a1 + 118) = 63;
  *(a1 + 69) = 0;
  *(a1 + 8) = 0x3FF0000000000000;
  *(a1 + 9) = 100;
  return result;
}

void *sub_100390118(void *result, char a2)
{
  v2 = result[14];
  if (v2)
  {
    *(v2 + 128) = a2;
  }

  v3 = result[15];
  if (v3)
  {
    *(v3 + 128) = a2;
  }

  v4 = result[16];
  if (v4)
  {
    *(v4 + 128) = a2;
  }

  v5 = result[17];
  if (v5)
  {
    *(v5 + 128) = a2;
  }

  v6 = result[20];
  if (v6)
  {
    *(v6 + 273) = a2;
  }

  v7 = result[24];
  if (v7)
  {
    *(v7 + 273) = a2;
  }

  v8 = result[21];
  if (v8)
  {
    *(v8 + 273) = a2;
  }

  v9 = result[25];
  if (v9)
  {
    *(v9 + 273) = a2;
  }

  v10 = result[22];
  if (v10)
  {
    *(v10 + 273) = a2;
  }

  v11 = result[26];
  if (v11)
  {
    *(v11 + 273) = a2;
  }

  v12 = result[23];
  if (v12)
  {
    *(v12 + 273) = a2;
  }

  v13 = result[27];
  if (v13)
  {
    *(v13 + 273) = a2;
  }

  return result;
}

uint64_t sub_1003901AC(uint64_t a1)
{
  v2 = *(a1 + 36);
  if ((v2 - 101) >= 2)
  {
    if (v2 == 103)
    {
      goto LABEL_8;
    }

    v5 = *a1;
    *(v5 + 10) = 21;
    *(v5 + 11) = v2;
    v4 = *a1;
  }

  else
  {
    if (*(a1 + 328) < *(a1 + 52))
    {
      v3 = *a1;
      *(v3 + 10) = 69;
      (*v3)(a1);
    }

    v4 = (*(a1 + 480) + 16);
  }

  (*v4)(a1);
LABEL_8:
  for (i = *(a1 + 480); !*(i + 25); i = *(a1 + 480))
  {
    (*i)(a1);
    v8 = *(a1 + 352);
    if (v8)
    {
      for (j = 0; j < v8; ++j)
      {
        v10 = *(a1 + 16);
        if (v10)
        {
          *(v10 + 8) = j;
          *(v10 + 16) = v8;
          (*v10)(a1);
        }

        if (!(*(*(a1 + 504) + 8))(a1, 0))
        {
          v11 = *a1;
          *(v11 + 10) = 25;
          (*v11)(a1);
        }

        v8 = *(a1 + 352);
      }
    }

    (*(*(a1 + 480) + 16))(a1);
  }

  (*(*(a1 + 512) + 24))(a1);
  (*(*(a1 + 40) + 32))(a1);

  return sub_10039D400(a1);
}

uint64_t sub_100390314(uint64_t a1, int a2)
{
  v4 = *(a1 + 36);
  if (v4 != 100)
  {
    v5 = *a1;
    *(v5 + 10) = 21;
    *(v5 + 11) = v4;
    (**a1)(a1);
  }

  if (a2)
  {
    sub_100390118(a1, 0);
  }

  (*(*a1 + 32))(a1);
  (*(*(a1 + 40) + 16))(a1);
  sub_100397EEC(a1);
  result = (**(a1 + 480))(a1);
  *(a1 + 328) = 0;
  if (*(a1 + 288))
  {
    v7 = 102;
  }

  else
  {
    v7 = 101;
  }

  *(a1 + 36) = v7;
  return result;
}

uint64_t sub_1003903C0(uint64_t a1, uint64_t a2, unsigned int a3)
{
  v6 = *(a1 + 36);
  if (v6 == 101)
  {
    if (*(a1 + 328) < *(a1 + 52))
    {
      goto LABEL_3;
    }
  }

  else
  {
    v13 = *a1;
    *(v13 + 10) = 21;
    *(v13 + 11) = v6;
    (**a1)(a1);
    if (*(a1 + 328) < *(a1 + 52))
    {
LABEL_3:
      v7 = *(a1 + 16);
      if (!v7)
      {
        goto LABEL_5;
      }

      goto LABEL_4;
    }
  }

  v14 = *a1;
  *(v14 + 10) = 126;
  (v14[1])(a1, 0xFFFFFFFFLL);
  v7 = *(a1 + 16);
  if (v7)
  {
LABEL_4:
    v8 = *(a1 + 52);
    *(v7 + 8) = *(a1 + 328);
    *(v7 + 16) = v8;
    (*v7)(a1);
  }

LABEL_5:
  v9 = *(a1 + 480);
  if (*(v9 + 24))
  {
    (*(v9 + 8))(a1);
  }

  v10 = *(a1 + 52) - *(a1 + 328);
  if (v10 >= a3)
  {
    v11 = a3;
  }

  else
  {
    v11 = v10;
  }

  v15 = 0;
  (*(*(a1 + 488) + 8))(a1, a2, &v15, v11);
  result = v15;
  *(a1 + 328) += v15;
  return result;
}

_OWORD *sub_1003904E0(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  *(a1 + 544) = v2;
  *v2 = sub_100390578;
  *(v2 + 16) = sub_1003907DC;
  *(v2 + 248) = 0u;
  *(v2 + 232) = 0u;
  *(v2 + 216) = 0u;
  *(v2 + 200) = 0u;
  *(v2 + 184) = 0u;
  *(v2 + 168) = 0u;
  *(v2 + 152) = 0u;
  *(v2 + 136) = 0u;
  *(v2 + 120) = 0u;
  *(v2 + 360) = 113;
  *(v2 + 104) = 0u;
  result = (v2 + 104);
  result[14] = 0u;
  result[15] = 0u;
  result[12] = 0u;
  result[13] = 0u;
  result[10] = 0u;
  result[11] = 0u;
  return result;
}

double sub_100390578(uint64_t a1, int a2)
{
  v3 = *(a1 + 544);
  if (a2)
  {
    v4 = *a1;
    *(v4 + 10) = 49;
    (*v4)(a1);
  }

  if (!*(a1 + 332))
  {
    *(v3 + 8) = sub_1003915B4;
    if (*(a1 + 356) < 1)
    {
      goto LABEL_32;
    }

    goto LABEL_16;
  }

  v5 = *(a1 + 444);
  if (*(a1 + 452))
  {
    if (v5)
    {
      *(v3 + 8) = sub_100391348;
      if (*(a1 + 356) < 1)
      {
        goto LABEL_32;
      }
    }

    else
    {
      *(v3 + 8) = sub_100391294;
      if (*(a1 + 356) < 1)
      {
        goto LABEL_32;
      }
    }

    goto LABEL_16;
  }

  if (v5)
  {
    *(v3 + 8) = sub_100390FCC;
    if (*(a1 + 356) < 1)
    {
      goto LABEL_32;
    }

    goto LABEL_16;
  }

  *(v3 + 8) = sub_100390D68;
  if (*(a1 + 356) >= 1)
  {
LABEL_16:
    v6 = v3 + 104;
    v7 = (v3 + 80);
    v8 = v3 + 232;
    v9 = 45;
    while (1)
    {
      v12 = *(a1 + 8 * v9);
      if (!*(a1 + 444) && !*(a1 + 452))
      {
        break;
      }

      if (*(a1 + 448))
      {
        goto LABEL_24;
      }

LABEL_20:
      ++v7;
      v11 = v9 - 44;
      ++v9;
      if (v11 >= *(a1 + 356))
      {
        goto LABEL_32;
      }
    }

    v15 = *(v12 + 20);
    if (v15 >= 0x10)
    {
      v16 = *a1;
      *(v16 + 10) = 50;
      *(v16 + 11) = v15;
      (**a1)(a1);
    }

    v17 = *(v6 + 8 * v15);
    if (!v17)
    {
      v17 = (**(a1 + 8))(a1, 1, 64);
      *(v6 + 8 * v15) = v17;
    }

    v17[2] = 0u;
    v17[3] = 0u;
    *v17 = 0u;
    v17[1] = 0u;
    *(v7 - 4) = 0;
    *v7 = 0;
    if (!*(a1 + 448))
    {
      goto LABEL_20;
    }

LABEL_24:
    v13 = *(v12 + 24);
    if (v13 >= 0x10)
    {
      v14 = *a1;
      *(v14 + 10) = 50;
      *(v14 + 11) = v13;
      (**a1)(a1);
    }

    v10 = *(v8 + 8 * v13);
    if (!v10)
    {
      v10 = (**(a1 + 8))(a1, 1, 256);
      *(v8 + 8 * v13) = v10;
    }

    v10[14] = 0u;
    v10[15] = 0u;
    v10[12] = 0u;
    v10[13] = 0u;
    v10[10] = 0u;
    v10[11] = 0u;
    v10[8] = 0u;
    v10[9] = 0u;
    v10[6] = 0u;
    v10[7] = 0u;
    v10[4] = 0u;
    v10[5] = 0u;
    v10[2] = 0u;
    v10[3] = 0u;
    *v10 = 0u;
    v10[1] = 0u;
    goto LABEL_20;
  }

LABEL_32:
  *(v3 + 24) = xmmword_1003EC070;
  *(v3 + 40) = 0;
  *(v3 + 48) = 0;
  result = NAN;
  *(v3 + 56) = -4294967285;
  *(v3 + 96) = *(a1 + 304);
  return result;
}

uint64_t sub_1003907DC(uint64_t result)
{
  v1 = result;
  v2 = *(result + 544);
  v3 = *(v2 + 24);
  v4 = (*(v2 + 32) + v3 - 1) & 0xFFFF0000;
  if (v4 >= v3)
  {
    v5 = (*(v2 + 32) + v3 - 1) & 0xFFFF0000;
  }

  else
  {
    v5 = v4 | 0x8000;
  }

  v6 = *(v2 + 60);
  v7 = v5 << *(v2 + 56);
  *(v2 + 24) = v7;
  if ((v7 & 0xF8000000) != 0)
  {
    if ((v6 & 0x80000000) == 0)
    {
      if (*(v2 + 48))
      {
        do
        {
          v9 = v1[5];
          v10 = (*v9)++;
          *v10 = 0;
          v11 = *(v9 + 8) - 1;
          *(v9 + 8) = v11;
          if (!v11)
          {
            result = (*(v9 + 24))(v1);
            if (!result)
            {
              v12 = *v1;
              *(v12 + 40) = 25;
              result = (*v12)(v1);
            }
          }

          v8 = *(v2 + 48) - 1;
          *(v2 + 48) = v8;
        }

        while (v8);
        v6 = *(v2 + 60);
      }

      v18 = v1[5];
      v19 = (*v18)++;
      *v19 = v6 + 1;
      v20 = *(v18 + 8) - 1;
      *(v18 + 8) = v20;
      if (!v20)
      {
        result = (*(v18 + 24))(v1);
        if (!result)
        {
          v21 = *v1;
          *(v21 + 40) = 25;
          result = (*v21)(v1);
        }
      }

      if (*(v2 + 60) == 254)
      {
        v22 = v1[5];
        v23 = (*v22)++;
        *v23 = 0;
        v24 = *(v22 + 8) - 1;
        *(v22 + 8) = v24;
        if (!v24)
        {
          result = (*(v22 + 24))(v1);
          if (!result)
          {
            v25 = *v1;
            *(v25 + 40) = 25;
            result = (*v25)(v1);
          }
        }
      }
    }

    v26 = *(v2 + 48) + *(v2 + 40);
    *(v2 + 40) = 0;
    *(v2 + 48) = v26;
  }

  else
  {
    if (v6)
    {
      if ((v6 & 0x80000000) == 0)
      {
        if (*(v2 + 48))
        {
          do
          {
            v14 = v1[5];
            v15 = (*v14)++;
            *v15 = 0;
            v16 = *(v14 + 8) - 1;
            *(v14 + 8) = v16;
            if (!v16)
            {
              result = (*(v14 + 24))(v1);
              if (!result)
              {
                v17 = *v1;
                *(v17 + 40) = 25;
                result = (*v17)(v1);
              }
            }

            v13 = *(v2 + 48) - 1;
            *(v2 + 48) = v13;
          }

          while (v13);
          v6 = *(v2 + 60);
        }

        v50 = v1[5];
        v51 = (*v50)++;
        *v51 = v6;
        v52 = *(v50 + 8) - 1;
        *(v50 + 8) = v52;
        if (!v52)
        {
          result = (*(v50 + 24))(v1);
          if (!result)
          {
            v53 = *v1;
            *(v53 + 40) = 25;
            result = (*v53)(v1);
          }
        }
      }
    }

    else
    {
      ++*(v2 + 48);
    }

    if (*(v2 + 40))
    {
      if (*(v2 + 48))
      {
        do
        {
          v55 = v1[5];
          v56 = (*v55)++;
          *v56 = 0;
          v57 = *(v55 + 8) - 1;
          *(v55 + 8) = v57;
          if (!v57)
          {
            result = (*(v55 + 24))(v1);
            if (!result)
            {
              v58 = *v1;
              *(v58 + 40) = 25;
              result = (*v58)(v1);
            }
          }

          v54 = *(v2 + 48) - 1;
          *(v2 + 48) = v54;
        }

        while (v54);
      }

      do
      {
        v60 = v1[5];
        v61 = (*v60)++;
        *v61 = -1;
        v62 = *(v60 + 8) - 1;
        *(v60 + 8) = v62;
        if (!v62)
        {
          result = (*(v60 + 24))(v1);
          if (!result)
          {
            v63 = *v1;
            *(v63 + 40) = 25;
            result = (*v63)(v1);
          }
        }

        v64 = v1[5];
        v65 = (*v64)++;
        *v65 = 0;
        v66 = *(v64 + 8) - 1;
        *(v64 + 8) = v66;
        if (!v66)
        {
          result = (*(v64 + 24))(v1);
          if (!result)
          {
            v67 = *v1;
            *(v67 + 40) = 25;
            result = (*v67)(v1);
          }
        }

        v59 = *(v2 + 40) - 1;
        *(v2 + 40) = v59;
      }

      while (v59);
    }
  }

  v27 = *(v2 + 24);
  if ((v27 & 0x7FFF800) != 0)
  {
    if (*(v2 + 48))
    {
      do
      {
        v29 = v1[5];
        v30 = (*v29)++;
        *v30 = 0;
        v31 = *(v29 + 8) - 1;
        *(v29 + 8) = v31;
        if (!v31)
        {
          result = (*(v29 + 24))(v1);
          if (!result)
          {
            v32 = *v1;
            *(v32 + 40) = 25;
            result = (*v32)(v1);
          }
        }

        v28 = *(v2 + 48) - 1;
        *(v2 + 48) = v28;
      }

      while (v28);
      v27 = *(v2 + 24);
    }

    v33 = v1[5];
    v34 = (*v33)++;
    *v34 = v27 >> 19;
    v35 = *(v33 + 8) - 1;
    *(v33 + 8) = v35;
    if (!v35)
    {
      result = (*(v33 + 24))(v1);
      if (!result)
      {
        v36 = *v1;
        *(v36 + 40) = 25;
        result = (*v36)(v1);
      }
    }

    if ((~*(v2 + 24) & 0x7F80000) == 0)
    {
      v37 = v1[5];
      v38 = (*v37)++;
      *v38 = 0;
      v39 = *(v37 + 8) - 1;
      *(v37 + 8) = v39;
      if (!v39)
      {
        result = (*(v37 + 24))(v1);
        if (!result)
        {
          v40 = *v1;
          *(v40 + 40) = 25;
          result = (*v40)(v1);
        }
      }
    }

    v41 = *(v2 + 24);
    if ((v41 & 0x7F800) != 0)
    {
      v42 = v1[5];
      v43 = (*v42)++;
      *v43 = v41 >> 11;
      v44 = *(v42 + 8) - 1;
      *(v42 + 8) = v44;
      if (v44 || (result = (*(v42 + 24))(v1), result))
      {
        if ((~*(v2 + 24) & 0x7F800) != 0)
        {
          return result;
        }
      }

      else
      {
        v68 = *v1;
        *(v68 + 40) = 25;
        result = (*v68)(v1);
        if ((~*(v2 + 24) & 0x7F800) != 0)
        {
          return result;
        }
      }

      v45 = v1[5];
      v46 = (*v45)++;
      *v46 = 0;
      v47 = *(v45 + 8) - 1;
      *(v45 + 8) = v47;
      if (!v47)
      {
        result = (*(v45 + 24))(v1);
        if (!result)
        {
          v48 = *v1;
          *(v48 + 40) = 25;
          v49 = *v48;

          return v49(v1);
        }
      }
    }
  }

  return result;
}

uint64_t sub_100390D68(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 544);
  if (*(a1 + 304))
  {
    v4 = *(v3 + 96);
    if (!v4)
    {
      sub_100391A78(a1, *(v3 + 100));
      v4 = *(a1 + 304);
      *(v3 + 100) = (*(v3 + 100) + 1) & 7;
    }

    *(v3 + 96) = v4 - 1;
  }

  if (*(a1 + 400) >= 1)
  {
    v5 = 0;
    v6 = v3 + 104;
    v7 = v3 + 80;
    v8 = v3 + 64;
    v25 = v3 + 104;
    v26 = v3 + 64;
    while (1)
    {
      v9 = *(a1 + 404 + 4 * v5);
      v10 = *(*(a1 + 360 + 8 * v9) + 20);
      v11 = **(a2 + 8 * v5) >> *(a1 + 456);
      v12 = (*(v6 + 8 * v10) + *(v7 + 4 * v9));
      v13 = *(v8 + 4 * v9);
      v14 = v11 - v13;
      if (v11 != v13)
      {
        break;
      }

      sub_100391C10(a1, (*(v6 + 8 * v10) + *(v7 + 4 * v9)), 0);
      *(v7 + 4 * v9) = 0;
LABEL_8:
      ++v5;
      v8 = v26;
      if (v5 >= *(a1 + 400))
      {
        return 1;
      }
    }

    *(v8 + 4 * v9) = v11;
    sub_100391C10(a1, v12, 1);
    v15 = v14 <= 0;
    if (v14 <= 0)
    {
      v16 = 3;
    }

    else
    {
      v16 = 2;
    }

    if (v14 <= 0)
    {
      v17 = 8;
    }

    else
    {
      v17 = 4;
    }

    if (v14 <= 0)
    {
      v14 = -v14;
    }

    sub_100391C10(a1, v12 + 1, v15);
    v18 = &v12[v16];
    *(v7 + 4 * v9) = v17;
    v19 = v14 - 1;
    if (v14 == 1)
    {
      v20 = 0;
    }

    else
    {
      v20 = 1;
      sub_100391C10(a1, v18, 1);
      v18 = (*(v6 + 8 * v10) + 20);
      if (v14 != 2)
      {
        v21 = v14 - 1;
        do
        {
          sub_100391C10(a1, v18, 1);
          v20 *= 2;
          ++v18;
          v22 = v21 > 3;
          v21 >>= 1;
        }

        while (v22);
      }
    }

    sub_100391C10(a1, v18, 0);
    v23 = 0;
    if (v20 >= ((1 << *(a1 + 224 + v10)) >> 1))
    {
      if (v20 <= ((1 << *(a1 + 240 + v10)) >> 1))
      {
        goto LABEL_28;
      }

      v23 = *(v7 + 4 * v9) + 8;
    }

    *(v7 + 4 * v9) = v23;
LABEL_28:
    v6 = v25;
    if (v20 >= 2)
    {
      do
      {
        v20 >>= 1;
        sub_100391C10(a1, v18 + 14, (v20 & v19) != 0);
      }

      while (v20 > 1);
    }

    goto LABEL_8;
  }

  return 1;
}

uint64_t sub_100390FCC(uint64_t a1, void *a2)
{
  v3 = *(a1 + 544);
  if (*(a1 + 304))
  {
    v4 = *(v3 + 96);
    if (!v4)
    {
      v5 = a2;
      sub_100391A78(a1, *(v3 + 100));
      a2 = v5;
      v4 = *(a1 + 304);
      *(v3 + 100) = (*(v3 + 100) + 1) & 7;
    }

    *(v3 + 96) = v4 - 1;
  }

  v6 = *(a1 + 464);
  v7 = *a2;
  v8 = *(*(a1 + 360) + 24);
  v9 = *(a1 + 448);
  v10 = v9;
  do
  {
    v11 = *(v7 + 2 * *(v6 + 4 * v10));
    if ((v11 & 0x80000000) != 0)
    {
      v11 = -v11;
    }

    if (v11 >> *(a1 + 456))
    {
      break;
    }

    --v10;
  }

  while (v10);
  v12 = *(a1 + 444);
  v13 = v12 - 1;
  if (v12 <= v10)
  {
    v31 = v3;
    v32 = v6 + 4;
    v33 = v3 + 232;
    while (1)
    {
      v14 = (*(v33 + 8 * v8) + 3 * v13);
      sub_100391C10(a1, v14, 0);
      v15 = (v32 + 4 * v13);
      v16 = v14 + 1;
      for (i = v13; ; ++i)
      {
        v19 = *v15++;
        v20 = *(v7 + 2 * v19);
        if ((v20 & 0x80000000) != 0)
        {
          break;
        }

        v18 = v20 >> *(a1 + 456);
        if (v18)
        {
          v21 = 0;
          goto LABEL_21;
        }

LABEL_16:
        sub_100391C10(a1, v16, 0);
        v16 += 3;
      }

      v18 = -v20 >> *(a1 + 456);
      if (!v18)
      {
        goto LABEL_16;
      }

      v21 = 1;
LABEL_21:
      sub_100391C10(a1, v16, 1);
      sub_100391C10(a1, (v3 + 360), v21);
      v22 = v18 - 1;
      if (v18 == 1 || (sub_100391C10(a1, v16 + 1, 1), v18 == 2))
      {
        sub_100391C10(a1, v16 + 1, 0);
      }

      else
      {
        sub_100391C10(a1, v16 + 1, 1);
        v23 = *(v33 + 8 * v8);
        v24 = 217;
        if (i < *(a1 + 256 + v8))
        {
          v24 = 189;
        }

        v25 = (v23 + v24);
        if (v18 >= 5)
        {
          j = 2;
          v28 = v22;
          do
          {
            sub_100391C10(a1, v25, 1);
            j *= 2;
            ++v25;
            v29 = v28 >= 8;
            v28 >>= 1;
          }

          while (v29);
          sub_100391C10(a1, v25, 0);
          v3 = v31;
          if (j)
          {
            v26 = v25 + 14;
            goto LABEL_31;
          }
        }

        else
        {
          sub_100391C10(a1, (v23 + v24), 0);
          v26 = v25 + 14;
          for (j = 2; j >= 2; sub_100391C10(a1, v26, (j & v22) != 0))
          {
LABEL_31:
            j >>= 1;
          }
        }
      }

      v13 = i + 1;
      if (v10 <= i + 1)
      {
        v9 = *(a1 + 448);
        v13 = i + 1;
        break;
      }
    }
  }

  if (v13 < v9)
  {
    sub_100391C10(a1, (*(v3 + 8 * v8 + 232) + 3 * v13), 1);
  }

  return 1;
}

uint64_t sub_100391294(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 544);
  if (*(a1 + 304))
  {
    v5 = *(v4 + 96);
    if (!v5)
    {
      sub_100391A78(a1, *(v4 + 100));
      v5 = *(a1 + 304);
      *(v4 + 100) = (*(v4 + 100) + 1) & 7;
    }

    *(v4 + 96) = v5 - 1;
  }

  if (*(a1 + 400) >= 1)
  {
    v6 = 0;
    v7 = *(a1 + 456);
    do
    {
      sub_100391C10(a1, (v4 + 360), (**(a2 + 8 * v6++) >> v7) & 1);
    }

    while (v6 < *(a1 + 400));
  }

  return 1;
}

uint64_t sub_100391348(uint64_t a1, void *a2)
{
  v3 = *(a1 + 544);
  if (*(a1 + 304))
  {
    v4 = *(v3 + 96);
    if (!v4)
    {
      v5 = a2;
      sub_100391A78(a1, *(v3 + 100));
      a2 = v5;
      v4 = *(a1 + 304);
      *(v3 + 100) = (*(v3 + 100) + 1) & 7;
    }

    *(v3 + 96) = v4 - 1;
  }

  v6 = *(a1 + 464);
  v7 = *a2;
  v8 = *(*(a1 + 360) + 24);
  v9 = *(a1 + 448);
  v10 = v9;
  while (1)
  {
    v11 = *(v7 + 2 * *(v6 + 4 * v10));
    if ((v11 & 0x80000000) != 0)
    {
      v11 = -v11;
    }

    if (v11 >> *(a1 + 456))
    {
      break;
    }

    if (!--v10)
    {
LABEL_17:
      v14 = 0;
      goto LABEL_18;
    }
  }

  if (v10 >= 1)
  {
    v12 = v10 + 1;
    v13 = (v6 + 4 * v10);
    v14 = v10;
    while (1)
    {
      v15 = *v13--;
      v16 = *(v7 + 2 * v15);
      if ((v16 & 0x80000000) != 0)
      {
        v16 = -v16;
      }

      if (v16 >> *(a1 + 452))
      {
        break;
      }

      --v14;
      if (--v12 <= 1)
      {
        goto LABEL_17;
      }
    }

LABEL_18:
    v17 = *(a1 + 444);
    v18 = v17 - 1;
    if (v17 > v10)
    {
      goto LABEL_34;
    }

    goto LABEL_19;
  }

  v14 = v10;
  v32 = *(a1 + 444);
  v18 = v32 - 1;
  if (v32 <= v10)
  {
LABEL_19:
    v33 = v3;
    v19 = v3 + 232;
    v20 = v6 + 4;
    while (1)
    {
      v24 = *(v19 + 8 * v8);
      v25 = v24 + 3 * v18;
      if (v18 >= v14)
      {
        sub_100391C10(a1, (v24 + 3 * v18), 0);
      }

      v26 = (v20 + 4 * v18++);
      for (i = (v25 + 1); ; i += 3)
      {
        v29 = *v26++;
        v30 = *(v7 + 2 * v29);
        if ((v30 & 0x80000000) != 0)
        {
          break;
        }

        v28 = v30 >> *(a1 + 456);
        if (v28)
        {
          if (v28 == 1)
          {
            sub_100391C10(a1, i, 1);
            v21 = (v33 + 360);
            v23 = a1;
            v22 = 0;
            goto LABEL_21;
          }

LABEL_20:
          v21 = i + 1;
          v22 = v28 & 1;
          v23 = a1;
          goto LABEL_21;
        }

LABEL_26:
        sub_100391C10(a1, i, 0);
        ++v18;
      }

      v28 = -v30 >> *(a1 + 456);
      if (!v28)
      {
        goto LABEL_26;
      }

      if (v28 != 1)
      {
        goto LABEL_20;
      }

      sub_100391C10(a1, i, 1);
      v21 = (v33 + 360);
      v23 = a1;
      v22 = 1;
LABEL_21:
      sub_100391C10(v23, v21, v22);
      if (v10 <= v18)
      {
        v9 = *(a1 + 448);
        v3 = v33;
        break;
      }
    }
  }

LABEL_34:
  if (v18 < v9)
  {
    sub_100391C10(a1, (*(v3 + 8 * v8 + 232) + 3 * v18), 1);
  }

  return 1;
}

uint64_t sub_1003915B4(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 544);
  if (*(a1 + 304))
  {
    v4 = *(v3 + 96);
    if (!v4)
    {
      sub_100391A78(a1, *(v3 + 100));
      v4 = *(a1 + 304);
      *(v3 + 100) = (*(v3 + 100) + 1) & 7;
    }

    *(v3 + 96) = v4 - 1;
  }

  if (*(a1 + 400) >= 1)
  {
    v5 = 0;
    v6 = *(a1 + 464);
    v46 = a1 + 360;
    v49 = v3 + 104;
    v7 = v3 + 80;
    v8 = v3 + 64;
    v53 = v3 + 232;
    v50 = v3 + 80;
    v45 = v3 + 64;
    v52 = v3;
    do
    {
      v9 = *(a2 + 8 * v5);
      v51 = v5;
      v10 = *(a1 + 404 + 4 * v5);
      v11 = *(v46 + 8 * v10);
      v12 = *(v11 + 20);
      v13 = (*(v49 + 8 * v12) + *(v7 + 4 * v10));
      v14 = *v9;
      v15 = *(v8 + 4 * v10);
      v16 = v14 - v15;
      if (v14 == v15)
      {
        sub_100391C10(a1, (*(v49 + 8 * v12) + *(v7 + 4 * v10)), 0);
        *(v7 + 4 * v10) = 0;
        v25 = v52;
        goto LABEL_31;
      }

      v48 = *(v46 + 8 * v10);
      *(v8 + 4 * v10) = v14;
      sub_100391C10(a1, v13, 1);
      v17 = v16 <= 0;
      if (v16 <= 0)
      {
        v18 = 3;
      }

      else
      {
        v18 = 2;
      }

      if (v16 <= 0)
      {
        v19 = 8;
      }

      else
      {
        v19 = 4;
      }

      if (v16 <= 0)
      {
        v16 = -v16;
      }

      sub_100391C10(a1, v13 + 1, v17);
      v20 = &v13[v18];
      *(v7 + 4 * v10) = v19;
      v21 = v16 - 1;
      if (v16 == 1)
      {
        v22 = 0;
      }

      else
      {
        v22 = 1;
        sub_100391C10(a1, v20, 1);
        v20 = (*(v49 + 8 * v12) + 20);
        if (v16 != 2)
        {
          v23 = v16 - 1;
          do
          {
            sub_100391C10(a1, v20, 1);
            v22 *= 2;
            ++v20;
            v24 = v23 > 3;
            v23 >>= 1;
          }

          while (v24);
        }
      }

      sub_100391C10(a1, v20, 0);
      v26 = 0;
      v25 = v52;
      v11 = v48;
      if (v22 >= ((1 << *(a1 + 224 + v12)) >> 1))
      {
        if (v22 <= ((1 << *(a1 + 240 + v12)) >> 1))
        {
          goto LABEL_29;
        }

        v26 = *(v50 + 4 * v10) + 8;
      }

      *(v50 + 4 * v10) = v26;
LABEL_29:
      if (v22 >= 2)
      {
        do
        {
          v22 >>= 1;
          sub_100391C10(a1, v20 + 14, (v22 & v21) != 0);
        }

        while (v22 > 1);
      }

LABEL_31:
      v27 = *(a1 + 472);
      if (!v27)
      {
        goto LABEL_8;
      }

      v28 = v27;
      v29 = *(v11 + 24);
      while (!v9[*(v6 + 4 * v28)])
      {
        if (!--v28)
        {
          goto LABEL_60;
        }
      }

      if (v28 < 1)
      {
LABEL_60:
        v30 = 0;
        if (v27 > 0)
        {
          goto LABEL_7;
        }

        goto LABEL_8;
      }

      v30 = 0;
      do
      {
        v31 = (*(v53 + 8 * v29) + 3 * v30);
        sub_100391C10(a1, v31, 0);
        LOWORD(v32) = v9[*(v6 + 4 * (v30 + 1))];
        if (v32)
        {
          v33 = v30++;
        }

        else
        {
          v34 = (v6 + 4 + 4 * (v30 + 1));
          do
          {
            sub_100391C10(a1, v31 + 1, 0);
            v31 += 3;
            v35 = *v34++;
            LOWORD(v32) = v9[v35];
            ++v30;
          }

          while (!v32);
          v33 = v30++;
          v25 = v52;
        }

        sub_100391C10(a1, v31 + 1, 1);
        v36 = v32 < 1;
        if ((v32 & 0x8000u) == 0)
        {
          v32 = v32;
        }

        else
        {
          v32 = -v32;
        }

        sub_100391C10(a1, (v25 + 360), v36);
        v37 = v32 - 1;
        if (!v37 || (sub_100391C10(a1, v31 + 2, 1), v37 == 1))
        {
          sub_100391C10(a1, v31 + 2, 0);
          continue;
        }

        sub_100391C10(a1, v31 + 2, 1);
        v38 = *(v53 + 8 * v29);
        v39 = 217;
        if (v33 < *(a1 + 256 + v29))
        {
          v39 = 189;
        }

        v40 = (v38 + v39);
        v41 = v37 >> 1;
        if ((v37 >> 1) < 2)
        {
          sub_100391C10(a1, (v38 + v39), 0);
          v42 = v40 + 14;
          v43 = 2;
          v25 = v52;
          goto LABEL_58;
        }

        v43 = 2;
        do
        {
          sub_100391C10(a1, v40, 1);
          v43 *= 2;
          ++v40;
          v41 >>= 1;
        }

        while (v41 >= 2);
        sub_100391C10(a1, v40, 0);
        v25 = v52;
        if (v43)
        {
          v42 = v40 + 14;
          do
          {
LABEL_58:
            v43 >>= 1;
            sub_100391C10(a1, v42, (v43 & v37) != 0);
          }

          while (v43 >= 2);
        }
      }

      while (v30 < v28);
      if (v30 < *(a1 + 472))
      {
LABEL_7:
        sub_100391C10(a1, (*(v53 + 8 * v29) + 3 * v30), 1);
      }

LABEL_8:
      v7 = v50;
      v5 = v51 + 1;
      v8 = v45;
    }

    while (v51 + 1 < *(a1 + 400));
  }

  return 1;
}

double sub_100391A78(uint64_t a1, char a2)
{
  v4 = *(a1 + 544);
  sub_1003907DC(a1);
  v5 = *(a1 + 40);
  v6 = (*v5)++;
  *v6 = -1;
  v7 = *(v5 + 8) - 1;
  *(v5 + 8) = v7;
  if (!v7 && !(*(v5 + 24))(a1))
  {
    v8 = *a1;
    *(v8 + 40) = 25;
    (*v8)(a1);
  }

  v9 = *(a1 + 40);
  v10 = (*v9)++;
  *v10 = a2 - 48;
  v11 = *(v9 + 8) - 1;
  *(v9 + 8) = v11;
  if (!v11 && !(*(v9 + 24))(a1))
  {
    v12 = *a1;
    *(v12 + 40) = 25;
    (*v12)(a1);
  }

  if (*(a1 + 356) >= 1)
  {
    v13 = 0;
    v14 = (v4 + 80);
    while (1)
    {
      v15 = *(a1 + 360 + 8 * v13);
      if (!*(a1 + 444) && !*(a1 + 452))
      {
        break;
      }

      if (*(a1 + 448))
      {
        goto LABEL_13;
      }

LABEL_9:
      ++v13;
      ++v14;
      if (v13 >= *(a1 + 356))
      {
        goto LABEL_16;
      }
    }

    v17 = *(v4 + 104 + 8 * *(v15 + 20));
    v17[2] = 0uLL;
    v17[3] = 0uLL;
    *v17 = 0uLL;
    v17[1] = 0uLL;
    *(v14 - 4) = 0;
    *v14 = 0;
    if (!*(a1 + 448))
    {
      goto LABEL_9;
    }

LABEL_13:
    v16 = *(v4 + 232 + 8 * *(v15 + 24));
    v16[14] = 0uLL;
    v16[15] = 0uLL;
    v16[12] = 0uLL;
    v16[13] = 0uLL;
    v16[10] = 0uLL;
    v16[11] = 0uLL;
    v16[8] = 0uLL;
    v16[9] = 0uLL;
    v16[6] = 0uLL;
    v16[7] = 0uLL;
    v16[4] = 0uLL;
    v16[5] = 0uLL;
    v16[2] = 0uLL;
    v16[3] = 0uLL;
    *v16 = 0uLL;
    v16[1] = 0uLL;
    goto LABEL_9;
  }

LABEL_16:
  *(v4 + 24) = xmmword_1003EC070;
  *(v4 + 40) = 0;
  *(v4 + 48) = 0;
  result = NAN;
  *(v4 + 56) = -4294967285;
  return result;
}

uint64_t sub_100391C10(uint64_t result, _BYTE *a2, int a3)
{
  v3 = result;
  v4 = *a2;
  v5 = qword_1003EBCC0[v4 & 0x7F];
  v6 = *(result + 544);
  v7 = v5 >> 16;
  v8 = *(v6 + 32) - (v5 >> 16);
  *(v6 + 32) = v8;
  if (a3 != v4 >> 7)
  {
    if (v8 >= v7)
    {
      *(v6 + 24) += v8;
      *(v6 + 32) = v7;
    }

    v9 = v4 & 0x80 ^ v5;
    goto LABEL_10;
  }

  if (v8 < 0x8000)
  {
    v10 = v5 >> 8;
    if (v8 < v7)
    {
      *(v6 + 24) += v8;
      *(v6 + 32) = v7;
    }

    v9 = v10 ^ v4 & 0x80;
LABEL_10:
    *a2 = v9;
    v12 = *(v6 + 24);
    v11 = *(v6 + 32);
    v13 = *(v6 + 56);
    while (1)
    {
      v11 *= 2;
      v12 *= 2;
      *(v6 + 24) = v12;
      *(v6 + 32) = v11;
      *(v6 + 56) = --v13;
      if (v13)
      {
        goto LABEL_14;
      }

      if (v12 >> 19 >= 256)
      {
        break;
      }

      if (v12 >> 19 == 255)
      {
        ++*(v6 + 40);
        goto LABEL_13;
      }

      v21 = *(v6 + 60);
      if (v21)
      {
        if ((v21 & 0x80000000) == 0)
        {
          if (*(v6 + 48))
          {
            do
            {
              v23 = v3[5];
              v24 = (*v23)++;
              *v24 = 0;
              v25 = *(v23 + 8) - 1;
              *(v23 + 8) = v25;
              if (!v25)
              {
                result = (*(v23 + 24))(v3);
                if (!result)
                {
                  v26 = *v3;
                  *(v26 + 40) = 25;
                  result = (*v26)(v3);
                }
              }

              v22 = *(v6 + 48) - 1;
              *(v6 + 48) = v22;
            }

            while (v22);
            v21 = *(v6 + 60);
          }

          v34 = v3[5];
          v35 = (*v34)++;
          *v35 = v21;
          v36 = *(v34 + 8) - 1;
          *(v34 + 8) = v36;
          if (!v36)
          {
            result = (*(v34 + 24))(v3);
            if (!result)
            {
              v37 = *v3;
              *(v37 + 40) = 25;
              result = (*v37)(v3);
            }
          }
        }
      }

      else
      {
        ++*(v6 + 48);
      }

      if (*(v6 + 40))
      {
        if (*(v6 + 48))
        {
          do
          {
            v39 = v3[5];
            v40 = (*v39)++;
            *v40 = 0;
            v41 = *(v39 + 8) - 1;
            *(v39 + 8) = v41;
            if (!v41)
            {
              result = (*(v39 + 24))(v3);
              if (!result)
              {
                v42 = *v3;
                *(v42 + 40) = 25;
                result = (*v42)(v3);
              }
            }

            v38 = *(v6 + 48) - 1;
            *(v6 + 48) = v38;
          }

          while (v38);
        }

        do
        {
          v44 = v3[5];
          v45 = (*v44)++;
          *v45 = -1;
          v46 = *(v44 + 8) - 1;
          *(v44 + 8) = v46;
          if (!v46)
          {
            result = (*(v44 + 24))(v3);
            if (!result)
            {
              v47 = *v3;
              *(v47 + 40) = 25;
              result = (*v47)(v3);
            }
          }

          v48 = v3[5];
          v49 = (*v48)++;
          *v49 = 0;
          v50 = *(v48 + 8) - 1;
          *(v48 + 8) = v50;
          if (!v50)
          {
            result = (*(v48 + 24))(v3);
            if (!result)
            {
              v51 = *v3;
              *(v51 + 40) = 25;
              result = (*v51)(v3);
            }
          }

          v43 = *(v6 + 40) - 1;
          *(v6 + 40) = v43;
        }

        while (v43);
      }

LABEL_12:
      *(v6 + 60) = (v12 >> 19);
LABEL_13:
      v11 = *(v6 + 32);
      v12 = *(v6 + 24) & 0x7FFFFLL;
      *(v6 + 24) = v12;
      v13 = *(v6 + 56) + 8;
      *(v6 + 56) = v13;
LABEL_14:
      if (v11 >= 0x8000)
      {
        return result;
      }
    }

    v15 = *(v6 + 60);
    if ((v15 & 0x80000000) == 0)
    {
      if (*(v6 + 48))
      {
        do
        {
          v17 = v3[5];
          v18 = (*v17)++;
          *v18 = 0;
          v19 = *(v17 + 8) - 1;
          *(v17 + 8) = v19;
          if (!v19)
          {
            result = (*(v17 + 24))(v3);
            if (!result)
            {
              v20 = *v3;
              *(v20 + 40) = 25;
              result = (*v20)(v3);
            }
          }

          v16 = *(v6 + 48) - 1;
          *(v6 + 48) = v16;
        }

        while (v16);
        v15 = *(v6 + 60);
      }

      v27 = v3[5];
      v28 = (*v27)++;
      *v28 = v15 + 1;
      v29 = *(v27 + 8) - 1;
      *(v27 + 8) = v29;
      if (v29 || (result = (*(v27 + 24))(v3), result))
      {
        if (*(v6 + 60) == 254)
        {
          goto LABEL_38;
        }
      }

      else
      {
        v52 = *v3;
        *(v52 + 40) = 25;
        result = (*v52)(v3);
        if (*(v6 + 60) == 254)
        {
LABEL_38:
          v30 = v3[5];
          v31 = (*v30)++;
          *v31 = 0;
          v32 = *(v30 + 8) - 1;
          *(v30 + 8) = v32;
          if (!v32)
          {
            result = (*(v30 + 24))(v3);
            if (!result)
            {
              v33 = *v3;
              *(v33 + 40) = 25;
              result = (*v33)(v3);
            }
          }
        }
      }
    }

    v14 = *(v6 + 48) + *(v6 + 40);
    *(v6 + 40) = 0;
    *(v6 + 48) = v14;
    goto LABEL_12;
  }

  return result;
}

uint64_t (**sub_10039204C(uint64_t a1, int a2))(uint64_t result, int a2)
{
  result = (**(a1 + 8))();
  v5 = result;
  *(a1 + 504) = result;
  *result = sub_10039218C;
  if (a2)
  {
    if (*(a1 + 92) >= 1)
    {
      v6 = 0;
      v7 = result + 14;
      v8 = (*(a1 + 104) + 28);
      do
      {
        v9 = *(*(a1 + 8) + 40);
        v10 = sub_1003C82BC(*v8, *(v8 - 5));
        v11 = sub_1003C82BC(v8[1], *(v8 - 4));
        result = v9(a1, 1, 0, v10, v11, *(v8 - 4));
        v7[v6++] = result;
        v8 += 24;
      }

      while (v6 < *(a1 + 92));
    }
  }

  else
  {
    result = (*(*(a1 + 8) + 8))(a1, 1, 1280);
    v5[4] = result;
    v5[5] = (result + 16);
    v5[6] = (result + 32);
    v5[7] = (result + 48);
    v5[8] = (result + 64);
    v5[9] = (result + 80);
    v5[10] = (result + 96);
    v5[11] = (result + 112);
    v5[12] = (result + 128);
    v5[13] = (result + 144);
    v5[14] = 0;
  }

  return result;
}

uint64_t sub_10039218C(uint64_t result, int a2)
{
  v2 = *(result + 504);
  *(v2 + 16) = 0;
  if (*(result + 356) < 2)
  {
    v3 = *(result + 360);
    if (*(result + 352) == 1)
    {
      v4 = *(v3 + 76);
      *(v2 + 24) = 0;
      *(v2 + 28) = v4;
      *(v2 + 20) = 0;
      if (a2 != 3)
      {
        goto LABEL_6;
      }
    }

    else
    {
      v6 = *(v3 + 12);
      *(v2 + 24) = 0;
      *(v2 + 28) = v6;
      *(v2 + 20) = 0;
      if (a2 != 3)
      {
        goto LABEL_6;
      }
    }

LABEL_15:
    if (!*(v2 + 112))
    {
      v10 = *result;
      *(v10 + 40) = 3;
      result = (*v10)(result);
    }

    *(v2 + 8) = sub_10039265C;
    return result;
  }

  *(v2 + 24) = 0;
  *(v2 + 28) = 1;
  *(v2 + 20) = 0;
  if (a2 == 3)
  {
    goto LABEL_15;
  }

LABEL_6:
  if (a2 == 2)
  {
    if (!*(v2 + 112))
    {
      v9 = *result;
      *(v9 + 40) = 3;
      result = (*v9)(result);
    }

    *(v2 + 8) = sub_100392AB4;
  }

  else if (a2)
  {
    v7 = *result;
    *(v7 + 40) = 3;
    v8 = *v7;

    return v8();
  }

  else
  {
    if (*(v2 + 112))
    {
      v5 = *result;
      *(v5 + 40) = 3;
      result = (*v5)(result);
    }

    *(v2 + 8) = sub_100392318;
  }

  return result;
}

uint64_t sub_100392318(uint64_t a1, uint64_t a2)
{
  v2 = a1;
  v3 = *(a1 + 504);
  v4 = v3[7];
  v5 = v3;
  v37 = v3[6];
  if (v37 >= v4)
  {
    goto LABEL_35;
  }

  v35 = *(a1 + 392) - 1;
  v39 = *(a1 + 352) - 1;
  v34 = a1 + 360;
  v6 = v3 + 8;
  v7 = v3[5];
  while (2)
  {
    if (v7 > v35)
    {
      goto LABEL_3;
    }

    do
    {
      v8 = *(v2 + 356);
      if (v8 >= 1)
      {
        v9 = 0;
        v10 = 0;
        v33 = v7;
        while (1)
        {
          v11 = *(v34 + 8 * v9);
          v12 = 18;
          if (v7 < v35)
          {
            v12 = 14;
          }

          if (v11[15] >= 1)
          {
            break;
          }

LABEL_8:
          if (++v9 >= v8)
          {
            goto LABEL_30;
          }
        }

        v36 = v9;
        v13 = 0;
        v14 = v2;
        v15 = v11[v12];
        v16 = *(*(v2 + 536) + 8 * v11[1] + 8);
        v17 = v11[17] * v7;
        v18 = (v11[10] * v37);
        while (1)
        {
          if (v3[4] < v39 || v13 + v37 < v11[19])
          {
            v16(v14, v11, *(a2 + 8 * v11[1]), *&v6[2 * v10], v18, v17, v15);
            LODWORD(v19) = v11[14];
            if (v19 > v15)
            {
              bzero(*&v6[2 * v10 + 2 * v15], (v19 - v15) << 7);
              LODWORD(v19) = v11[14];
              if (v15 < v19)
              {
                v20 = &v6[2 * v15 + 2 * v10];
                v21 = v19 - v15;
                do
                {
                  **v20 = **(v20 - 1);
                  ++v20;
                  --v21;
                }

                while (v21);
              }
            }

            goto LABEL_13;
          }

          bzero(*&v6[2 * v10], v11[14] << 7);
          v19 = v11[14];
          if (v19 >= 1)
          {
            v22 = **&v6[2 * v10 - 2];
            if (v19 == 1)
            {
              v23 = 0;
            }

            else
            {
              v23 = v19 & 0x7FFFFFFE;
              v24 = &v3[2 * v10 + 10];
              v25 = v23;
              do
              {
                v26 = *v24;
                **(v24 - 1) = v22;
                *v26 = v22;
                v24 += 2;
                v25 -= 2;
              }

              while (v25);
              if (v23 == v19)
              {
                goto LABEL_13;
              }
            }

            v27 = &v6[2 * v23 + 2 * v10];
            v28 = v19 - v23;
            do
            {
              v29 = *v27++;
              *v29 = v22;
              --v28;
            }

            while (v28);
          }

LABEL_13:
          v10 += v19;
          v18 = (v11[10] + v18);
          if (++v13 >= v11[15])
          {
            v2 = v14;
            v8 = *(v14 + 356);
            v7 = v33;
            v9 = v36;
            goto LABEL_8;
          }
        }
      }

LABEL_30:
      result = (*(*(v2 + 544) + 8))(v2, v3 + 8);
      if (!result)
      {
        v3[5] = v7;
        v3[6] = v37;
        return result;
      }

      ++v7;
    }

    while (v7 <= v35);
    v4 = v3[7];
LABEL_3:
    v7 = 0;
    v3[5] = 0;
    if (++v37 < v4)
    {
      continue;
    }

    break;
  }

  v5 = *(v2 + 504);
LABEL_35:
  ++v3[4];
  if (*(v2 + 356) < 2)
  {
    v32 = *(v2 + 360);
    if (v5[4] >= (*(v2 + 352) - 1))
    {
      v31 = *(v32 + 76);
    }

    else
    {
      v31 = *(v32 + 12);
    }
  }

  else
  {
    v31 = 1;
  }

  v5[6] = 0;
  v5[7] = v31;
  v5[5] = 0;
  return 1;
}

uint64_t sub_10039265C(uint64_t a1, uint64_t a2)
{
  v2 = a1;
  if (*(a1 + 92) >= 1)
  {
    v3 = 0;
    v57 = *(a1 + 352) - 1;
    v4 = *(a1 + 104);
    v56 = *(a1 + 504);
    do
    {
      v5 = (*(*(v2 + 8) + 64))(v2, *(v56 + 112 + 8 * v3), (v4[3] * *(v56 + 16)), v4[3], 1);
      v6 = v5;
      v64 = v3;
      if (*(v56 + 16) >= v57)
      {
        v8 = v4[3];
        if (v4[8] % v8)
        {
          v7 = v4[8] % v8;
        }

        else
        {
          v7 = v4[3];
        }
      }

      else
      {
        v7 = v4[3];
      }

      v9 = v4[7];
      v10 = v4[2];
      v11 = v9 % v10;
      v58 = v10;
      v59 = v7;
      v12 = v10 - v9 % v10;
      if (v11 <= 0)
      {
        v13 = v11;
      }

      else
      {
        v13 = v12;
      }

      v62 = v5;
      if (v7 >= 1)
      {
        v14 = *(*(v2 + 536) + 8 * v3 + 8);
        if (v13 > 0)
        {
          v15 = 0;
          v16 = v9 << 7;
          while (1)
          {
            v17 = *(v6 + 8 * v15);
            v14(v2, v4, *(a2 + 8 * v64), v17, (v4[10] * v15), 0, v9);
            bzero((v17 + (v9 << 7)), v13 << 7);
            v18 = *(v17 + (v9 << 7) - 128);
            if (v13 == 1)
            {
              v19 = 0;
              v2 = a1;
            }

            else
            {
              v20 = (v17 + v16 + 128);
              v21 = v13 & 0x7FFFFFFE;
              do
              {
                *(v20 - 64) = v18;
                *v20 = v18;
                v20 += 128;
                v21 -= 2;
              }

              while (v21);
              v19 = v13 & 0x7FFFFFFE;
              v2 = a1;
              if (v19 == v13)
              {
                goto LABEL_15;
              }
            }

            v22 = (v17 + v16 + (v19 << 7));
            v23 = v13 - v19;
            do
            {
              *v22 = v18;
              v22 += 64;
              --v23;
            }

            while (v23);
LABEL_15:
            ++v15;
            v6 = v62;
            if (v15 == v59)
            {
              goto LABEL_26;
            }
          }
        }

        v24 = 0;
        do
        {
          v14(v2, v4, *(a2 + 8 * v64), *(v6 + 8 * v24), (v4[10] * v24), 0, v9);
          ++v24;
        }

        while (v59 != v24);
      }

LABEL_26:
      if (*(v56 + 16) == v57 && v59 < v4[3])
      {
        v25 = v13 + v9;
        v26 = (v13 + v9) << 7;
        if (v58 <= v13 + v9)
        {
          v28 = v59;
          if (v58 <= 0)
          {
            do
            {
              bzero(*(v62 + 8 * v28++), (v13 + v9) << 7);
            }

            while (v28 < v4[3]);
          }

          else
          {
            v29 = v58 << 7;
            v30 = v25 / v58;
            if (v58 == 1)
            {
              v31 = v62;
              do
              {
                v32 = (v31 + 8 * v28);
                v33 = *(v32 - 1);
                v34 = *v32;
                bzero(*v32, v26);
                v35 = 0;
                v36 = 0;
                do
                {
                  *&v34[v35] = *(v33 + ((v58 - 1) << 7) + v35);
                  ++v36;
                  v35 += v29;
                }

                while (v36 < v30);
                ++v28;
                v31 = v62;
              }

              while (v28 < v4[3]);
            }

            else
            {
              v60 = v26;
              v37 = v62;
              do
              {
                v38 = (v37 + 8 * v28);
                v39 = v26;
                v40 = *(v38 - 1);
                v41 = *v38;
                bzero(*v38, v39);
                if (v58 == (v58 & 0x7FFFFFFE))
                {
                  v42 = 0;
                  v43 = v41 + 128;
                  do
                  {
                    v44 = *(v40 + ((v58 - 1) << 7));
                    v45 = v43;
                    v46 = v58 & 0x7FFFFFFE;
                    do
                    {
                      *(v45 - 64) = v44;
                      *v45 = v44;
                      v45 += 128;
                      v46 -= 2;
                    }

                    while (v46);
                    v40 += v58 << 7;
                    ++v42;
                    v43 = (v43 + v29);
                  }

                  while (v42 < v30);
                }

                else
                {
                  v47 = 0;
                  v48 = v41 + 128;
                  v49 = &v41[256 * ((v58 >> 1) & 0x3FFFFFFF)];
                  do
                  {
                    v50 = *(v40 + ((v58 - 1) << 7));
                    v51 = v58 & 0x7FFFFFFE;
                    v52 = v48;
                    do
                    {
                      *(v52 - 64) = v50;
                      *v52 = v50;
                      v52 += 128;
                      v51 -= 2;
                    }

                    while (v51);
                    v53 = v58 - (v58 & 0x7FFFFFFE);
                    v54 = v49;
                    do
                    {
                      *v54 = v50;
                      v54 += 128;
                      --v53;
                    }

                    while (v53);
                    v40 += v58 << 7;
                    ++v47;
                    v48 = (v48 + v29);
                    v49 += v29;
                  }

                  while (v47 < v30);
                }

                ++v28;
                v37 = v62;
                v26 = v60;
              }

              while (v28 < v4[3]);
            }
          }
        }

        else
        {
          v27 = v59;
          do
          {
            bzero(*(v62 + 8 * v27++), (v13 + v9) << 7);
          }

          while (v27 < v4[3]);
        }
      }

      v3 = v64 + 1;
      v4 += 24;
      v2 = a1;
    }

    while (v64 + 1 < *(a1 + 92));
  }

  return sub_100392AB4(v2);
}

uint64_t sub_100392AB4(uint64_t a1)
{
  v2 = *(a1 + 504);
  memset(v48, 0, sizeof(v48));
  LODWORD(v3) = *(a1 + 356);
  if (v3 >= 1)
  {
    v4 = 0;
    do
    {
      *(v48 + v4) = (*(*(a1 + 8) + 64))(a1, *&v2[2 * *(*(a1 + 8 * v4 + 360) + 4) + 28], (*(*(a1 + 8 * v4 + 360) + 12) * v2[4]), *(*(a1 + 8 * v4 + 360) + 12), 0);
      ++v4;
      v3 = *(a1 + 356);
    }

    while (v4 < v3);
  }

  v5 = v2[7];
  v6 = v2[6];
  if (v6 >= v5)
  {
LABEL_39:
    ++v2[4];
    v45 = *(a1 + 504);
    if (v3 < 2)
    {
      v47 = *(a1 + 360);
      if (v45[4] >= (*(a1 + 352) - 1))
      {
        v46 = *(v47 + 76);
      }

      else
      {
        v46 = *(v47 + 12);
      }
    }

    else
    {
      v46 = 1;
    }

    v45[6] = 0;
    v45[7] = v46;
    v45[5] = 0;
    return 1;
  }

  else
  {
    v7 = v2 + 8;
    v8 = v2[5];
    v9 = *(a1 + 392);
    v10 = v2 + 12;
    v11 = 8 * v6;
    v12 = xmmword_1003EC090;
    v13 = xmmword_1003EC0A0;
    while (v8 >= v9)
    {
LABEL_6:
      v8 = 0;
      v2[5] = 0;
      ++v6;
      v11 += 8;
      if (v6 >= v5)
      {
        LODWORD(v3) = *(a1 + 356);
        goto LABEL_39;
      }
    }

    while (1)
    {
      v14 = *(a1 + 356);
      if (v14 >= 1)
      {
        v15 = 0;
        v16 = 0;
        do
        {
          v17 = *(a1 + 360 + 8 * v15);
          v18 = *(v17 + 56);
          v19 = *(v17 + 60);
          if (v19 >= 1 && v18 >= 1)
          {
            v21 = v18 * v8;
            v22 = *(v48 + v15);
            if (v18 > 3)
            {
              v26 = v22 + 8 * v6;
              if ((v18 & 0x7FFFFFFC) == v18)
              {
                v27 = 0;
                do
                {
                  v28 = &v10[2 * v16];
                  v29 = *(v26 + 8 * v27) + (v21 << 7);
                  v16 += v18;
                  v30 = v18 & 0x7FFFFFFC;
                  do
                  {
                    v31 = vdupq_n_s64(v29);
                    v28[-1] = vaddq_s64(v31, v12);
                    *v28 = vaddq_s64(v31, v13);
                    v29 += 512;
                    v28 += 2;
                    v30 -= 4;
                  }

                  while (v30);
                  ++v27;
                }

                while (v27 != v19);
              }

              else
              {
                v32 = 0;
                v33 = (v18 >> 2) & 0x1FFFFFFF;
                v34 = &v7[8 * v33];
                v35 = v18 - 4 * v33;
                do
                {
                  v36 = 2 * v16;
                  v37 = &v34[v36];
                  v38 = &v10[v36];
                  v39 = *(v26 + 8 * v32) + (v21 << 7);
                  v16 += v18;
                  v40 = v39 + ((v18 & 0x7FFFFFFC) << 7);
                  v41 = v18 & 0x7FFFFFFC;
                  do
                  {
                    v42 = vdupq_n_s64(v39);
                    v38[-1] = vaddq_s64(v42, v12);
                    *v38 = vaddq_s64(v42, v13);
                    v39 += 512;
                    v38 += 2;
                    v41 -= 4;
                  }

                  while (v41);
                  v43 = v35;
                  do
                  {
                    *v37++ = v40;
                    v40 += 128;
                    --v43;
                  }

                  while (v43);
                  ++v32;
                }

                while (v32 != v19);
              }
            }

            else
            {
              v23 = (v22 + v11);
              do
              {
                v24 = *v23 + (v21 << 7);
                v25 = v16 + 1;
                *&v7[2 * v16] = v24;
                if (v18 + v16 != v25)
                {
                  *&v7[2 * v25] = v24 + 128;
                  if (v18 + v16 != v16 + 2)
                  {
                    *&v7[2 * v16 + 4] = v24 + 256;
                  }
                }

                ++v23;
                v16 += v18;
                --v19;
              }

              while (v19);
            }
          }

          ++v15;
        }

        while (v15 != v14);
      }

      result = (*(*(a1 + 544) + 8))(a1, v2 + 8);
      if (!result)
      {
        break;
      }

      ++v8;
      v9 = *(a1 + 392);
      v13 = xmmword_1003EC0A0;
      v12 = xmmword_1003EC090;
      if (v8 >= v9)
      {
        v5 = v2[7];
        goto LABEL_6;
      }
    }

    v2[5] = v8;
    v2[6] = v6;
  }

  return result;
}

void *sub_100392DF8(uint64_t *a1)
{
  result = (*a1[1])();
  v3 = result;
  a1[65] = result;
  *result = nullsub_101;
  v4 = *(a1 + 15);
  if (v4 > 7)
  {
    goto LABEL_25;
  }

  if (((1 << v4) & 0x30) != 0)
  {
    if (*(a1 + 14) == 4)
    {
      goto LABEL_7;
    }

    goto LABEL_6;
  }

  if (((1 << v4) & 0x44) == 0 && ((1 << v4) & 0x88) == 0)
  {
LABEL_25:
    if (v4 == 1)
    {
      if (*(a1 + 14) == 1)
      {
        goto LABEL_7;
      }
    }

    else if (*(a1 + 14) > 0)
    {
      goto LABEL_7;
    }

    goto LABEL_6;
  }

  if (*(a1 + 14) != 3)
  {
LABEL_6:
    v5 = *a1;
    *(v5 + 40) = 10;
    result = (*v5)(a1);
  }

LABEL_7:
  if (!*(a1 + 81) || (*(a1 + 24) | 4) == 6)
  {
    v6 = *(a1 + 24);
    if (v6 > 3)
    {
      goto LABEL_10;
    }

LABEL_31:
    if (v6 == 1)
    {
      if (*(a1 + 23) != 1)
      {
        v17 = *a1;
        *(v17 + 40) = 11;
        result = (*v17)(a1);
      }

      v18 = *(a1 + 15);
      if (v18 > 2)
      {
        if (v18 != 7 && v18 != 3)
        {
          goto LABEL_60;
        }
      }

      else if (v18 != 1)
      {
        if (v18 == 2)
        {
          *v3 = sub_1003932E4;
          v3[1] = sub_1003933AC;
          return result;
        }

        goto LABEL_60;
      }

      v3[1] = sub_100393290;
      return result;
    }

    if (v6 != 2)
    {
      if (v6 == 3)
      {
        if (*(a1 + 23) != 3)
        {
          v13 = *a1;
          *(v13 + 40) = 11;
          result = (*v13)(a1);
        }

        v14 = *(a1 + 15);
        if (v14 == 3)
        {
          goto LABEL_54;
        }

        if (v14 != 2)
        {
          goto LABEL_60;
        }

        goto LABEL_38;
      }

LABEL_51:
      if (v6 != *(a1 + 15) || *(a1 + 23) != *(a1 + 14))
      {
        v19 = *a1;
        *(v19 + 40) = 28;
        result = (*v19)(a1);
      }

      goto LABEL_54;
    }

LABEL_39:
    if (*(a1 + 23) != 3)
    {
      v15 = *a1;
      *(v15 + 40) = 11;
      result = (*v15)(a1);
      v6 = *(a1 + 24);
    }

    if (*(a1 + 15) == v6)
    {
      v16 = *(a1 + 81);
      if (v16 == 1)
      {
        v3[1] = sub_100393728;
        return result;
      }

      if (!v16)
      {
        v3[1] = sub_10039342C;
        return result;
      }
    }

    goto LABEL_60;
  }

  v12 = *a1;
  *(v12 + 40) = 28;
  result = (*v12)(a1);
  v6 = *(a1 + 24);
  if (v6 <= 3)
  {
    goto LABEL_31;
  }

LABEL_10:
  if (v6 > 5)
  {
    if (v6 != 6)
    {
      if (v6 == 7)
      {
        if (*(a1 + 23) != 3)
        {
          v9 = *a1;
          *(v9 + 40) = 11;
          result = (*v9)(a1);
        }

        v10 = *(a1 + 15);
        if (v10 == 7)
        {
          goto LABEL_54;
        }

        if (v10 == 3)
        {
          v23 = a1[13];
          *(v23 + 148) = 1;
          *(v23 + 244) = 1;
          v3[1] = sub_100393B6C;
          return result;
        }

        if (v10 != 2)
        {
          goto LABEL_60;
        }

        v11 = a1[13];
        *(v11 + 148) = 1;
        *(v11 + 244) = 1;
LABEL_38:
        *v3 = sub_1003932E4;
        v3[1] = sub_100393AA4;
        return result;
      }

      goto LABEL_51;
    }

    goto LABEL_39;
  }

  if (v6 != 4)
  {
    if (*(a1 + 23) != 4)
    {
      v7 = *a1;
      *(v7 + 40) = 11;
      result = (*v7)(a1);
    }

    v8 = *(a1 + 15);
    if (v8 != 5)
    {
      if (v8 == 4)
      {
        *v3 = sub_1003932E4;
        v3[1] = sub_100393BDC;
        return result;
      }

      goto LABEL_60;
    }

LABEL_54:
    v3[1] = sub_100393B6C;
    return result;
  }

  if (*(a1 + 23) != 4)
  {
    v20 = *a1;
    *(v20 + 40) = 11;
    result = (*v20)(a1);
  }

  if (*(a1 + 15) == 4)
  {
    goto LABEL_54;
  }

LABEL_60:
  v21 = *a1;
  *(v21 + 40) = 28;
  v22 = *v21;

  return v22(a1);
}

uint64_t sub_100393290(uint64_t result, _BYTE **a2, void *a3, unsigned int a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 48);
    if (v5)
    {
      v6 = *(result + 56);
      do
      {
        v7 = *a2;
        v8 = *(*a3 + 8 * a4);
        v9 = v5;
        do
        {
          *v8++ = *v7;
          v7 += v6;
          --v9;
        }

        while (v9);
        ++a2;
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

void *sub_1003932E4(uint64_t a1)
{
  v1 = *(a1 + 520);
  result = (**(a1 + 8))();
  v3 = 0;
  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  *(v1 + 16) = result;
  v9 = 256;
  v10 = 0x8000;
  v11 = 8421375;
  do
  {
    result[512] = v10;
    result[1024] = v6;
    result[1792] = v8;
    v8 -= 5329;
    result[1536] = v7;
    v7 -= 27439;
    v6 -= 21710;
    result[768] = v5;
    v5 -= 11058;
    v10 += 7471;
    result[256] = v4;
    v4 += 38470;
    *result = v3;
    result[1280] = v11;
    ++result;
    v3 += 19595;
    v11 += 0x8000;
    --v9;
  }

  while (v9);
  return result;
}

uint64_t sub_1003933AC(uint64_t result, unsigned __int8 **a2, void *a3, unsigned int a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 48);
    if (v5)
    {
      v6 = *(*(result + 520) + 16);
      do
      {
        v7 = *a2;
        v8 = *(*a3 + 8 * a4);
        v9 = v5;
        do
        {
          *v8++ = (*(v6 + 8 * v7[1] + 2048) + *(v6 + 8 * *v7) + *(v6 + 8 * v7[2] + 4096)) >> 16;
          v7 += 3;
          --v9;
        }

        while (v9);
        ++a2;
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

int8x16_t *sub_10039342C(int8x16_t *result, const char **a2, void *a3, unsigned int a4, int a5)
{
  if (a5 < 1)
  {
    return result;
  }

  v5 = result[3].u32[0];
  if (!v5)
  {
    return result;
  }

  if (v5 >= 8)
  {
    while (1)
    {
      v12 = 0;
      v13 = *a2;
      result = *(*a3 + 8 * a4);
      v14 = *(a3[1] + 8 * a4);
      v15 = *(a3[2] + 8 * a4);
      v16 = (result + v5);
      v17 = v14->u64 + v5;
      v18 = v15->u64 + v5;
      v19 = &(*a2)[3 * v5];
      v21 = result < &v15->i8[v5] && v15 < v16;
      v23 = result < v19 && v13 < v16;
      v25 = v14 < v18 && v15 < v17;
      v27 = v14 < v19 && v13 < v17;
      v29 = v15 < v19 && v13 < v18;
      v30 = v14 >= v16 || result >= v17;
      if (!v30 || v21 || v23 || v25 || v27 || v29)
      {
        v32 = *a2;
      }

      else
      {
        if (v5 < 0x20)
        {
          v31 = 0;
LABEL_62:
          v32 = &v13->i8[3 * (v5 & 0xFFFFFFF8)];
          v39 = &result->i8[v31];
          v40 = &v14->i8[v31];
          v41 = &v15->i8[v31];
          v42 = v31 - (v5 & 0xFFFFFFF8);
          v43 = &v13->i8[3 * v31];
          do
          {
            v47 = vld3_s8(v43);
            v43 += 24;
            *v39++ = v47.val[0];
            *v40++ = v47.val[1];
            *v41++ = v47.val[2];
            v42 += 8;
          }

          while (v42);
          v12 = v5 & 0xFFFFFFF8;
          if (v12 == v5)
          {
            goto LABEL_14;
          }

          goto LABEL_67;
        }

        v33 = result + 1;
        v34 = v14 + 1;
        v35 = v15 + 1;
        v36 = v5 & 0xFFFFFFE0;
        v37 = *a2;
        do
        {
          v38 = v37;
          v37 += 96;
          v48 = vld3q_s8(v38);
          v38 += 48;
          v49 = vld3q_s8(v38);
          v33[-1] = v48.val[0];
          *v33 = v49.val[0];
          v34[-1] = v48.val[1];
          *v34 = v49.val[1];
          v35[-1] = v48.val[2];
          *v35 = v49.val[2];
          v33 += 2;
          v34 += 2;
          v35 += 2;
          v36 -= 32;
        }

        while (v36);
        if ((v5 & 0xFFFFFFE0) == v5)
        {
          goto LABEL_14;
        }

        v31 = v5 & 0xFFFFFFE0;
        if ((v5 & 0x18) != 0)
        {
          goto LABEL_62;
        }

        v32 = &v13->i8[3 * (v5 & 0xFFFFFFE0)];
        v12 = v5 & 0xFFFFFFE0;
      }

LABEL_67:
      result = (result + v12);
      v44 = &v14->i8[v12];
      v45 = &v15->i8[v12];
      v46 = v5 - v12;
      do
      {
        result->i8[0] = *v32;
        result = (result + 1);
        *v44++ = v32[1];
        *v45++ = v32[2];
        v32 += 3;
        --v46;
      }

      while (v46);
LABEL_14:
      ++a2;
      ++a4;
      if (a5-- <= 1)
      {
        return result;
      }
    }
  }

  v6 = a5 + 1;
  do
  {
    v7 = *(*a3 + 8 * a4);
    v8 = *(a3[1] + 8 * a4);
    v9 = *(a3[2] + 8 * a4);
    v10 = *a2;
    *v7 = **a2;
    *v8 = v10[1];
    *v9 = v10[2];
    if (v5 != 1)
    {
      v7[1] = v10[3];
      v8[1] = v10[4];
      v9[1] = v10[5];
      if (v5 != 2)
      {
        v7[2] = v10[6];
        v8[2] = v10[7];
        v9[2] = v10[8];
        if (v5 != 3)
        {
          v7[3] = v10[9];
          v8[3] = v10[10];
          v9[3] = v10[11];
          if (v5 != 4)
          {
            v7[4] = v10[12];
            v8[4] = v10[13];
            v9[4] = v10[14];
            if (v5 != 5)
            {
              v7[5] = v10[15];
              v8[5] = v10[16];
              v9[5] = v10[17];
              if (v5 != 6)
              {
                v7[6] = v10[18];
                v8[6] = v10[19];
                v9[6] = v10[20];
              }
            }
          }
        }
      }
    }

    ++a2;
    ++a4;
    --v6;
  }

  while (v6 > 1);
  return result;
}

const char *sub_100393728(const char *result, const char **a2, void *a3, unsigned int a4, int a5)
{
  if (a5 < 1)
  {
    return result;
  }

  v5 = *(result + 12);
  if (!v5)
  {
    return result;
  }

  if (v5 >= 8)
  {
    v26.i64[0] = 0x8080808080808080;
    v26.i64[1] = 0x8080808080808080;
    while (1)
    {
      v28 = 0;
      result = *a2;
      v29 = *(*a3 + 8 * a4);
      v30 = *(a3[1] + 8 * a4);
      v31 = *(a3[2] + 8 * a4);
      v32 = v29 + v5;
      v33 = v30 + v5;
      v34 = v31 + v5;
      v35 = &(*a2)[3 * v5];
      v37 = v29 < v31 + v5 && v31 < v32;
      v39 = v29 < v35 && result < v32;
      v41 = v30 < v34 && v31 < v33;
      v43 = v30 < v35 && result < v33;
      v45 = v31 < v35 && result < v34;
      v46 = v30 >= v32 || v29 >= v33;
      if (!v46 || v37 || v39 || v41 || v43 || v45)
      {
        v48 = *a2;
      }

      else
      {
        if (v5 < 0x10)
        {
          v47 = 0;
LABEL_57:
          v48 = &result[3 * (v5 & 0xFFFFFFF8)];
          v49 = (v29 + v47);
          v50 = (v30 + v47);
          v51 = (v31 + v47);
          v52 = v47 - (v5 & 0xFFFFFFF8);
          result += 3 * v47;
          do
          {
            v63 = vld3_s8(result);
            result += 24;
            *v49++ = veor_s8(vsub_s8(v63.val[0], v63.val[1]), 0x8080808080808080);
            *v50++ = v63.val[1];
            *v51++ = veor_s8(vsub_s8(v63.val[2], v63.val[1]), 0x8080808080808080);
            v52 += 8;
          }

          while (v52);
          v28 = v5 & 0xFFFFFFF8;
          if (v28 == v5)
          {
            goto LABEL_14;
          }

          goto LABEL_62;
        }

        v58 = *a2;
        v59 = v5 & 0xFFFFFFF0;
        v60 = *(a3[2] + 8 * a4);
        v61 = *(a3[1] + 8 * a4);
        v62 = *(*a3 + 8 * a4);
        do
        {
          v64 = vld3q_s8(v58);
          v58 += 48;
          *v62++ = veorq_s8(vsubq_s8(v64.val[0], v64.val[1]), v26);
          *v61++ = v64.val[1];
          *v60++ = veorq_s8(vsubq_s8(v64.val[2], v64.val[1]), v26);
          v59 -= 16;
        }

        while (v59);
        if ((v5 & 0xFFFFFFF0) == v5)
        {
          goto LABEL_14;
        }

        v47 = v5 & 0xFFFFFFF0;
        if ((v5 & 8) != 0)
        {
          goto LABEL_57;
        }

        v48 = &result[3 * (v5 & 0xFFFFFFF0)];
        v28 = v5 & 0xFFFFFFF0;
      }

LABEL_62:
      v53 = (v29 + v28);
      v54 = (v30 + v28);
      v55 = (v31 + v28);
      result = (v5 - v28);
      do
      {
        v56 = v48[1];
        v57 = v48[2];
        *v53++ = (*v48 - v56) ^ 0x80;
        *v54++ = v56;
        *v55++ = (v57 - v56) ^ 0x80;
        v48 += 3;
        --result;
      }

      while (result);
LABEL_14:
      ++a2;
      ++a4;
      if (a5-- <= 1)
      {
        return result;
      }
    }
  }

  v6 = a5 + 1;
  do
  {
    v7 = *(*a3 + 8 * a4);
    v8 = *(a3[1] + 8 * a4);
    v9 = *(a3[2] + 8 * a4);
    v10 = *a2;
    v11 = (*a2)[1];
    v12 = (*a2)[2];
    *v7 = (**a2 - v11) ^ 0x80;
    *v8 = v11;
    *v9 = (v12 - v11) ^ 0x80;
    if (v5 != 1)
    {
      v13 = v10[4];
      v14 = v10[5];
      v7[1] = (v10[3] - v13) ^ 0x80;
      v8[1] = v13;
      v9[1] = (v14 - v13) ^ 0x80;
      if (v5 != 2)
      {
        v15 = v10[7];
        v16 = v10[8];
        v7[2] = (v10[6] - v15) ^ 0x80;
        v8[2] = v15;
        v9[2] = (v16 - v15) ^ 0x80;
        if (v5 != 3)
        {
          v17 = v10[10];
          v18 = v10[11];
          v7[3] = (v10[9] - v17) ^ 0x80;
          v8[3] = v17;
          v9[3] = (v18 - v17) ^ 0x80;
          if (v5 != 4)
          {
            v19 = v10[13];
            v20 = v10[14];
            v7[4] = (v10[12] - v19) ^ 0x80;
            v8[4] = v19;
            v9[4] = (v20 - v19) ^ 0x80;
            if (v5 != 5)
            {
              v21 = v10[16];
              v22 = v10[17];
              v7[5] = (v10[15] - v21) ^ 0x80;
              v8[5] = v21;
              v9[5] = (v22 - v21) ^ 0x80;
              if (v5 != 6)
              {
                v23 = v10[18];
                v24 = v10[19];
                v25 = v10[20];
                v7[6] = (v23 - v24) ^ 0x80;
                v8[6] = v24;
                v9[6] = (v25 - v24) ^ 0x80;
              }
            }
          }
        }
      }
    }

    ++a2;
    ++a4;
    --v6;
  }

  while (v6 > 1);
  return result;
}

uint64_t sub_100393AA4(uint64_t result, unsigned __int8 **a2, void *a3, unsigned int a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 48);
    if (v5)
    {
      v6 = *(*(result + 520) + 16);
      do
      {
        v7 = *a2;
        v8 = *(*a3 + 8 * a4);
        v9 = *(a3[1] + 8 * a4);
        v10 = *(a3[2] + 8 * a4);
        v11 = v5;
        do
        {
          v12 = v6 + 8 * *v7;
          v13 = (v6 + 8 * v7[1]);
          result = v6 + 8 * v7[2];
          *v8++ = (v13[512] + *v12 + *(result + 4096)) >> 16;
          *v9++ = (v13[2048] + *(v12 + 6144) + *(result + 10240)) >> 16;
          *v10++ = (v13[3072] + *(v12 + 10240) + *(result + 14336)) >> 16;
          v7 += 3;
          --v11;
        }

        while (v11);
        ++a2;
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

uint64_t sub_100393B6C(uint64_t result, uint64_t *a2, uint64_t a3, unsigned int a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 92);
    v6 = *(result + 48);
    if (v5 >= 1 && v6 != 0)
    {
      do
      {
        v8 = 0;
        do
        {
          v9 = *a2;
          v10 = *(*(a3 + 8 * v8) + 8 * a4);
          v11 = v6;
          do
          {
            *v10++ = *(v9 + v8);
            v9 += v5;
            --v11;
          }

          while (v11);
          ++v8;
        }

        while (v8 != v5);
        ++a2;
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

uint64_t sub_100393BDC(uint64_t result, _BYTE **a2, void *a3, unsigned int a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 48);
    if (v5)
    {
      v6 = *(*(result + 520) + 16);
      do
      {
        v7 = *a2;
        v8 = *(*a3 + 8 * a4);
        v9 = *(a3[1] + 8 * a4);
        v10 = *(a3[2] + 8 * a4);
        v11 = v5;
        v12 = *(a3[3] + 8 * a4);
        do
        {
          v13 = ~*v7;
          v14 = v7[1] ^ 0xFF;
          v15 = v7[2] ^ 0xFF;
          *v12++ = v7[3];
          *v8++ = (*(v6 + 8 * (v14 | 0x100u)) + *(v6 + 8 * v13) + *(v6 + 8 * (v15 | 0x200u))) >> 16;
          *v9++ = (*(v6 + 8 * (v14 | 0x400u)) + *(v6 + 8 * (v13 | 0x300u)) + *(v6 + 8 * (v15 | 0x500u))) >> 16;
          result = (*(v6 + 8 * (v14 | 0x600u)) + *(v6 + 8 * (v13 | 0x500u)) + *(v6 + 8 * (v15 | 0x700u))) >> 16;
          *v10++ = result;
          v7 += 4;
          --v11;
        }

        while (v11);
        ++a2;
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

uint64_t (**sub_100393CE8(uint64_t a1))(uint64_t result, double a2, double a3, double a4)
{
  result = (**(a1 + 8))();
  *(a1 + 536) = result;
  *result = sub_100393D7C;
  if (*(a1 + 92) >= 1)
  {
    v3 = 0;
    v4 = (*(a1 + 104) + 88);
    do
    {
      result = (**(a1 + 8))(a1, 1, 256);
      *v4 = result;
      v4 += 12;
      ++v3;
    }

    while (v3 < *(a1 + 92));
  }

  return result;
}

uint64_t sub_100393D7C(uint64_t result, double a2, double a3, double a4)
{
  if (*(result + 92) >= 1)
  {
    v4 = result;
    v5 = 0;
    v6 = 0;
    v7 = *(result + 536);
    v31 = v7 + 168;
    v8 = *(result + 104);
    v9 = v7 + 88;
    v10 = result + 112;
    v11 = v7 + 8;
    while (1)
    {
      v12 = *(v8 + 36);
      v13 = *(v8 + 40) + (v12 << 8);
      if (v13 <= 1805)
      {
        if (v13 > 1027)
        {
          if (v13 > 1538)
          {
            if (v13 > 1547)
            {
              if (v13 == 1548)
              {
                v6 = 0;
                *(v9 + 8 * v5) = sub_1003BAC34;
                goto LABEL_91;
              }

              if (v13 == 1799)
              {
                v6 = 0;
                *(v9 + 8 * v5) = sub_1003B5334;
                goto LABEL_91;
              }
            }

            else
            {
              if (v13 == 1539)
              {
                v6 = 0;
                *(v9 + 8 * v5) = sub_1003B9E40;
                goto LABEL_91;
              }

              if (v13 == 1542)
              {
                v6 = 0;
                *(v9 + 8 * v5) = sub_1003B5604;
                goto LABEL_91;
              }
            }
          }

          else if (v13 > 1284)
          {
            if (v13 == 1285)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003B5AD4;
              goto LABEL_91;
            }

            if (v13 == 1290)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003BAF9C;
              goto LABEL_91;
            }
          }

          else
          {
            if (v13 == 1028)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003B6024;
              goto LABEL_91;
            }

            if (v13 == 1032)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003BB2B0;
              goto LABEL_91;
            }
          }
        }

        else if (v13 > 515)
        {
          if (v13 > 773)
          {
            if (v13 == 774)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003BB75C;
              goto LABEL_91;
            }

            if (v13 == 1026)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003BA1C4;
              goto LABEL_91;
            }
          }

          else
          {
            if (v13 == 516)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003BBB2C;
              goto LABEL_91;
            }

            if (v13 == 771)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003B6338;
              goto LABEL_91;
            }
          }
        }

        else if (v13 > 512)
        {
          if (v13 == 513)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003BA330;
            goto LABEL_91;
          }

          if (v13 == 514)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B6504;
            goto LABEL_91;
          }
        }

        else
        {
          if (v13 == 257)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B6588;
            goto LABEL_91;
          }

          if (v13 == 258)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003BBC7C;
            goto LABEL_91;
          }
        }

        goto LABEL_86;
      }

      if (v13 > 3077)
      {
        if (v13 > 3597)
        {
          if (v13 > 4103)
          {
            if (v13 == 4104)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003B8B00;
              goto LABEL_91;
            }

            if (v13 == 4112)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003B8520;
              goto LABEL_91;
            }
          }

          else
          {
            if (v13 == 3598)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003B7B40;
              goto LABEL_91;
            }

            if (v13 == 3855)
            {
              v6 = 0;
              *(v9 + 8 * v5) = sub_1003B8008;
              goto LABEL_91;
            }
          }
        }

        else if (v13 > 3340)
        {
          if (v13 == 3341)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B75BC;
            goto LABEL_91;
          }

          if (v13 == 3591)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B8EFC;
            goto LABEL_91;
          }
        }

        else
        {
          if (v13 == 3078)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B9294;
            goto LABEL_91;
          }

          if (v13 == 3084)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B7190;
            goto LABEL_91;
          }
        }

        goto LABEL_86;
      }

      if (v13 > 2312)
      {
        if (v13 > 2569)
        {
          if (v13 == 2570)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B6900;
            goto LABEL_91;
          }

          if (v13 == 2827)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B6CBC;
            goto LABEL_91;
          }
        }

        else
        {
          if (v13 == 2313)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B65C4;
            goto LABEL_91;
          }

          if (v13 == 2565)
          {
            v6 = 0;
            *(v9 + 8 * v5) = sub_1003B9568;
            goto LABEL_91;
          }
        }

        goto LABEL_86;
      }

      if (v13 <= 2055)
      {
        break;
      }

      if (v13 != 2056)
      {
        if (v13 == 2064)
        {
          v6 = 0;
          *(v9 + 8 * v5) = sub_1003BA380;
          goto LABEL_91;
        }

LABEL_86:
        v15 = *v4;
        *(v15 + 40) = 7;
        *(v15 + 44) = v12;
        *(*v4 + 48) = *(v8 + 40);
        v16 = *v4;
        goto LABEL_90;
      }

      v14 = v4[75];
      switch(v14)
      {
        case 2:
          *(v31 + 8 * v5) = sub_1003B4ABC;
          v6 = 2;
          goto LABEL_91;
        case 1:
          *(v9 + 8 * v5) = sub_1003B4D60;
          v6 = 1;
          goto LABEL_91;
        case 0:
          v6 = 0;
          *(v9 + 8 * v5) = sub_1003B5054;
          goto LABEL_91;
      }

      v16 = *v4;
      *(*v4 + 40) = 49;
LABEL_90:
      result = (*v16)(v4);
LABEL_91:
      v17 = *(v8 + 16);
      if (v17 > 3 || !*(v10 + 8 * v17))
      {
        v18 = *v4;
        *(v18 + 10) = 54;
        *(v18 + 11) = v17;
        result = (**v4)(v4);
      }

      v19 = *(v10 + 8 * v17);
      v20 = *(v8 + 88);
      if (v6 == 2)
      {
        v24 = 0;
        LODWORD(v25) = 0;
        if (*(v8 + 52))
        {
          v26 = 16.0;
        }

        else
        {
          v26 = 8.0;
        }

        do
        {
          v27 = 0;
          v28 = qword_1003EC130[v24];
          v25 = v25;
          do
          {
            LOWORD(a4) = *(v19 + 2 * v25);
            a4 = 1.0 / (v28 * *&a4 * qword_1003EC130[v27] * v26);
            *&a4 = a4;
            *(v20 + 4 * v25++) = LODWORD(a4);
            ++v27;
          }

          while (v27 != 8);
          ++v24;
          v23 = sub_1003945BC;
        }

        while (v24 != 8);
      }

      else if (v6 == 1)
      {
        v21 = 0;
        if (*(v8 + 52))
        {
          v22 = 10;
        }

        else
        {
          v22 = 11;
        }

        do
        {
          *(v20 + 4 * v21) = ((1 << (v22 - 1)) + word_1003EC0B0[v21] * *(v19 + 2 * v21)) >> v22;
          ++v21;
          v23 = sub_10039448C;
        }

        while (v21 != 64);
      }

      else
      {
        v29 = 0;
        if (*(v8 + 52))
        {
          v30 = 4;
        }

        else
        {
          v30 = 3;
        }

        do
        {
          *(v20 + 4 * v29) = *(v19 + 2 * v29) << v30;
          ++v29;
          v23 = sub_10039448C;
        }

        while (v29 != 64);
      }

      *(v11 + 8 * v5++) = v23;
      v8 += 96;
      if (v5 >= v4[23])
      {
        return result;
      }
    }

    if (v13 == 1806)
    {
      v6 = 0;
      *(v9 + 8 * v5) = sub_1003BA818;
      goto LABEL_91;
    }

    if (v13 == 2052)
    {
      v6 = 0;
      *(v9 + 8 * v5) = sub_1003B97E8;
      goto LABEL_91;
    }

    goto LABEL_86;
  }

  return result;
}

uint64_t sub_10039448C(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5, uint64_t a6, unsigned int a7)
{
  if (a7)
  {
    LODWORD(v7) = a6;
    v10 = 0;
    v11 = *(*(result + 536) + 8 * *(a2 + 4) + 88);
    v12 = *(a2 + 88);
    v13 = a3 + 8 * a5;
    v14 = a7;
    for (result = v11(v22, v13, a6); ; result = v11(v22, v13, v7))
    {
      for (i = 0; i != 64; ++i)
      {
        v17 = *(v12 + 4 * i);
        v18 = v22[i];
        v19 = v17 >> 1;
        if (v18 < 0)
        {
          v21 = v19 - v18;
          if (v21 >= v17)
          {
            v16 = -(v21 / v17);
          }

          else
          {
            LOWORD(v16) = 0;
          }
        }

        else
        {
          v20 = v18 + v19;
          if (v20 >= v17)
          {
            v16 = v20 / v17;
          }

          else
          {
            LOWORD(v16) = 0;
          }
        }

        *(a4 + 2 * i) = v16;
      }

      ++v10;
      v7 = (*(a2 + 36) + v7);
      a4 += 128;
      if (v10 == v14)
      {
        break;
      }
    }
  }

  return result;
}

uint64_t sub_1003945BC(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5, uint64_t a6, unsigned int a7)
{
  if (a7)
  {
    v10 = 0;
    v11 = *(*(result + 536) + 8 * *(a2 + 4) + 168);
    v12 = *(a2 + 88);
    v13 = a3 + 8 * a5;
    v14 = a7;
    do
    {
      result = v11(v16, v13, a6);
      for (i = 0; i != 64; ++i)
      {
        *(a4 + 2 * i) = ((v16[i] * *(v12 + 4 * i)) + 16384.0) - 0x4000;
      }

      ++v10;
      a6 = (*(a2 + 36) + a6);
      a4 += 128;
    }

    while (v10 != v14);
  }

  return result;
}

uint64_t sub_1003946C8(uint64_t a1)
{
  result = (**(a1 + 8))();
  *(a1 + 544) = result;
  *result = sub_100394730;
  *(result + 64) = 0u;
  *(result + 80) = 0u;
  *(result + 96) = 0u;
  *(result + 112) = 0u;
  *(result + 128) = 0u;
  *(result + 144) = 0u;
  *(result + 160) = 0u;
  *(result + 176) = 0u;
  if (*(a1 + 332))
  {
    *(result + 240) = 0;
  }

  return result;
}

void sub_100394730(uint64_t a1, int a2)
{
  v4 = *(a1 + 544);
  if (a2)
  {
    *(v4 + 16) = sub_100394A14;
    if (!*(a1 + 332))
    {
      *(v4 + 8) = sub_100396134;
      if (*(a1 + 356) < 1)
      {
        goto LABEL_40;
      }

      goto LABEL_18;
    }
  }

  else
  {
    *(v4 + 16) = sub_100394B54;
    if (!*(a1 + 332))
    {
      *(v4 + 8) = sub_1003963C0;
      if (*(a1 + 356) < 1)
      {
        goto LABEL_40;
      }

      goto LABEL_18;
    }
  }

  *(v4 + 216) = a1;
  *(v4 + 192) = a2;
  v5 = *(a1 + 444);
  if (!*(a1 + 452))
  {
    if (v5)
    {
      v6 = sub_100394ED8;
    }

    else
    {
      v6 = sub_100394D14;
    }

    goto LABEL_16;
  }

  if (!v5)
  {
    v6 = sub_100395314;
LABEL_16:
    *(v4 + 8) = v6;
    goto LABEL_17;
  }

  *(v4 + 8) = sub_100395538;
  if (!*(v4 + 240))
  {
    *(v4 + 240) = (**(a1 + 8))(a1, 1, 1000);
  }

LABEL_17:
  v7 = *(*(a1 + 360) + 24);
  *(v4 + 228) = 0;
  *(v4 + 232) = 0;
  *(v4 + 224) = v7;
  if (*(a1 + 356) >= 1)
  {
LABEL_18:
    v8 = 0;
    v9 = v4 + 128;
    v10 = v4 + 36;
    v11 = v4 + 160;
    do
    {
      v13 = *(a1 + 8 * v8 + 360);
      if (*(a1 + 444) || *(a1 + 452))
      {
        if (*(a1 + 448))
        {
          goto LABEL_26;
        }
      }

      else
      {
        v17 = *(v13 + 20);
        v18 = v17;
        if (a2)
        {
          if (v17 >= 4)
          {
            v19 = *a1;
            *(v19 + 10) = 52;
            *(v19 + 11) = v17;
            (**a1)(a1);
          }

          v20 = *(v9 + 8 * v18);
          if (v20)
          {
            bzero(v20, 0x808uLL);
            *(v10 + 4 * v8) = 0;
            if (*(a1 + 448))
            {
              goto LABEL_26;
            }
          }

          else
          {
            v21 = (**(a1 + 8))(a1, 1, 2056);
            *(v9 + 8 * v18) = v21;
            bzero(v21, 0x808uLL);
            *(v10 + 4 * v8) = 0;
            if (*(a1 + 448))
            {
LABEL_26:
              v14 = *(v13 + 24);
              v15 = v14;
              if (a2)
              {
                if (v14 >= 4)
                {
                  v16 = *a1;
                  *(v16 + 10) = 52;
                  *(v16 + 11) = v14;
                  (**a1)(a1);
                }

                v12 = *(v11 + 8 * v15);
                if (!v12)
                {
                  v12 = (**(a1 + 8))(a1, 1, 2056);
                  *(v11 + 8 * v15) = v12;
                }

                bzero(v12, 0x808uLL);
              }

              else
              {
                sub_100396E20(a1, 0, v14, (v4 + 96 + 8 * v14));
              }
            }
          }
        }

        else
        {
          sub_100396E20(a1, 1, v17, (v4 + 64 + 8 * v17));
          *(v10 + 4 * v8) = 0;
          if (*(a1 + 448))
          {
            goto LABEL_26;
          }
        }
      }

      ++v8;
    }

    while (v8 < *(a1 + 356));
  }

LABEL_40:
  *(v4 + 24) = 0;
  *(v4 + 32) = 0;
  *(v4 + 56) = *(a1 + 304);
}

uint64_t sub_100394A14(uint64_t result)
{
  v1 = result;
  v2 = *(result + 544);
  if (*(result + 332))
  {
    result = sub_1003974FC(*(result + 544));
  }

  v14 = 0;
  if (*(v1 + 356) >= 1)
  {
    v3 = v1 + 160;
    v13 = v2 + 128;
    v4 = v1 + 192;
    v5 = v2 + 160;
    for (i = 45; ; ++i)
    {
      v8 = *(v1 + 8 * i);
      if (!*(v1 + 444) && !*(v1 + 452))
      {
        v9 = *(v8 + 20);
        if (!*(&v14 + v9 + 4))
        {
          break;
        }
      }

      if (*(v1 + 448))
      {
        goto LABEL_11;
      }

LABEL_6:
      v7 = i - 44;
      if (v7 >= *(v1 + 356))
      {
        return result;
      }
    }

    v12 = *(v3 + 8 * v9);
    if (!v12)
    {
      v12 = sub_10039D4C0(v1);
      *(v3 + 8 * v9) = v12;
    }

    result = sub_1003975E4(v1, v12, *(v13 + 8 * v9));
    *(&v14 + v9 + 4) = 1;
    if (!*(v1 + 448))
    {
      goto LABEL_6;
    }

LABEL_11:
    v10 = *(v8 + 24);
    if (!*(&v14 + v10))
    {
      v11 = *(v4 + 8 * v10);
      if (!v11)
      {
        v11 = sub_10039D4C0(v1);
        *(v4 + 8 * v10) = v11;
      }

      result = sub_1003975E4(v1, v11, *(v5 + 8 * v10));
      *(&v14 + v10) = 1;
    }

    goto LABEL_6;
  }

  return result;
}

__n128 sub_100394B54(uint64_t *a1)
{
  v2 = a1[68];
  v3 = a1[5];
  v4 = *v3;
  if (*(a1 + 332))
  {
    v5 = v3[1];
    *(v2 + 200) = v4;
    *(v2 + 208) = v5;
    sub_1003974FC(v2);
    sub_100397C48(v2);
    v7 = a1[5];
    v8 = *(v2 + 208);
    *v7 = *(v2 + 200);
    v7[1] = v8;
    return result;
  }

  v9 = v3[1];
  v10 = *(v2 + 24);
  v11 = *(v2 + 32);
  v18 = *(v2 + 36);
  v19 = *(v2 + 52);
  if (v11 < 1)
  {
LABEL_14:
    v11 = 0;
    v10 = 0;
    goto LABEL_16;
  }

  v12 = (127 << (17 - v11)) | v10;
  v13 = v11 + 15;
  while (1)
  {
    *v4++ = BYTE2(v12);
    if (!--v9)
    {
      break;
    }

    if ((~v12 & 0xFF0000) == 0)
    {
      goto LABEL_11;
    }

LABEL_5:
    LODWORD(v12) = v12 << 8;
    v13 -= 8;
    if (v13 <= 15)
    {
      goto LABEL_14;
    }
  }

  v14 = a1[5];
  if (!(*(v14 + 24))(a1))
  {
    goto LABEL_15;
  }

  v4 = *v14;
  v9 = *(v14 + 8);
  if ((~v12 & 0xFF0000) != 0)
  {
    goto LABEL_5;
  }

LABEL_11:
  *v4++ = 0;
  if (--v9)
  {
    goto LABEL_5;
  }

  v15 = a1[5];
  if ((*(v15 + 24))(a1))
  {
    v4 = *v15;
    v9 = *(v15 + 8);
    goto LABEL_5;
  }

LABEL_15:
  v16 = *a1;
  *(v16 + 40) = 25;
  (*v16)(a1);
  v9 = 0;
LABEL_16:
  v17 = a1[5];
  *v17 = v4;
  v17[1] = v9;
  *(v2 + 24) = v10;
  *(v2 + 32) = v11;
  result = v18;
  *(v2 + 36) = v18;
  *(v2 + 52) = v19;
  return result;
}

uint64_t sub_100394D14(uint64_t *a1, uint64_t a2)
{
  v4 = a1[68];
  v5 = a1[5];
  v7 = *v5;
  v6 = v5[1];
  *(v4 + 200) = v7;
  *(v4 + 208) = v6;
  if (*(a1 + 76) && !*(v4 + 56))
  {
    sub_100397DA4(v4, *(v4 + 60));
  }

  if (*(a1 + 100) >= 1)
  {
    v8 = 0;
    v9 = v4 + 36;
    while (1)
    {
      v10 = *(a1 + v8 + 101);
      v11 = *(a1[v10 + 45] + 20);
      v12 = **(a2 + 8 * v8) >> *(a1 + 114);
      v13 = *(v9 + 4 * v10);
      *(v9 + 4 * v10) = v12;
      v14 = v12 - v13;
      if (v12 == v13)
      {
        v15 = 0;
      }

      else
      {
        if (v14 >= 0)
        {
          v16 = v12 - v13;
        }

        else
        {
          v16 = v13 - v12;
        }

        v17 = -1;
        do
        {
          ++v17;
          v18 = v16 > 1;
          v16 >>= 1;
        }

        while (v18);
        v15 = v17 + 1;
        if (v17 >= 0xB)
        {
          v19 = *a1;
          *(v19 + 40) = 6;
          (*v19)(a1);
        }
      }

      if (*(v4 + 192))
      {
        break;
      }

      sub_1003978F4(v4, *(*(v4 + 64 + 8 * v11) + 4 * v15), *(*(v4 + 64 + 8 * v11) + v15 + 1024));
      if (v15)
      {
        goto LABEL_20;
      }

LABEL_6:
      if (++v8 >= *(a1 + 100))
      {
        goto LABEL_21;
      }
    }

    ++*(*(v4 + 128 + 8 * v11) + 8 * v15);
    if (!v15)
    {
      goto LABEL_6;
    }

LABEL_20:
    sub_1003978F4(v4, v14 + (v14 >> 31), v15);
    goto LABEL_6;
  }

LABEL_21:
  v20 = a1[5];
  v21 = *(v4 + 208);
  *v20 = *(v4 + 200);
  v20[1] = v21;
  v22 = *(a1 + 76);
  if (v22)
  {
    v23 = *(v4 + 56);
    if (!v23)
    {
      *(v4 + 60) = (*(v4 + 60) + 1) & 7;
      v23 = v22;
    }

    *(v4 + 56) = v23 - 1;
  }

  return 1;
}

uint64_t sub_100394ED8(uint64_t *a1, void *a2)
{
  v2 = a1[68];
  v3 = a1[5];
  v5 = *v3;
  v4 = v3[1];
  *(v2 + 200) = v5;
  *(v2 + 208) = v4;
  if (*(a1 + 76) && !*(v2 + 56))
  {
    v48 = a2;
    sub_100397DA4(v2, *(v2 + 60));
    a2 = v48;
    v6 = *(a1 + 112);
    v7 = *(a1 + 111);
    if (v7 > v6)
    {
      goto LABEL_57;
    }
  }

  else
  {
    v6 = *(a1 + 112);
    v7 = *(a1 + 111);
    if (v7 > v6)
    {
      goto LABEL_57;
    }
  }

  v8 = 0;
  v9 = *(a1 + 114);
  v10 = v2 + 160;
  v57 = a1[58];
  v58 = v2 + 96;
  v56 = v6 + 1;
  v55 = *a2;
  while (2)
  {
    while (1)
    {
      v11 = v8;
      v12 = *(v55 + 2 * *(v57 + 4 * v7));
      if (!*(v55 + 2 * *(v57 + 4 * v7)))
      {
        break;
      }

      v13 = v12 >= 0 ? v12 >> v9 : -v12 >> v9;
      v14 = v12 < 0 ? ~(-v12 >> v9) : v12 >> v9;
      if (!v13)
      {
        break;
      }

      if (*(v2 + 228))
      {
        sub_1003974FC(v2);
      }

      if (v11 < 16)
      {
LABEL_21:
        if (v13 != 1)
        {
          goto LABEL_22;
        }

        goto LABEL_48;
      }

      v15 = *(v2 + 192);
      if (*(v2 + 192))
      {
        v17 = v11 - 31;
        if (v11 < 0x1F)
        {
          v17 = 0;
        }

        v18 = v17 + 15;
        v11 = v11 - (v18 & 0xFFFFFFF0) - 16;
        v16 = *(v10 + 8 * *(v2 + 224));
        *(v16 + 1920) += (v18 >> 4) + 1;
        goto LABEL_21;
      }

      while (1)
      {
        v22 = *(v2 + 224);
        if (v15)
        {
          ++*(*(v10 + 8 * v22) + 1920);
          goto LABEL_46;
        }

        v23 = *(v58 + 8 * v22);
        v24 = *(v23 + 960);
        v25 = *(v23 + 1264);
        if (*(v23 + 1264) || (v43 = *(v2 + 216), v44 = *v43, *(v44 + 40) = 41, (*v44)(v43), !*(v2 + 192)))
        {
          v26 = ~(-1 << v25) & v24;
          v27 = *(v2 + 32) + v25;
          v28 = (v26 << (24 - (*(v2 + 32) + v25))) | *(v2 + 24);
          if (v27 < 8)
          {
            v29 = v27;
LABEL_32:
            *(v2 + 24) = v28;
            *(v2 + 32) = v29;
            goto LABEL_46;
          }

          while (2)
          {
            v31 = *(v2 + 200);
            *(v2 + 200) = v31 + 1;
            *v31 = BYTE2(v28);
            v32 = *(v2 + 208) - 1;
            *(v2 + 208) = v32;
            if (v32)
            {
              if ((~v28 & 0xFF0000) == 0)
              {
                goto LABEL_42;
              }
            }

            else
            {
              v33 = *(*(v2 + 216) + 40);
              if ((*(v33 + 24))())
              {
                v34 = *(v33 + 8);
                *(v2 + 200) = *v33;
                *(v2 + 208) = v34;
                if ((~v28 & 0xFF0000) == 0)
                {
                  goto LABEL_42;
                }
              }

              else
              {
                v35 = *(v2 + 216);
                v36 = *v35;
                *(v36 + 40) = 25;
                (*v36)(v35);
                v37 = *(v33 + 8);
                *(v2 + 200) = *v33;
                *(v2 + 208) = v37;
                if ((~v28 & 0xFF0000) == 0)
                {
LABEL_42:
                  v38 = *(v2 + 200);
                  *(v2 + 200) = v38 + 1;
                  *v38 = 0;
                  v39 = *(v2 + 208) - 1;
                  *(v2 + 208) = v39;
                  if (!v39)
                  {
                    v40 = *(*(v2 + 216) + 40);
                    if (!(*(v40 + 24))())
                    {
                      v41 = *(v2 + 216);
                      v42 = *v41;
                      *(v42 + 40) = 25;
                      (*v42)(v41);
                    }

                    v30 = *(v40 + 8);
                    *(v2 + 200) = *v40;
                    *(v2 + 208) = v30;
                  }
                }
              }
            }

            v28 <<= 8;
            v29 = v27 - 8;
            v20 = v27 <= 15;
            v27 -= 8;
            if (v20)
            {
              goto LABEL_32;
            }

            continue;
          }
        }

LABEL_46:
        if (v11 <= 31)
        {
          break;
        }

        v15 = *(v2 + 192);
        v11 -= 16;
      }

      v11 -= 16;
      if (v13 != 1)
      {
LABEL_22:
        v19 = 0;
        do
        {
          ++v19;
          v20 = v13 > 3;
          v13 >>= 1;
        }

        while (v20);
        v13 = v19 + 1;
        if (v19 >= 0xA)
        {
          v21 = *a1;
          *(v21 + 40) = 6;
          (*v21)(a1);
        }
      }

LABEL_48:
      v45 = *(v2 + 224);
      v46 = (v13 + 16 * v11);
      if (*(v2 + 192))
      {
        ++*(*(v10 + 8 * v45) + 8 * v46);
      }

      else
      {
        sub_1003978F4(v2, *(*(v58 + 8 * v45) + 4 * v46), *(*(v58 + 8 * v45) + v46 + 1024));
      }

      sub_1003978F4(v2, v14, v13);
      v8 = 0;
      if (v56 == ++v7)
      {
        goto LABEL_57;
      }
    }

    v8 = v11 + 1;
    if (v56 != ++v7)
    {
      continue;
    }

    break;
  }

  if ((v11 & 0x80000000) == 0)
  {
    v47 = *(v2 + 228) + 1;
    *(v2 + 228) = v47;
    if (v47 == 0x7FFF)
    {
      sub_1003974FC(v2);
    }
  }

LABEL_57:
  v49 = a1[5];
  v50 = *(v2 + 208);
  *v49 = *(v2 + 200);
  v49[1] = v50;
  v51 = *(a1 + 76);
  if (v51)
  {
    v52 = *(v2 + 56);
    if (!v52)
    {
      *(v2 + 60) = (*(v2 + 60) + 1) & 7;
      v52 = v51;
    }

    *(v2 + 56) = v52 - 1;
  }

  return 1;
}

uint64_t sub_100395314(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 544);
  v5 = *(a1 + 40);
  v7 = *v5;
  v6 = v5[1];
  *(v4 + 200) = v7;
  *(v4 + 208) = v6;
  if (*(a1 + 304) && !*(v4 + 56))
  {
    sub_100397DA4(v4, *(v4 + 60));
  }

  v8 = *(a1 + 400);
  if (v8 < 1 || *(v4 + 192))
  {
    goto LABEL_6;
  }

  v14 = 0;
  v15 = *(a1 + 456);
LABEL_12:
  v16 = *(v4 + 32);
  v17 = (((**(a2 + 8 * v14) >> v15) & 1) << (23 - v16)) | *(v4 + 24);
  if (v16 >= 7)
  {
    v18 = v16 + 9;
    while (1)
    {
      v20 = *(v4 + 200);
      *(v4 + 200) = v20 + 1;
      *v20 = BYTE2(v17);
      v21 = *(v4 + 208) - 1;
      *(v4 + 208) = v21;
      if (v21)
      {
        if ((~v17 & 0xFF0000) == 0)
        {
          goto LABEL_23;
        }
      }

      else
      {
        v22 = *(*(v4 + 216) + 40);
        if ((*(v22 + 24))())
        {
          v23 = *(v22 + 8);
          *(v4 + 200) = *v22;
          *(v4 + 208) = v23;
          if ((~v17 & 0xFF0000) == 0)
          {
            goto LABEL_23;
          }
        }

        else
        {
          v24 = *(v4 + 216);
          v25 = *v24;
          *(v25 + 40) = 25;
          (*v25)(v24);
          v26 = *(v22 + 8);
          *(v4 + 200) = *v22;
          *(v4 + 208) = v26;
          if ((~v17 & 0xFF0000) == 0)
          {
LABEL_23:
            v27 = *(v4 + 200);
            *(v4 + 200) = v27 + 1;
            *v27 = 0;
            v28 = *(v4 + 208) - 1;
            *(v4 + 208) = v28;
            if (!v28)
            {
              v29 = *(*(v4 + 216) + 40);
              if (!(*(v29 + 24))())
              {
                v30 = *(v4 + 216);
                v31 = *v30;
                *(v31 + 40) = 25;
                (*v31)(v30);
              }

              v19 = *(v29 + 8);
              *(v4 + 200) = *v29;
              *(v4 + 208) = v19;
            }
          }
        }
      }

      v17 <<= 8;
      v18 -= 8;
      if (v18 <= 15)
      {
        v8 = *(a1 + 400);
        v32 = v18 - 8;
        goto LABEL_28;
      }
    }
  }

  v32 = v16 + 1;
LABEL_28:
  *(v4 + 24) = v17;
  *(v4 + 32) = v32;
  while (++v14 < v8)
  {
    if (!*(v4 + 192))
    {
      goto LABEL_12;
    }
  }

LABEL_6:
  v9 = *(a1 + 40);
  v10 = *(v4 + 208);
  *v9 = *(v4 + 200);
  v9[1] = v10;
  v11 = *(a1 + 304);
  if (v11)
  {
    v12 = *(v4 + 56);
    if (!v12)
    {
      *(v4 + 60) = (*(v4 + 60) + 1) & 7;
      v12 = v11;
    }

    *(v4 + 56) = v12 - 1;
  }

  return 1;
}

uint64_t sub_100395538(uint64_t a1, void *a2)
{
  v2 = a1;
  v3 = *(a1 + 544);
  v4 = *(a1 + 40);
  v6 = *v4;
  v5 = v4[1];
  *(v3 + 200) = v6;
  *(v3 + 208) = v5;
  if (*(a1 + 304) && !*(v3 + 56))
  {
    v10 = a2;
    sub_100397DA4(v3, *(v3 + 60));
    a2 = v10;
    v7 = *(v2 + 448);
    v8 = *(v2 + 444);
    if (v8 > v7)
    {
      goto LABEL_4;
    }
  }

  else
  {
    v7 = *(a1 + 448);
    v8 = *(a1 + 444);
    if (v8 > v7)
    {
LABEL_4:
      v9 = 0;
      goto LABEL_156;
    }
  }

  v11 = 0;
  v12 = *(v2 + 456);
  v158 = v2;
  v13 = *a2;
  v14 = v7 + 1;
  v15 = v8;
  v160 = *(v2 + 464);
  v16 = (v160 + 4 * v8);
  v17 = &v167[v8];
  do
  {
    v18 = *v16++;
    v19 = *(v13 + 2 * v18);
    if (v19 < 0)
    {
      v19 = -v19;
    }

    v20 = v19 >> v12;
    *v17++ = v20;
    if (v20 == 1)
    {
      v11 = v8;
    }

    ++v8;
  }

  while (v14 != v8);
  v159 = v13;
  v9 = 0;
  v21 = 0;
  v161 = v11;
  v22 = (*(v3 + 240) + *(v3 + 232));
  v165 = v3 + 96;
  v166 = v3 + 160;
  v162 = v14;
  do
  {
    while (1)
    {
      while (1)
      {
        v23 = v167[v15];
        if (v23)
        {
          break;
        }

        v21 = (v21 + 1);
        if (v14 == ++v15)
        {
          goto LABEL_155;
        }
      }

      v163 = v167[v15];
      v164 = v15;
      if (v21 < 16)
      {
        break;
      }

      v24 = v21;
      v25 = v9;
      if (v15 <= v161)
      {
        while (1)
        {
          v27 = *(v3 + 228);
          if (v27)
          {
            break;
          }

LABEL_92:
          v92 = *(v3 + 224);
          if (*(v3 + 192))
          {
            ++*(*(v166 + 8 * v92) + 1920);
            goto LABEL_21;
          }

          v93 = *(v165 + 8 * v92);
          v94 = *(v93 + 960);
          v95 = *(v93 + 1264);
          if (!*(v93 + 1264))
          {
            v130 = *(v3 + 216);
            v131 = *v130;
            *(v131 + 40) = 41;
            (*v131)(v130);
            if (*(v3 + 192))
            {
              goto LABEL_21;
            }
          }

          v96 = *(v3 + 32) + v95;
          v97 = ((~(-1 << v95) & v94) << (24 - (*(v3 + 32) + v95))) | *(v3 + 24);
          if (v96 < 8)
          {
            v98 = 1;
            *(v3 + 24) = v97;
            *(v3 + 32) = v96;
            if (v9)
            {
              goto LABEL_110;
            }

            goto LABEL_21;
          }

          do
          {
            v100 = v96;
            v101 = *(v3 + 200);
            *(v3 + 200) = v101 + 1;
            *v101 = BYTE2(v97);
            v102 = *(v3 + 208) - 1;
            *(v3 + 208) = v102;
            if (v102)
            {
              if ((~v97 & 0xFF0000) != 0)
              {
                goto LABEL_98;
              }
            }

            else
            {
              v103 = *(*(v3 + 216) + 40);
              if ((*(v103 + 24))())
              {
                v104 = *(v103 + 8);
                *(v3 + 200) = *v103;
                *(v3 + 208) = v104;
                if ((~v97 & 0xFF0000) != 0)
                {
                  goto LABEL_98;
                }
              }

              else
              {
                v105 = *(v3 + 216);
                v106 = *v105;
                *(v106 + 40) = 25;
                (*v106)(v105);
                v107 = *(v103 + 8);
                *(v3 + 200) = *v103;
                *(v3 + 208) = v107;
                if ((~v97 & 0xFF0000) != 0)
                {
                  goto LABEL_98;
                }
              }
            }

            v108 = *(v3 + 200);
            *(v3 + 200) = v108 + 1;
            *v108 = 0;
            v109 = *(v3 + 208) - 1;
            *(v3 + 208) = v109;
            if (!v109)
            {
              v110 = *(*(v3 + 216) + 40);
              if (!(*(v110 + 24))())
              {
                v111 = *(v3 + 216);
                v112 = *v111;
                *(v112 + 40) = 25;
                (*v112)(v111);
              }

              v99 = *(v110 + 8);
              *(v3 + 200) = *v110;
              *(v3 + 208) = v99;
            }

LABEL_98:
            v97 <<= 8;
            v96 = v100 - 8;
          }

          while (v100 > 15);
          v98 = *(v3 + 192) == 0;
          *(v3 + 24) = v97;
          *(v3 + 32) = v96;
          if (v9)
          {
LABEL_110:
            if (v98)
            {
LABEL_111:
              v113 = *(v3 + 32);
              v114 = ((*v22 & 1) << (23 - v113)) | *(v3 + 24);
              if (v113 >= 7)
              {
                v115 = v113 + 9;
                while (1)
                {
                  v117 = *(v3 + 200);
                  *(v3 + 200) = v117 + 1;
                  *v117 = BYTE2(v114);
                  v118 = *(v3 + 208) - 1;
                  *(v3 + 208) = v118;
                  if (v118)
                  {
                    if ((~v114 & 0xFF0000) == 0)
                    {
                      goto LABEL_122;
                    }
                  }

                  else
                  {
                    v119 = *(*(v3 + 216) + 40);
                    if ((*(v119 + 24))())
                    {
                      v120 = *(v119 + 8);
                      *(v3 + 200) = *v119;
                      *(v3 + 208) = v120;
                      if ((~v114 & 0xFF0000) == 0)
                      {
                        goto LABEL_122;
                      }
                    }

                    else
                    {
                      v121 = *(v3 + 216);
                      v122 = *v121;
                      *(v122 + 40) = 25;
                      (*v122)(v121);
                      v123 = *(v119 + 8);
                      *(v3 + 200) = *v119;
                      *(v3 + 208) = v123;
                      if ((~v114 & 0xFF0000) == 0)
                      {
LABEL_122:
                        v124 = *(v3 + 200);
                        *(v3 + 200) = v124 + 1;
                        *v124 = 0;
                        v125 = *(v3 + 208) - 1;
                        *(v3 + 208) = v125;
                        if (!v125)
                        {
                          v126 = *(*(v3 + 216) + 40);
                          if (!(*(v126 + 24))())
                          {
                            v127 = *(v3 + 216);
                            v128 = *v127;
                            *(v128 + 40) = 25;
                            (*v128)(v127);
                          }

                          v116 = *(v126 + 8);
                          *(v3 + 200) = *v126;
                          *(v3 + 208) = v116;
                        }
                      }
                    }
                  }

                  v114 <<= 8;
                  v115 -= 8;
                  if (v115 <= 15)
                  {
                    v129 = v115 - 8;
                    goto LABEL_127;
                  }
                }
              }

              v129 = v113 + 1;
LABEL_127:
              *(v3 + 24) = v114;
              *(v3 + 32) = v129;
              while (--v9)
              {
                ++v22;
                if (!*(v3 + 192))
                {
                  goto LABEL_111;
                }
              }
            }
          }

LABEL_21:
          v9 = 0;
          v25 = 0;
          v24 = (v21 - 16);
          v22 = *(v3 + 240);
          v26 = v21 <= 31;
          LODWORD(v21) = v21 - 16;
          if (v26)
          {
            goto LABEL_17;
          }
        }

        if (v27 == 1)
        {
          v28 = 0;
        }

        else
        {
          v29 = -1;
          do
          {
            v27 >>= 1;
            ++v29;
          }

          while (v27 > 1);
          v28 = v29 + 1;
          if (v29 >= 0xE)
          {
            v30 = *(v3 + 216);
            v31 = *v30;
            *(v31 + 40) = 41;
            (*v31)(v30);
          }
        }

        v32 = *(v3 + 224);
        v33 = *(v3 + 192);
        v34 = (16 * v28);
        if (*(v3 + 192))
        {
          ++*(*(v166 + 8 * v32) + 8 * v34);
          goto LABEL_49;
        }

        v35 = *(v165 + 8 * v32);
        v36 = *(v35 + 4 * v34);
        v37 = v35 + v34;
        v38 = *(v37 + 1024);
        if (!*(v37 + 1024))
        {
          v55 = *(v3 + 216);
          v56 = *v55;
          *(v56 + 40) = 41;
          (*v56)(v55);
          v33 = *(v3 + 192);
          if (*(v3 + 192))
          {
LABEL_49:
            if (!v28)
            {
              goto LABEL_68;
            }

            if (v33)
            {
              *(v3 + 228) = 0;
LABEL_91:
              *(v3 + 232) = 0;
              goto LABEL_92;
            }

            v57 = *(v3 + 32) + v28;
            v58 = ((*(v3 + 228) & ~(-1 << v28)) << (24 - (*(v3 + 32) + v28))) | *(v3 + 24);
            if (v57 < 8)
            {
              v33 = 0;
              goto LABEL_67;
            }

            while (1)
            {
              v60 = v57;
              v61 = *(v3 + 200);
              *(v3 + 200) = v61 + 1;
              *v61 = BYTE2(v58);
              v62 = *(v3 + 208) - 1;
              *(v3 + 208) = v62;
              if (v62)
              {
                if ((~v58 & 0xFF0000) == 0)
                {
                  goto LABEL_63;
                }
              }

              else
              {
                v63 = *(*(v3 + 216) + 40);
                if ((*(v63 + 24))())
                {
                  v64 = *(v63 + 8);
                  *(v3 + 200) = *v63;
                  *(v3 + 208) = v64;
                  if ((~v58 & 0xFF0000) == 0)
                  {
                    goto LABEL_63;
                  }
                }

                else
                {
                  v65 = *(v3 + 216);
                  v66 = *v65;
                  *(v66 + 40) = 25;
                  (*v66)(v65);
                  v67 = *(v63 + 8);
                  *(v3 + 200) = *v63;
                  *(v3 + 208) = v67;
                  if ((~v58 & 0xFF0000) == 0)
                  {
LABEL_63:
                    v68 = *(v3 + 200);
                    *(v3 + 200) = v68 + 1;
                    *v68 = 0;
                    v69 = *(v3 + 208) - 1;
                    *(v3 + 208) = v69;
                    if (!v69)
                    {
                      v70 = *(*(v3 + 216) + 40);
                      if (!(*(v70 + 24))())
                      {
                        v71 = *(v3 + 216);
                        v72 = *v71;
                        *(v72 + 40) = 25;
                        (*v72)(v71);
                      }

                      v59 = *(v70 + 8);
                      *(v3 + 200) = *v70;
                      *(v3 + 208) = v59;
                    }
                  }
                }
              }

              v58 <<= 8;
              v57 = v60 - 8;
              if (v60 <= 15)
              {
                v33 = *(v3 + 192);
LABEL_67:
                *(v3 + 24) = v58;
                *(v3 + 32) = v57;
LABEL_68:
                *(v3 + 228) = 0;
                v73 = *(v3 + 232);
                if (!v73 || v33)
                {
                  goto LABEL_91;
                }

                v74 = *(v3 + 240);
LABEL_71:
                v75 = *(v3 + 32);
                v76 = ((*v74 & 1) << (23 - v75)) | *(v3 + 24);
                if (v75 < 7)
                {
                  v91 = v75 + 1;
LABEL_87:
                  *(v3 + 24) = v76;
                  *(v3 + 32) = v91;
                  while (--v73)
                  {
                    ++v74;
                    if (!*(v3 + 192))
                    {
                      goto LABEL_71;
                    }
                  }

                  goto LABEL_91;
                }

                v77 = v75 + 9;
                while (2)
                {
                  v79 = *(v3 + 200);
                  *(v3 + 200) = v79 + 1;
                  *v79 = BYTE2(v76);
                  v80 = *(v3 + 208) - 1;
                  *(v3 + 208) = v80;
                  if (v80)
                  {
                    if ((~v76 & 0xFF0000) == 0)
                    {
                      goto LABEL_82;
                    }
                  }

                  else
                  {
                    v81 = *(*(v3 + 216) + 40);
                    if ((*(v81 + 24))())
                    {
                      v82 = *(v81 + 8);
                      *(v3 + 200) = *v81;
                      *(v3 + 208) = v82;
                      if ((~v76 & 0xFF0000) == 0)
                      {
                        goto LABEL_82;
                      }
                    }

                    else
                    {
                      v83 = *(v3 + 216);
                      v84 = *v83;
                      *(v84 + 40) = 25;
                      (*v84)(v83);
                      v85 = *(v81 + 8);
                      *(v3 + 200) = *v81;
                      *(v3 + 208) = v85;
                      if ((~v76 & 0xFF0000) == 0)
                      {
LABEL_82:
                        v86 = *(v3 + 200);
                        *(v3 + 200) = v86 + 1;
                        *v86 = 0;
                        v87 = *(v3 + 208) - 1;
                        *(v3 + 208) = v87;
                        if (!v87)
                        {
                          v88 = *(*(v3 + 216) + 40);
                          if (!(*(v88 + 24))())
                          {
                            v89 = *(v3 + 216);
                            v90 = *v89;
                            *(v90 + 40) = 25;
                            (*v90)(v89);
                          }

                          v78 = *(v88 + 8);
                          *(v3 + 200) = *v88;
                          *(v3 + 208) = v78;
                        }
                      }
                    }
                  }

                  v76 <<= 8;
                  v77 -= 8;
                  if (v77 <= 15)
                  {
                    v91 = v77 - 8;
                    goto LABEL_87;
                  }

                  continue;
                }
              }
            }
          }
        }

        v39 = *(v3 + 32) + v38;
        v40 = ((~(-1 << v38) & v36) << (24 - (*(v3 + 32) + v38))) | *(v3 + 24);
        if (v39 < 8)
        {
          v33 = 0;
          goto LABEL_47;
        }

        while (1)
        {
          v42 = v39;
          v43 = *(v3 + 200);
          *(v3 + 200) = v43 + 1;
          *v43 = BYTE2(v40);
          v44 = *(v3 + 208) - 1;
          *(v3 + 208) = v44;
          if (v44)
          {
            if ((~v40 & 0xFF0000) == 0)
            {
              goto LABEL_43;
            }
          }

          else
          {
            v45 = *(*(v3 + 216) + 40);
            if ((*(v45 + 24))())
            {
              v46 = *(v45 + 8);
              *(v3 + 200) = *v45;
              *(v3 + 208) = v46;
              if ((~v40 & 0xFF0000) == 0)
              {
                goto LABEL_43;
              }
            }

            else
            {
              v47 = *(v3 + 216);
              v48 = *v47;
              *(v48 + 40) = 25;
              (*v48)(v47);
              v49 = *(v45 + 8);
              *(v3 + 200) = *v45;
              *(v3 + 208) = v49;
              if ((~v40 & 0xFF0000) == 0)
              {
LABEL_43:
                v50 = *(v3 + 200);
                *(v3 + 200) = v50 + 1;
                *v50 = 0;
                v51 = *(v3 + 208) - 1;
                *(v3 + 208) = v51;
                if (!v51)
                {
                  v52 = *(*(v3 + 216) + 40);
                  if (!(*(v52 + 24))())
                  {
                    v53 = *(v3 + 216);
                    v54 = *v53;
                    *(v54 + 40) = 25;
                    (*v54)(v53);
                  }

                  v41 = *(v52 + 8);
                  *(v3 + 200) = *v52;
                  *(v3 + 208) = v41;
                }
              }
            }
          }

          v40 <<= 8;
          v39 = v42 - 8;
          if (v42 <= 15)
          {
            v33 = *(v3 + 192);
LABEL_47:
            *(v3 + 24) = v40;
            *(v3 + 32) = v39;
            goto LABEL_49;
          }
        }
      }

LABEL_17:
      LOBYTE(v23) = v163;
      if (v163 >= 2)
      {
        goto LABEL_18;
      }

LABEL_134:
      sub_1003974FC(v3);
      v132 = *(v3 + 224);
      v133 = (16 * v24) | 1;
      if (*(v3 + 192))
      {
        ++*(*(v166 + 8 * v132) + 8 * v133);
        goto LABEL_154;
      }

      sub_1003978F4(v3, *(*(v165 + 8 * v132) + 4 * v133), *(*(v165 + 8 * v132) + v133 + 1024));
      if (!*(v3 + 192))
      {
        v134 = *(v3 + 32);
        v135 = (((*(v159 + 2 * *(v160 + 4 * v164)) >> 15) ^ 1u) << (23 - v134)) | *(v3 + 24);
        if (v134 < 7)
        {
          v150 = v134 + 1;
          goto LABEL_153;
        }

        v136 = v134 + 9;
        while (1)
        {
          v138 = *(v3 + 200);
          *(v3 + 200) = v138 + 1;
          *v138 = BYTE2(v135);
          v139 = *(v3 + 208) - 1;
          *(v3 + 208) = v139;
          if (v139)
          {
            if ((~v135 & 0xFF0000) == 0)
            {
              goto LABEL_148;
            }
          }

          else
          {
            v140 = *(*(v3 + 216) + 40);
            if ((*(v140 + 24))())
            {
              v141 = *(v140 + 8);
              *(v3 + 200) = *v140;
              *(v3 + 208) = v141;
              if ((~v135 & 0xFF0000) == 0)
              {
                goto LABEL_148;
              }
            }

            else
            {
              v142 = *(v3 + 216);
              v143 = *v142;
              *(v143 + 40) = 25;
              (*v143)(v142);
              v144 = *(v140 + 8);
              *(v3 + 200) = *v140;
              *(v3 + 208) = v144;
              if ((~v135 & 0xFF0000) == 0)
              {
LABEL_148:
                v145 = *(v3 + 200);
                *(v3 + 200) = v145 + 1;
                *v145 = 0;
                v146 = *(v3 + 208) - 1;
                *(v3 + 208) = v146;
                if (!v146)
                {
                  v147 = *(*(v3 + 216) + 40);
                  if (!(*(v147 + 24))())
                  {
                    v148 = *(v3 + 216);
                    v149 = *v148;
                    *(v149 + 40) = 25;
                    (*v149)(v148);
                  }

                  v137 = *(v147 + 8);
                  *(v3 + 200) = *v147;
                  *(v3 + 208) = v137;
                }
              }
            }
          }

          v135 <<= 8;
          v136 -= 8;
          if (v136 <= 15)
          {
            v150 = v136 - 8;
LABEL_153:
            *(v3 + 24) = v135;
            *(v3 + 32) = v150;
            break;
          }
        }
      }

LABEL_154:
      sub_100397AA8(v3, v22, v25);
      v21 = 0;
      v9 = 0;
      v22 = *(v3 + 240);
      v14 = v162;
      v15 = v164 + 1;
      if (v162 == v164 + 1)
      {
        goto LABEL_155;
      }
    }

    v24 = v21;
    v25 = v9;
    if (v23 < 2)
    {
      goto LABEL_134;
    }

LABEL_18:
    v9 = v25 + 1;
    v22[v25] = v23 & 1;
    v21 = v24;
    v14 = v162;
    v15 = v164 + 1;
  }

  while (v162 != v164 + 1);
LABEL_155:
  v2 = v158;
  if (v21 <= 0)
  {
LABEL_156:
    if (!v9)
    {
      goto LABEL_160;
    }
  }

  v151 = *(v3 + 228) + 1;
  v152 = *(v3 + 232) + v9;
  *(v3 + 228) = v151;
  *(v3 + 232) = v152;
  if (v151 == 0x7FFF || v152 >= 0x3AA)
  {
    sub_1003974FC(v3);
  }

LABEL_160:
  v153 = *(v2 + 40);
  v154 = *(v3 + 208);
  *v153 = *(v3 + 200);
  v153[1] = v154;
  v155 = *(v2 + 304);
  if (v155)
  {
    v156 = *(v3 + 56);
    if (!v156)
    {
      *(v3 + 60) = (*(v3 + 60) + 1) & 7;
      v156 = v155;
    }

    *(v3 + 56) = v156 - 1;
  }

  return 1;
}

uint64_t sub_100396134(uint64_t *a1, uint64_t a2)
{
  v3 = a1[68];
  if (*(a1 + 76))
  {
    v4 = *(v3 + 56);
    if (!v4)
    {
      if (*(a1 + 89) < 1)
      {
        v4 = *(a1 + 76);
      }

      else
      {
        v5 = 0;
        do
        {
          *(v3 + 36 + 4 * v5++) = 0;
        }

        while (v5 < *(a1 + 89));
        v4 = *(a1 + 76);
      }
    }

    *(v3 + 56) = v4 - 1;
  }

  if (*(a1 + 100) >= 1)
  {
    v6 = 0;
    v36 = a1 + 45;
    v37 = a1 + 404;
    v7 = v3 + 36;
    v33 = v3 + 160;
    v34 = v3 + 128;
    v38 = a2;
    v35 = v3 + 36;
    do
    {
      v8 = *(v37 + 4 * v6);
      v9 = v36[v8];
      v10 = *(a2 + 8 * v6);
      v11 = *(v34 + 8 * *(v9 + 20));
      v12 = *(v33 + 8 * *(v9 + 24));
      v13 = *(a1 + 118);
      v14 = a1[58];
      v15 = *v10 - *(v7 + 4 * v8);
      if (v15)
      {
        if (v15 >= 0)
        {
          v17 = *v10 - *(v7 + 4 * v8);
        }

        else
        {
          v17 = *(v7 + 4 * v8) - *v10;
        }

        v18 = -1;
        do
        {
          ++v18;
          v19 = v17 > 1;
          v17 >>= 1;
        }

        while (v19);
        v16 = v18 + 1;
        if (v18 >= 0xB)
        {
          v20 = *a1;
          *(v20 + 40) = 6;
          (*v20)(a1);
        }
      }

      else
      {
        v16 = 0;
      }

      ++*(v11 + 8 * v16);
      if (v13 >= 1)
      {
        v21 = 0;
        v22 = v13 + 1;
        v23 = 1;
        do
        {
          while (1)
          {
            v24 = v21;
            v25 = v10[*(v14 + 4 * v23)];
            if (!v25)
            {
              break;
            }

            if (v24 >= 16)
            {
              v26 = v24 - 31;
              if (v24 < 0x1F)
              {
                v26 = 0;
              }

              v27 = v26 + 15;
              v24 = v24 - (v27 & 0x7FFFFFF0) - 16;
              v12[240] += (v27 >> 4) + 1;
            }

            if (v25 >= 0)
            {
              v28 = v25;
            }

            else
            {
              v28 = -v25;
            }

            if (v28 >= 2)
            {
              v30 = 0;
              v28 = v28;
              do
              {
                ++v30;
                v19 = v28 > 3;
                v28 >>= 1;
              }

              while (v19);
              v29 = v30 + 1;
              if (v30 >= 0xA)
              {
                v31 = *a1;
                *(v31 + 40) = 6;
                (*v31)(a1);
              }
            }

            else
            {
              v29 = 1;
            }

            v21 = 0;
            ++v12[16 * v24 + v29];
            if (++v23 == v22)
            {
              goto LABEL_11;
            }
          }

          v21 = v24 + 1;
          ++v23;
        }

        while (v23 != v22);
        if ((v24 & 0x80000000) == 0)
        {
          ++*v12;
        }
      }

LABEL_11:
      a2 = v38;
      v7 = v35;
      *(v35 + 4 * v8) = **(v38 + 8 * v6++);
    }

    while (v6 < *(a1 + 100));
  }

  return 1;
}

uint64_t sub_1003963C0(uint64_t *a1, uint64_t a2)
{
  v3 = a1;
  v4 = a1[68];
  v131 = 0;
  v129 = 0u;
  v130 = 0u;
  v5 = a1[5];
  v6 = *v5;
  v7 = *(v5 + 8);
  v126 = *v5;
  v127 = v7;
  v8 = *(v4 + 40);
  v129 = *(v4 + 24);
  v130 = v8;
  v131 = a1;
  if (!*(a1 + 76) || *(v4 + 56))
  {
    goto LABEL_3;
  }

  v101 = *(v4 + 60);
  if (SDWORD2(v129) < 1)
  {
    goto LABEL_134;
  }

  v102 = v129 | (127 << (17 - BYTE8(v129)));
  v103 = DWORD2(v129) + 15;
  do
  {
    v104 = v126++;
    *v104 = BYTE2(v102);
    if (--v127)
    {
      if ((~v102 & 0xFF0000) != 0)
      {
        goto LABEL_124;
      }
    }

    else
    {
      v105 = *(v131 + 5);
      result = (*(v105 + 24))();
      if (!result)
      {
        return result;
      }

      v126 = *v105;
      v127 = *(v105 + 8);
      if ((~v102 & 0xFF0000) != 0)
      {
        goto LABEL_124;
      }
    }

    v106 = v126++;
    *v106 = 0;
    if (!--v127)
    {
      v107 = *(v131 + 5);
      result = (*(v107 + 24))();
      if (!result)
      {
        return result;
      }

      v126 = *v107;
      v127 = *(v107 + 8);
    }

LABEL_124:
    LODWORD(v102) = v102 << 8;
    v103 -= 8;
  }

  while (v103 > 15);
  v6 = v126;
LABEL_134:
  DWORD2(v129) = 0;
  *&v129 = 0;
  *v6 = -1;
  v128 = v127 - 1;
  if (v128)
  {
    v108 = v6 + 1;
    goto LABEL_138;
  }

  v109 = *(v131 + 5);
  result = (*(v109 + 24))();
  if (!result)
  {
    return result;
  }

  v108 = *v109;
  v128 = *(v109 + 8);
LABEL_138:
  v126 = v108 + 1;
  *v108 = v101 - 48;
  v110 = v131;
  v7 = v128 - 1;
  v127 = v128 - 1;
  if (v127)
  {
LABEL_141:
    if (v131[89] >= 1)
    {
      v112 = 0;
      do
      {
        *(&v129 + v112++ + 3) = 0;
      }

      while (v112 < *(v110 + 89));
    }

LABEL_3:
    if (*(v3 + 100) < 1)
    {
LABEL_115:
      v97 = v3[5];
      *v97 = v126;
      v97[1] = v7;
      v98 = v130;
      *(v4 + 24) = v129;
      *(v4 + 40) = v98;
      v99 = *(v3 + 76);
      if (v99)
      {
        v100 = *(v4 + 56);
        if (!v100)
        {
          *(v4 + 60) = (*(v4 + 60) + 1) & 7;
          v100 = v99;
        }

        *(v4 + 56) = v100 - 1;
      }

      return 1;
    }

    v9 = 0;
    v10 = v3 + 404;
    v11 = v3 + 45;
    v12 = v4 + 64;
    v13 = v4 + 96;
    v120 = a2;
    v121 = v3;
    v118 = v3 + 45;
    v119 = v3 + 404;
    v117 = v4 + 64;
    v116 = v4 + 96;
    while (1)
    {
      v14 = *(v10 + 4 * v9);
      v15 = v11[v14];
      v122 = v14;
      v123 = v9;
      v16 = *(a2 + 8 * v9);
      v17 = *(&v129 + v14 + 3);
      v18 = *(v12 + 8 * *(v15 + 20));
      v19 = v131;
      v20 = v131[118];
      v124 = *(v131 + 58);
      v125 = *(v13 + 8 * *(v15 + 24));
      v21 = *v16;
      v22 = v21 - v17;
      if (v21 == v17)
      {
        v23 = 0;
      }

      else
      {
        if (v22 >= 0)
        {
          v24 = v21 - v17;
        }

        else
        {
          v24 = v17 - v21;
        }

        v25 = -1;
        do
        {
          ++v25;
          v26 = v24 > 1;
          v24 >>= 1;
        }

        while (v26);
        v23 = v25 + 1;
        if (v25 >= 0xB)
        {
          v27 = *v131;
          *(v27 + 40) = 6;
          (*v27)(v19);
        }
      }

      v28 = v23;
      v29 = *(v18 + 4 * v23);
      v30 = *(v18 + v28 + 1024);
      if (!v30)
      {
        v31 = *v19;
        *(v31 + 40) = 41;
        (*v31)(v19);
      }

      v32 = ~(-1 << v30) & v29;
      v33 = DWORD2(v129) + v30;
      v34 = (v32 << (24 - (BYTE8(v129) + v30))) | v129;
      if (DWORD2(v129) + v30 >= 8)
      {
        break;
      }

      v35 = DWORD2(v129) + v30;
LABEL_18:
      *&v129 = v34;
      DWORD2(v129) = v35;
      if (!v28)
      {
        goto LABEL_22;
      }

      v36 = v35 + v28;
      v34 |= (~(-1 << v28) & (v22 + (v22 >> 31))) << (24 - (v35 + v28));
      if (v35 + v28 >= 8)
      {
        while (1)
        {
          v81 = v126++;
          *v81 = BYTE2(v34);
          v7 = --v127;
          if (v127)
          {
            if ((~v34 & 0xFF0000) != 0)
            {
              goto LABEL_89;
            }
          }

          else
          {
            v82 = *(v131 + 5);
            result = (*(v82 + 24))();
            if (!result)
            {
              return result;
            }

            v7 = *(v82 + 8);
            v126 = *v82;
            v127 = v7;
            if ((~v34 & 0xFF0000) != 0)
            {
              goto LABEL_89;
            }
          }

          v83 = v126++;
          *v83 = 0;
          v7 = --v127;
          if (!v127)
          {
            v84 = *(v131 + 5);
            result = (*(v84 + 24))();
            if (!result)
            {
              return result;
            }

            v7 = *(v84 + 8);
            v126 = *v84;
            v127 = v7;
          }

LABEL_89:
          v34 <<= 8;
          v35 = v36 - 8;
          v26 = v36 <= 15;
          v36 -= 8;
          if (v26)
          {
            goto LABEL_21;
          }
        }
      }

      v35 += v28;
LABEL_21:
      *&v129 = v34;
      DWORD2(v129) = v35;
LABEL_22:
      if (v20 < 1)
      {
        goto LABEL_103;
      }

      v115 = (v125 + 256);
      v37 = ~v20;
      v38 = 1;
      do
      {
        v39 = 0;
        v40 = v124 + 4 * v38++;
        while (1)
        {
          v41 = *(v40 + 4 * v39);
          v42 = v16[v41];
          if (v16[v41])
          {
            break;
          }

          ++v38;
          ++v39;
          if (v37 + v38 == 1)
          {
            v85 = *v125;
            v86 = *(v125 + 1024);
            if (!*(v125 + 1024))
            {
              v87 = v131;
              v88 = *v131;
              *(v88 + 40) = 41;
              (*v88)(v87);
            }

            v89 = ~(-1 << v86) & v85;
            v90 = v35 + v86;
            v91 = (v89 << (24 - (v35 + v86))) | v34;
            if (v90 < 8)
            {
              v92 = v90;
LABEL_102:
              *&v129 = v91;
              DWORD2(v129) = v92;
              goto LABEL_103;
            }

            while (2)
            {
              v93 = v126++;
              *v93 = BYTE2(v91);
              v7 = --v127;
              if (v127)
              {
                if ((~v91 & 0xFF0000) == 0)
                {
LABEL_112:
                  v95 = v126++;
                  *v95 = 0;
                  v7 = --v127;
                  if (!v127)
                  {
                    v96 = *(v131 + 5);
                    result = (*(v96 + 24))();
                    if (!result)
                    {
                      return result;
                    }

                    v7 = *(v96 + 8);
                    v126 = *v96;
                    v127 = v7;
                  }
                }
              }

              else
              {
                v94 = *(v131 + 5);
                result = (*(v94 + 24))();
                if (!result)
                {
                  return result;
                }

                v7 = *(v94 + 8);
                v126 = *v94;
                v127 = v7;
                if ((~v91 & 0xFF0000) == 0)
                {
                  goto LABEL_112;
                }
              }

              v91 <<= 8;
              v92 = v90 - 8;
              v26 = v90 <= 15;
              v90 -= 8;
              if (v26)
              {
                goto LABEL_102;
              }

              continue;
            }
          }
        }

        v114 = v4;
        if (v39 > 0xF)
        {
          v43 = v39;
          while (1)
          {
            v44 = v125[240];
            v45 = *(v125 + 1264);
            if (!*(v125 + 1264))
            {
              v46 = v131;
              v47 = *v131;
              *(v47 + 40) = 41;
              (*v47)(v46);
            }

            v48 = ~(-1 << v45) & v44;
            v49 = v35 + v45;
            v34 |= v48 << (24 - (v35 + v45));
            if (v35 + v45 >= 8)
            {
              break;
            }

            v35 += v45;
LABEL_30:
            LODWORD(v39) = v43 - 16;
            v26 = v43 <= 31;
            v43 -= 16;
            if (v26)
            {
              goto LABEL_45;
            }
          }

          while (1)
          {
            v50 = v126++;
            *v50 = BYTE2(v34);
            v7 = --v127;
            if (v127)
            {
              if ((~v34 & 0xFF0000) != 0)
              {
                goto LABEL_35;
              }
            }

            else
            {
              v51 = *(v131 + 5);
              result = (*(v51 + 24))();
              if (!result)
              {
                return result;
              }

              v7 = *(v51 + 8);
              v126 = *v51;
              v127 = v7;
              if ((~v34 & 0xFF0000) != 0)
              {
                goto LABEL_35;
              }
            }

            v53 = v126++;
            *v53 = 0;
            v7 = --v127;
            if (!v127)
            {
              v54 = *(v131 + 5);
              result = (*(v54 + 24))();
              if (!result)
              {
                return result;
              }

              v7 = *(v54 + 8);
              v126 = *v54;
              v127 = v7;
            }

LABEL_35:
            v34 <<= 8;
            v35 = v49 - 8;
            v26 = v49 > 0xF;
            v49 -= 8;
            if (!v26)
            {
              goto LABEL_30;
            }
          }
        }

LABEL_45:
        if (v42 >= 0)
        {
          v55 = v42;
        }

        else
        {
          v55 = -v42;
        }

        if (v55 >= 2)
        {
          v56 = 32 - __clz(v55);
          if (v55 >= 0x400)
          {
            v57 = v131;
            v58 = *v131;
            *(v58 + 40) = 6;
            (*v58)(v57);
          }
        }

        else
        {
          v56 = 1;
        }

        v113 = v56;
        v59 = v56 + 16 * v39;
        v60 = v125[v59];
        v4 = v114;
        v61 = *(v115 + v59);
        if (!*(v115 + v59))
        {
          v62 = v131;
          v63 = *v131;
          *(v63 + 40) = 41;
          (*v63)(v62);
        }

        v64 = ~(-1 << v61) & v60;
        v65 = v35 + v61;
        v66 = (v64 << (24 - (v35 + v61))) | v34;
        if (v35 + v61 >= 8)
        {
          while (1)
          {
            v69 = v126++;
            *v69 = BYTE2(v66);
            v7 = --v127;
            if (v127)
            {
              if ((~v66 & 0xFF0000) != 0)
              {
                goto LABEL_60;
              }
            }

            else
            {
              v70 = *(v131 + 5);
              result = (*(v70 + 24))();
              if (!result)
              {
                return result;
              }

              v7 = *(v70 + 8);
              v126 = *v70;
              v127 = v7;
              if ((~v66 & 0xFF0000) != 0)
              {
                goto LABEL_60;
              }
            }

            v71 = v126++;
            *v71 = 0;
            v7 = --v127;
            if (!v127)
            {
              v72 = *(v131 + 5);
              result = (*(v72 + 24))();
              if (!result)
              {
                return result;
              }

              v7 = *(v72 + 8);
              v126 = *v72;
              v127 = v7;
            }

LABEL_60:
            v66 <<= 8;
            v67 = v65 - 8;
            v26 = v65 <= 15;
            v65 -= 8;
            if (v26)
            {
              goto LABEL_56;
            }
          }
        }

        v67 = v35 + v61;
LABEL_56:
        v68 = v67 + v113;
        v34 = ((~(-1 << v113) & (v42 + (v42 >> 15))) << (24 - (v67 + v113))) | v66;
        if ((v67 + v113) >= 8)
        {
          while (1)
          {
            v73 = v126++;
            *v73 = BYTE2(v34);
            v7 = --v127;
            if (v127)
            {
              if ((~v34 & 0xFF0000) != 0)
              {
                goto LABEL_69;
              }
            }

            else
            {
              v74 = *(v131 + 5);
              result = (*(v74 + 24))();
              if (!result)
              {
                return result;
              }

              v7 = *(v74 + 8);
              v126 = *v74;
              v127 = v7;
              if ((~v34 & 0xFF0000) != 0)
              {
                goto LABEL_69;
              }
            }

            v75 = v126++;
            *v75 = 0;
            v7 = --v127;
            if (!v127)
            {
              v76 = *(v131 + 5);
              result = (*(v76 + 24))();
              if (!result)
              {
                return result;
              }

              v7 = *(v76 + 8);
              v126 = *v76;
              v127 = v7;
            }

LABEL_69:
            v34 <<= 8;
            v35 = v68 - 8;
            v26 = v68 <= 15;
            v68 -= 8;
            if (v26)
            {
              goto LABEL_58;
            }
          }
        }

        v35 = v67 + v113;
LABEL_58:
        *&v129 = v34;
        DWORD2(v129) = v35;
      }

      while (v37 + v38);
LABEL_103:
      a2 = v120;
      v3 = v121;
      v11 = v118;
      *(&v129 + v122 + 3) = **(v120 + 8 * v123);
      v9 = v123 + 1;
      v10 = v119;
      v13 = v116;
      v12 = v117;
      if (v123 + 1 >= *(v121 + 100))
      {
        goto LABEL_115;
      }
    }

    while (1)
    {
      v77 = v126++;
      *v77 = BYTE2(v34);
      v7 = --v127;
      if (v127)
      {
        if ((~v34 & 0xFF0000) != 0)
        {
          goto LABEL_79;
        }
      }

      else
      {
        v78 = *(v131 + 5);
        result = (*(v78 + 24))();
        if (!result)
        {
          return result;
        }

        v7 = *(v78 + 8);
        v126 = *v78;
        v127 = v7;
        if ((~v34 & 0xFF0000) != 0)
        {
          goto LABEL_79;
        }
      }

      v79 = v126++;
      *v79 = 0;
      v7 = --v127;
      if (!v127)
      {
        v80 = *(v131 + 5);
        result = (*(v80 + 24))();
        if (!result)
        {
          return result;
        }

        v7 = *(v80 + 8);
        v126 = *v80;
        v127 = v7;
      }

LABEL_79:
      v34 <<= 8;
      v35 = v33 - 8;
      v26 = v33 <= 15;
      v33 -= 8;
      if (v26)
      {
        goto LABEL_18;
      }
    }
  }

  v111 = *(v131 + 5);
  result = (*(v111 + 24))(v131);
  if (result)
  {
    v7 = *(v111 + 8);
    v126 = *v111;
    v127 = v7;
    goto LABEL_141;
  }

  return result;
}

void *sub_100396E20(void *result, int a2, signed int a3, void *a4)
{
  v7 = result;
  if (a3 >= 4)
  {
    v58 = *result;
    *(v58 + 10) = 52;
    *(v58 + 11) = a3;
    result = (**result)(result);
    v59 = v7 + 20;
    if (!a2)
    {
      v59 = v7 + 24;
    }

    v9 = v59[a3];
    if (v9)
    {
LABEL_5:
      v10 = *a4;
      if (*a4)
      {
        goto LABEL_6;
      }

      goto LABEL_88;
    }
  }

  else
  {
    v8 = result + 20;
    if (!a2)
    {
      v8 = result + 24;
    }

    v9 = v8[a3];
    if (v9)
    {
      goto LABEL_5;
    }
  }

  v60 = *v7;
  *(v60 + 10) = 52;
  *(v60 + 11) = a3;
  result = (**v7)(v7);
  v10 = *a4;
  if (*a4)
  {
LABEL_6:
    v11 = v9[1];
    v67 = a2;
    if (!v9[1])
    {
      goto LABEL_8;
    }

    goto LABEL_7;
  }

LABEL_88:
  result = (*v7[1])(v7, 1, 1280);
  v10 = result;
  *a4 = result;
  v11 = v9[1];
  v67 = a2;
  if (v9[1])
  {
LABEL_7:
    result = memset(__b, 1, v11);
  }

LABEL_8:
  v12 = v9[2];
  if ((v11 + v12) >= 0x101)
  {
    v13 = *v7;
    *(v13 + 10) = 9;
    result = (*v13)(v7);
  }

  if (v12)
  {
    result = memset(&__b[v11], 2, v12);
    LODWORD(v11) = v11 + v12;
  }

  v14 = v9[3];
  if (v11 + v14 >= 257)
  {
    v15 = *v7;
    *(v15 + 10) = 9;
    result = (*v15)(v7);
  }

  if (v14)
  {
    result = memset(&__b[v11], 3, v14);
    LODWORD(v11) = v11 + v14;
  }

  v16 = v9[4];
  if (v11 + v16 >= 257)
  {
    v17 = *v7;
    *(v17 + 10) = 9;
    result = (*v17)(v7);
  }

  if (v16)
  {
    result = memset(&__b[v11], 4, v16);
    LODWORD(v11) = v11 + v16;
  }

  v18 = v9[5];
  if (v11 + v18 >= 257)
  {
    v19 = *v7;
    *(v19 + 10) = 9;
    result = (*v19)(v7);
  }

  if (v18)
  {
    result = memset(&__b[v11], 5, v18);
    LODWORD(v11) = v11 + v18;
  }

  v20 = v9[6];
  if (v11 + v20 >= 257)
  {
    v21 = *v7;
    *(v21 + 10) = 9;
    result = (*v21)(v7);
  }

  if (v20)
  {
    result = memset(&__b[v11], 6, v20);
    LODWORD(v11) = v11 + v20;
  }

  v22 = v9[7];
  if (v11 + v22 >= 257)
  {
    v23 = *v7;
    *(v23 + 10) = 9;
    result = (*v23)(v7);
  }

  if (v22)
  {
    result = memset(&__b[v11], 7, v22);
    LODWORD(v11) = v11 + v22;
  }

  v24 = v9[8];
  if (v11 + v24 >= 257)
  {
    v25 = *v7;
    *(v25 + 10) = 9;
    result = (*v25)(v7);
  }

  if (v24)
  {
    result = memset(&__b[v11], 8, v24);
    LODWORD(v11) = v11 + v24;
  }

  v26 = v9[9];
  if (v11 + v26 >= 257)
  {
    v27 = *v7;
    *(v27 + 10) = 9;
    result = (*v27)(v7);
  }

  if (v26)
  {
    result = memset(&__b[v11], 9, v26);
    LODWORD(v11) = v11 + v26;
  }

  v28 = v9[10];
  if (v11 + v28 >= 257)
  {
    v29 = *v7;
    *(v29 + 10) = 9;
    result = (*v29)(v7);
  }

  if (v28)
  {
    result = memset(&__b[v11], 10, v28);
    LODWORD(v11) = v11 + v28;
  }

  v30 = v9[11];
  if (v11 + v30 >= 257)
  {
    v31 = *v7;
    *(v31 + 10) = 9;
    result = (*v31)(v7);
  }

  if (v30)
  {
    result = memset(&__b[v11], 11, v30);
    LODWORD(v11) = v11 + v30;
  }

  v32 = v9[12];
  if (v11 + v32 >= 257)
  {
    v33 = *v7;
    *(v33 + 10) = 9;
    result = (*v33)(v7);
  }

  if (v32)
  {
    result = memset(&__b[v11], 12, v32);
    LODWORD(v11) = v11 + v32;
  }

  v34 = v9[13];
  if (v11 + v34 >= 257)
  {
    v35 = *v7;
    *(v35 + 10) = 9;
    result = (*v35)(v7);
  }

  if (v34)
  {
    result = memset(&__b[v11], 13, v34);
    LODWORD(v11) = v11 + v34;
  }

  v36 = v9[14];
  if (v11 + v36 >= 257)
  {
    v37 = *v7;
    *(v37 + 10) = 9;
    result = (*v37)(v7);
  }

  if (v36)
  {
    result = memset(&__b[v11], 14, v36);
    LODWORD(v11) = v11 + v36;
  }

  v38 = v9[15];
  if (v11 + v38 >= 257)
  {
    v39 = *v7;
    *(v39 + 10) = 9;
    result = (*v39)(v7);
  }

  if (v38)
  {
    result = memset(&__b[v11], 15, v38);
    LODWORD(v11) = v11 + v38;
  }

  v40 = v9[16];
  if (v11 + v40 >= 257)
  {
    v41 = *v7;
    *(v41 + 10) = 9;
    result = (*v41)(v7);
  }

  if (v40)
  {
    result = memset(&__b[v11], 16, v40);
    LODWORD(v11) = v11 + v40;
  }

  __b[v11] = 0;
  v42 = __b[0];
  if (__b[0])
  {
    v43 = 0;
    v44 = 0;
    v45 = __b[0];
    do
    {
      if (v42 == v45)
      {
        v46 = &v68[v44];
        v47 = &__b[v44 + 1];
        do
        {
          *v46++ = v43++;
          v48 = *v47++;
          ++v44;
        }

        while (v42 == v48);
      }

      if (1 << v42 <= v43)
      {
        v49 = *v7;
        *(v49 + 10) = 9;
        result = (*v49)(v7);
      }

      v43 *= 2;
      ++v42;
      v45 = __b[v44];
    }

    while (v45);
  }

  v10[79] = 0u;
  v10[78] = 0u;
  v10[77] = 0u;
  v10[76] = 0u;
  v10[75] = 0u;
  v10[74] = 0u;
  v10[73] = 0u;
  v10[72] = 0u;
  v10[71] = 0u;
  v10[70] = 0u;
  v10[69] = 0u;
  v10[68] = 0u;
  v10[67] = 0u;
  v10[66] = 0u;
  v10[65] = 0u;
  v10[64] = 0u;
  if (v11 >= 1)
  {
    v50 = v10 + 64;
    v51 = v9 + 17;
    v11 = v11;
    if (v67)
    {
      v52 = __b;
      v53 = v68;
      do
      {
        v57 = *v51++;
        v56 = v57;
        if (v57 > 0xFuLL || *(v50 + v56))
        {
          v54 = *v7;
          *(v54 + 10) = 9;
          result = (*v54)(v7);
        }

        v55 = *v53++;
        *(v10 + v56) = v55;
        LOBYTE(v55) = *v52++;
        *(v50 + v56) = v55;
        --v11;
      }

      while (v11);
    }

    else
    {
      v61 = v68;
      v62 = __b;
      do
      {
        v65 = *v51++;
        v64 = v65;
        if (*(v50 + v65))
        {
          v66 = *v7;
          *(v66 + 10) = 9;
          result = (*v66)(v7);
        }

        v63 = *v61++;
        *(v10 + v64) = v63;
        LOBYTE(v63) = *v62++;
        *(v50 + v64) = v63;
        --v11;
      }

      while (v11);
    }
  }

  return result;
}

uint64_t sub_1003974FC(uint64_t result)
{
  v1 = *(result + 228);
  if (v1)
  {
    v2 = result;
    if (v1 == 1)
    {
      v3 = 0;
    }

    else
    {
      v4 = -1;
      do
      {
        v1 >>= 1;
        ++v4;
      }

      while (v1 > 1);
      v3 = v4 + 1;
      if (v4 >= 0xE)
      {
        v5 = *(result + 216);
        v6 = *v5;
        *(v6 + 40) = 41;
        (*v6)(v5);
      }
    }

    v7 = 16 * v3;
    v8 = v2 + 8 * *(v2 + 224);
    if (*(v2 + 192))
    {
      ++*(*(v8 + 160) + 8 * v7);
      if (!v3)
      {
LABEL_11:
        *(v2 + 228) = 0;
        result = sub_100397AA8(v2, *(v2 + 240), *(v2 + 232));
        *(v2 + 232) = 0;
        return result;
      }
    }

    else
    {
      sub_1003978F4(v2, *(*(v8 + 96) + 4 * v7), *(*(v8 + 96) + v7 + 1024));
      if (!v3)
      {
        goto LABEL_11;
      }
    }

    sub_1003978F4(v2, *(v2 + 228), v3);
    goto LABEL_11;
  }

  return result;
}

void *sub_1003975E4(uint64_t *a1, uint64_t a2, uint64_t a3)
{
  v40 = 0u;
  v41 = 0u;
  v42 = 0;
  bzero(v39, 0x404uLL);
  result = memset(__b, 255, sizeof(__b));
  v7 = 0;
  *(a3 + 2048) = 1;
LABEL_2:
  LODWORD(v8) = -1;
  v9 = 1000000000;
  while (1)
  {
    do
    {
      v10 = *(a3 + 8 * v7);
      if (v10)
      {
        v11 = v10 <= v9;
      }

      else
      {
        v11 = 0;
      }

      v12 = !v11;
      if (v12)
      {
        v8 = v8;
      }

      else
      {
        v8 = v7;
      }

      if (!v12)
      {
        v9 = *(a3 + 8 * v7);
      }

      ++v7;
    }

    while (v7 != 257);
    v13 = 0;
    v14 = -1;
    v15 = 1000000000;
    do
    {
      v16 = *(a3 + 8 * v13);
      if (v16)
      {
        v17 = v8 == v13;
      }

      else
      {
        v17 = 1;
      }

      if (!v17 && v16 <= v15)
      {
        v14 = v13;
        v15 = *(a3 + 8 * v13);
      }

      ++v13;
    }

    while (v13 != 257);
    if ((v14 & 0x80000000) != 0)
    {
      break;
    }

    *(a3 + 8 * v8) += *(a3 + 8 * v14);
    *(a3 + 8 * v14) = 0;
    ++v39[v8];
    v20 = __b[v8];
    if ((v20 & 0x80000000) != 0)
    {
      v8 = v8;
    }

    else
    {
      do
      {
        v8 = v20;
        ++v39[v20];
        v20 = __b[v20];
      }

      while ((v20 & 0x80000000) == 0);
    }

    v7 = 0;
    __b[v8] = v14;
    ++v39[v14];
    v21 = __b[v14];
    LODWORD(v8) = -1;
    v9 = 1000000000;
    if ((v21 & 0x80000000) == 0)
    {
      do
      {
        ++v39[v21];
        v21 = __b[v21];
      }

      while ((v21 & 0x80000000) == 0);
      v7 = 0;
      goto LABEL_2;
    }
  }

  for (i = 0; i != 257; ++i)
  {
    v23 = v39[i];
    if (v23)
    {
      if (v23 >= 33)
      {
        v24 = *a1;
        *(v24 + 40) = 40;
        result = (*v24)(a1);
      }

      ++*(&v40 + v23);
    }
  }

  v25 = &v41 + 15;
  v26 = 0x2000000000;
  v27 = 32;
  do
  {
    for (j = *(&v40 + v27); j; j = *(&v40 + v27))
    {
      v29 = v25;
      v30 = v26;
      do
      {
        v31 = *--v29;
        v30 -= 0x100000000;
      }

      while (!v31);
      *(&v40 + v27) = j - 2;
      ++*(&v40 + v27 - 1);
      *(&v40 + (v30 >> 32)) += 2;
      --*v29;
    }

    v26 -= 0x100000000;
    --v25;
    v11 = v27-- > 0x11;
  }

  while (v11);
  v32 = &v41 + 1;
  do
  {
    v34 = *--v32;
    v33 = v34;
  }

  while (!v34);
  v35 = 0;
  *v32 = v33 - 1;
  *a2 = v40;
  *(a2 + 16) = v41;
  for (k = 1; k != 33; ++k)
  {
    for (m = 0; m != 256; ++m)
    {
      if (v39[m] == k)
      {
        *(a2 + 17 + v35++) = m;
      }
    }
  }

  *(a2 + 273) = 0;
  return result;
}

uint64_t sub_1003978F4(uint64_t result, unsigned int a2, int a3)
{
  v5 = result;
  if (a3)
  {
    if (*(result + 192))
    {
      return result;
    }
  }

  else
  {
    v6 = *(result + 216);
    v7 = *v6;
    *(v7 + 40) = 41;
    result = (*v7)(v6);
    if (*(v5 + 192))
    {
      return result;
    }
  }

  v8 = ~(-1 << a3) & a2;
  v9 = *(v5 + 32) + a3;
  v10 = (v8 << (24 - (*(v5 + 32) + a3))) | *(v5 + 24);
  if (v9 >= 8)
  {
    while (1)
    {
      v14 = *(v5 + 200);
      *(v5 + 200) = v14 + 1;
      *v14 = BYTE2(v10);
      v15 = *(v5 + 208) - 1;
      *(v5 + 208) = v15;
      if (v15)
      {
        if ((~v10 & 0xFF0000) == 0)
        {
          goto LABEL_16;
        }
      }

      else
      {
        v16 = *(*(v5 + 216) + 40);
        result = (*(v16 + 24))();
        if (result)
        {
          v17 = *(v16 + 8);
          *(v5 + 200) = *v16;
          *(v5 + 208) = v17;
          if ((~v10 & 0xFF0000) == 0)
          {
            goto LABEL_16;
          }
        }

        else
        {
          v18 = *(v5 + 216);
          v19 = *v18;
          *(v19 + 40) = 25;
          result = (*v19)(v18);
          v20 = *(v16 + 8);
          *(v5 + 200) = *v16;
          *(v5 + 208) = v20;
          if ((~v10 & 0xFF0000) == 0)
          {
LABEL_16:
            v21 = *(v5 + 200);
            *(v5 + 200) = v21 + 1;
            *v21 = 0;
            v22 = *(v5 + 208) - 1;
            *(v5 + 208) = v22;
            if (!v22)
            {
              v23 = *(*(v5 + 216) + 40);
              result = (*(v23 + 24))();
              if (!result)
              {
                v24 = *(v5 + 216);
                v25 = *v24;
                *(v25 + 40) = 25;
                result = (*v25)(v24);
              }

              v11 = *(v23 + 8);
              *(v5 + 200) = *v23;
              *(v5 + 208) = v11;
            }
          }
        }
      }

      v10 <<= 8;
      v12 = v9 - 8;
      v13 = v9 <= 15;
      v9 -= 8;
      if (v13)
      {
        goto LABEL_20;
      }
    }
  }

  v12 = v9;
LABEL_20:
  *(v5 + 24) = v10;
  *(v5 + 32) = v12;
  return result;
}

uint64_t sub_100397AA8(uint64_t result, _BYTE *a2, int a3)
{
  if (a3)
  {
    v3 = result;
    if (!*(result + 192))
    {
      v4 = a3;
LABEL_4:
      v6 = *(v3 + 32);
      v7 = ((*a2 & 1) << (23 - v6)) | *(v3 + 24);
      if (v6 >= 7)
      {
        v8 = v6 + 9;
        while (1)
        {
          v10 = *(v3 + 200);
          *(v3 + 200) = v10 + 1;
          *v10 = BYTE2(v7);
          v11 = *(v3 + 208) - 1;
          *(v3 + 208) = v11;
          if (v11)
          {
            if ((~v7 & 0xFF0000) == 0)
            {
              goto LABEL_15;
            }
          }

          else
          {
            v12 = *(*(v3 + 216) + 40);
            result = (*(v12 + 24))();
            if (result)
            {
              v13 = *(v12 + 8);
              *(v3 + 200) = *v12;
              *(v3 + 208) = v13;
              if ((~v7 & 0xFF0000) == 0)
              {
                goto LABEL_15;
              }
            }

            else
            {
              v14 = *(v3 + 216);
              v15 = *v14;
              *(v15 + 40) = 25;
              result = (*v15)(v14);
              v16 = *(v12 + 8);
              *(v3 + 200) = *v12;
              *(v3 + 208) = v16;
              if ((~v7 & 0xFF0000) == 0)
              {
LABEL_15:
                v17 = *(v3 + 200);
                *(v3 + 200) = v17 + 1;
                *v17 = 0;
                v18 = *(v3 + 208) - 1;
                *(v3 + 208) = v18;
                if (!v18)
                {
                  v19 = *(*(v3 + 216) + 40);
                  result = (*(v19 + 24))();
                  if (!result)
                  {
                    v20 = *(v3 + 216);
                    v21 = *v20;
                    *(v21 + 40) = 25;
                    result = (*v21)(v20);
                  }

                  v9 = *(v19 + 8);
                  *(v3 + 200) = *v19;
                  *(v3 + 208) = v9;
                }
              }
            }
          }

          v7 <<= 8;
          v8 -= 8;
          if (v8 <= 15)
          {
            v22 = v8 - 8;
            goto LABEL_20;
          }
        }
      }

      v22 = v6 + 1;
LABEL_20:
      *(v3 + 24) = v7;
      *(v3 + 32) = v22;
      while (--v4)
      {
        ++a2;
        if (!*(v3 + 192))
        {
          goto LABEL_4;
        }
      }
    }
  }

  return result;
}

uint64_t sub_100397C48(uint64_t result)
{
  v1 = result;
  if (!*(result + 192))
  {
    v2 = *(result + 32);
    if (v2 >= 1)
    {
      v3 = (127 << (17 - v2)) | *(result + 24);
      for (i = v2 + 15; i > 15; i -= 8)
      {
        v6 = *(v1 + 200);
        *(v1 + 200) = v6 + 1;
        *v6 = BYTE2(v3);
        v7 = *(v1 + 208) - 1;
        *(v1 + 208) = v7;
        if (v7)
        {
          if ((~v3 & 0xFF0000) == 0)
          {
            goto LABEL_14;
          }
        }

        else
        {
          v8 = *(*(v1 + 216) + 40);
          result = (*(v8 + 24))();
          if (result)
          {
            v9 = *(v8 + 8);
            *(v1 + 200) = *v8;
            *(v1 + 208) = v9;
            if ((~v3 & 0xFF0000) == 0)
            {
              goto LABEL_14;
            }
          }

          else
          {
            v10 = *(v1 + 216);
            v11 = *v10;
            *(v11 + 40) = 25;
            result = (*v11)(v10);
            v12 = *(v8 + 8);
            *(v1 + 200) = *v8;
            *(v1 + 208) = v12;
            if ((~v3 & 0xFF0000) == 0)
            {
LABEL_14:
              v13 = *(v1 + 200);
              *(v1 + 200) = v13 + 1;
              *v13 = 0;
              v14 = *(v1 + 208) - 1;
              *(v1 + 208) = v14;
              if (!v14)
              {
                v15 = *(*(v1 + 216) + 40);
                result = (*(v15 + 24))();
                if (!result)
                {
                  v16 = *(v1 + 216);
                  v17 = *v16;
                  *(v17 + 40) = 25;
                  result = (*v17)(v16);
                }

                v5 = *(v15 + 8);
                *(v1 + 200) = *v15;
                *(v1 + 208) = v5;
              }
            }
          }
        }

        LODWORD(v3) = v3 << 8;
      }
    }
  }

  *(v1 + 24) = 0;
  *(v1 + 32) = 0;
  return result;
}

uint64_t sub_100397DA4(uint64_t a1, char a2)
{
  result = sub_1003974FC(a1);
  if (*(a1 + 192))
  {
    goto LABEL_8;
  }

  result = sub_100397C48(a1);
  v5 = *(a1 + 200);
  *(a1 + 200) = v5 + 1;
  *v5 = -1;
  v6 = *(a1 + 208) - 1;
  *(a1 + 208) = v6;
  if (v6)
  {
    v7 = *(a1 + 200);
  }

  else
  {
    v8 = *(*(a1 + 216) + 40);
    result = (*(v8 + 24))();
    if (!result)
    {
      v9 = *(a1 + 216);
      v10 = *v9;
      *(v10 + 40) = 25;
      result = (*v10)(v9);
    }

    v7 = *v8;
    *(a1 + 208) = *(v8 + 8);
  }

  *(a1 + 200) = v7 + 1;
  *v7 = a2 - 48;
  v11 = *(a1 + 208) - 1;
  *(a1 + 208) = v11;
  if (v11)
  {
LABEL_8:
    v12 = *(a1 + 216);
    if (*(v12 + 444))
    {
LABEL_9:
      *(a1 + 228) = 0;
      *(a1 + 232) = 0;
      return result;
    }
  }

  else
  {
    v13 = *(*(a1 + 216) + 40);
    result = (*(v13 + 24))();
    if (!result)
    {
      v14 = *(a1 + 216);
      v15 = *v14;
      *(v15 + 40) = 25;
      result = (*v15)(v14);
    }

    v16 = *(v13 + 8);
    *(a1 + 200) = *v13;
    *(a1 + 208) = v16;
    v12 = *(a1 + 216);
    if (*(v12 + 444))
    {
      goto LABEL_9;
    }
  }

  if (*(v12 + 356) >= 1)
  {
    v17 = 0;
    do
    {
      *(a1 + 36 + 4 * v17++) = 0;
    }

    while (v17 < *(v12 + 356));
  }

  return result;
}

uint64_t sub_100397EEC(uint64_t a1)
{
  v2 = *(a1 + 88);
  if (v2 != 8)
  {
    v3 = *a1;
    *(v3 + 10) = 16;
    *(v3 + 11) = v2;
    (**a1)(a1);
  }

  if (*(a1 + 52) && (v4 = *(a1 + 48)) != 0 && (v5 = *(a1 + 56), v5 > 0))
  {
    if (!((v5 * v4) >> 32))
    {
      goto LABEL_7;
    }
  }

  else
  {
    v7 = *a1;
    *(v7 + 10) = 33;
    (*v7)(a1);
    if (!((*(a1 + 56) * *(a1 + 48)) >> 32))
    {
LABEL_7:
      sub_10039BD48(a1, 0);
      if (*(a1 + 288))
      {
        goto LABEL_8;
      }

      goto LABEL_13;
    }
  }

  v8 = *a1;
  *(*&v8 + 40) = 72;
  (**&v8)(a1);
  sub_10039BD48(a1, 0);
  if (*(a1 + 288))
  {
LABEL_8:
    sub_100393CE8(a1);
    if (*(a1 + 289))
    {
      goto LABEL_9;
    }

LABEL_14:
    sub_1003946C8(a1);
    if (*(a1 + 272) > 1)
    {
      goto LABEL_10;
    }

    goto LABEL_15;
  }

LABEL_13:
  sub_100392DF8(a1);
  sub_1003A3920(a1);
  sub_1003A2ED0(a1, 0);
  sub_100393CE8(a1);
  if (!*(a1 + 289))
  {
    goto LABEL_14;
  }

LABEL_9:
  sub_1003904E0(a1);
  if (*(a1 + 272) > 1)
  {
LABEL_10:
    v6 = 1;
    goto LABEL_16;
  }

LABEL_15:
  v6 = *(a1 + 290) != 0;
LABEL_16:
  sub_10039204C(a1, v6);
  sub_100398098(a1, 0);
  sub_10039834C(a1);
  (*(*(a1 + 8) + 48))(a1);
  v9 = **(a1 + 512);

  return v9(a1);
}

uint64_t (**sub_100398098(int *a1, int a2))(uint64_t result, int a2)
{
  result = (**(a1 + 1))();
  *(a1 + 61) = result;
  *result = sub_10039818C;
  if (!*(a1 + 288))
  {
    if (a2)
    {
      v5 = *a1;
      *(v5 + 40) = 3;
      v6 = *v5;

      return v6(a1);
    }

    else if (a1[23] >= 1)
    {
      v7 = 0;
      v8 = result + 4;
      v9 = (*(a1 + 13) + 40);
      do
      {
        result = (*(*(a1 + 1) + 16))(a1, 1, (*(v9 - 1) * *(v9 - 3)), (*v9 * *(v9 - 7)));
        v8[v7++] = result;
        v9 += 24;
      }

      while (v7 < a1[23]);
    }
  }

  return result;
}

uint64_t sub_10039818C(uint64_t result, int a2)
{
  if (!*(result + 288))
  {
    v2 = *(result + 488);
    *(v2 + 24) = 0;
    *(v2 + 16) = 0;
    *(v2 + 28) = a2;
    if (a2)
    {
      v3 = *result;
      *(v3 + 40) = 3;
      return (*v3)(result);
    }

    else
    {
      *(v2 + 8) = sub_1003981D4;
    }
  }

  return result;
}

uint64_t sub_1003981D4(uint64_t result, uint64_t a2, _DWORD *a3, uint64_t a4)
{
  v4 = *(result + 488);
  if (*(v4 + 16) < *(result + 352))
  {
    v8 = result;
    v10 = (v4 + 20);
    v9 = *(v4 + 20);
    v11 = *(result + 348);
    if (v9 < v11)
    {
      result = (*(*(result + 496) + 8))(result, a2, a3, a4, v4 + 32, v4 + 20);
      v9 = *v10;
      v11 = *(v8 + 348);
    }

    if (v9 == v11)
    {
      result = (*(*(v8 + 504) + 8))(v8, v4 + 32);
      v12 = *(v4 + 24) == 0;
      if (result)
      {
        if (*(v4 + 24))
        {
LABEL_7:
          ++*a3;
          *(v4 + 24) = 0;
        }

        while (1)
        {
          v13 = *(v4 + 16) + 1;
          *(v4 + 16) = v13;
          if (v13 >= *(v8 + 352))
          {
            break;
          }

          if (*(v8 + 348))
          {
            result = (*(*(v8 + 496) + 8))(v8, a2, a3, a4, v4 + 32, v4 + 20);
            if (*v10 != *(v8 + 348))
            {
              break;
            }
          }

          result = (*(*(v8 + 504) + 8))(v8, v4 + 32);
          v12 = *(v4 + 24) == 0;
          if (!result)
          {
            goto LABEL_14;
          }

          if (*(v4 + 24))
          {
            goto LABEL_7;
          }
        }
      }

      else
      {
LABEL_14:
        if (v12)
        {
          --*a3;
          *(v4 + 24) = 1;
        }
      }
    }
  }

  return result;
}

uint64_t sub_10039834C(uint64_t a1)
{
  result = (**(a1 + 8))();
  *(a1 + 512) = result;
  *result = sub_1003983F8;
  *(result + 8) = sub_100398FB4;
  *(result + 16) = sub_100399BF4;
  *(result + 24) = sub_10039A760;
  *(result + 32) = sub_10039A838;
  *(result + 40) = sub_10039AAC8;
  *(result + 48) = sub_10039AC74;
  *(result + 56) = 0;
  return result;
}

uint64_t sub_1003983F8(uint64_t result)
{
  v1 = result;
  v2 = *(result + 512);
  v3 = *(result + 40);
  v4 = (*v3)++;
  *v4 = -1;
  v5 = *(v3 + 8) - 1;
  *(v3 + 8) = v5;
  if (!v5)
  {
    result = (*(v3 + 24))(result);
    if (!result)
    {
      v6 = *v1;
      *(v6 + 40) = 25;
      result = (*v6)(v1);
    }
  }

  v7 = *(v1 + 40);
  v8 = (*v7)++;
  *v8 = -40;
  v9 = *(v7 + 8) - 1;
  *(v7 + 8) = v9;
  if (!v9)
  {
    result = (*(v7 + 24))(v1);
    if (!result)
    {
      v10 = *v1;
      *(v10 + 40) = 25;
      result = (*v10)(v1);
    }
  }

  *(v2 + 56) = 0;
  if (!*(v1 + 312))
  {
    goto LABEL_61;
  }

  v11 = *(v1 + 40);
  v12 = (*v11)++;
  *v12 = -1;
  v13 = *(v11 + 8) - 1;
  *(v11 + 8) = v13;
  if (!v13)
  {
    result = (*(v11 + 24))(v1);
    if (!result)
    {
      v14 = *v1;
      *(v14 + 40) = 25;
      result = (*v14)(v1);
    }
  }

  v15 = *(v1 + 40);
  v16 = (*v15)++;
  *v16 = -32;
  v17 = *(v15 + 8) - 1;
  *(v15 + 8) = v17;
  if (!v17)
  {
    result = (*(v15 + 24))(v1);
    if (!result)
    {
      v18 = *v1;
      *(v18 + 40) = 25;
      result = (*v18)(v1);
    }
  }

  v19 = *(v1 + 40);
  v20 = (*v19)++;
  *v20 = 0;
  v21 = *(v19 + 8) - 1;
  *(v19 + 8) = v21;
  if (!v21)
  {
    result = (*(v19 + 24))(v1);
    if (!result)
    {
      v22 = *v1;
      *(v22 + 40) = 25;
      result = (*v22)(v1);
    }
  }

  v23 = *(v1 + 40);
  v24 = (*v23)++;
  *v24 = 16;
  v25 = *(v23 + 8) - 1;
  *(v23 + 8) = v25;
  if (!v25)
  {
    result = (*(v23 + 24))(v1);
    if (!result)
    {
      v26 = *v1;
      *(v26 + 40) = 25;
      result = (*v26)(v1);
    }
  }

  v27 = *(v1 + 40);
  v28 = (*v27)++;
  *v28 = 74;
  v29 = *(v27 + 8) - 1;
  *(v27 + 8) = v29;
  if (!v29)
  {
    result = (*(v27 + 24))(v1);
    if (!result)
    {
      v30 = *v1;
      *(v30 + 40) = 25;
      result = (*v30)(v1);
    }
  }

  v31 = *(v1 + 40);
  v32 = (*v31)++;
  *v32 = 70;
  v33 = *(v31 + 8) - 1;
  *(v31 + 8) = v33;
  if (!v33)
  {
    result = (*(v31 + 24))(v1);
    if (!result)
    {
      v34 = *v1;
      *(v34 + 40) = 25;
      result = (*v34)(v1);
    }
  }

  v35 = *(v1 + 40);
  v36 = (*v35)++;
  *v36 = 73;
  v37 = *(v35 + 8) - 1;
  *(v35 + 8) = v37;
  if (!v37)
  {
    result = (*(v35 + 24))(v1);
    if (!result)
    {
      v38 = *v1;
      *(v38 + 40) = 25;
      result = (*v38)(v1);
    }
  }

  v39 = *(v1 + 40);
  v40 = (*v39)++;
  *v40 = 70;
  v41 = *(v39 + 8) - 1;
  *(v39 + 8) = v41;
  if (!v41)
  {
    result = (*(v39 + 24))(v1);
    if (!result)
    {
      v42 = *v1;
      *(v42 + 40) = 25;
      result = (*v42)(v1);
    }
  }

  v43 = *(v1 + 40);
  v44 = (*v43)++;
  *v44 = 0;
  v45 = *(v43 + 8) - 1;
  *(v43 + 8) = v45;
  if (!v45)
  {
    result = (*(v43 + 24))(v1);
    if (!result)
    {
      v46 = *v1;
      *(v46 + 40) = 25;
      result = (*v46)(v1);
    }
  }

  v47 = *(v1 + 313);
  v48 = *(v1 + 40);
  v49 = (*v48)++;
  *v49 = v47;
  v50 = *(v48 + 8) - 1;
  *(v48 + 8) = v50;
  if (!v50)
  {
    result = (*(v48 + 24))(v1);
    if (!result)
    {
      v51 = *v1;
      *(v51 + 40) = 25;
      result = (*v51)(v1);
    }
  }

  v52 = *(v1 + 314);
  v53 = *(v1 + 40);
  v54 = (*v53)++;
  *v54 = v52;
  v55 = *(v53 + 8) - 1;
  *(v53 + 8) = v55;
  if (!v55)
  {
    result = (*(v53 + 24))(v1);
    if (!result)
    {
      v56 = *v1;
      *(v56 + 40) = 25;
      result = (*v56)(v1);
    }
  }

  v57 = *(v1 + 315);
  v58 = *(v1 + 40);
  v59 = (*v58)++;
  *v59 = v57;
  v60 = *(v58 + 8) - 1;
  *(v58 + 8) = v60;
  if (!v60)
  {
    result = (*(v58 + 24))(v1);
    if (!result)
    {
      v61 = *v1;
      *(v61 + 40) = 25;
      result = (*v61)(v1);
    }
  }

  v62 = *(v1 + 316);
  v63 = *(v1 + 40);
  v64 = (*v63)++;
  *v64 = HIBYTE(v62);
  v65 = *(v63 + 8) - 1;
  *(v63 + 8) = v65;
  if (!v65)
  {
    result = (*(v63 + 24))(v1);
    if (!result)
    {
      v66 = *v1;
      *(v66 + 40) = 25;
      result = (*v66)(v1);
    }
  }

  v67 = *(v1 + 40);
  v68 = (*v67)++;
  *v68 = v62;
  v69 = *(v67 + 8) - 1;
  *(v67 + 8) = v69;
  if (!v69)
  {
    result = (*(v67 + 24))(v1);
    if (!result)
    {
      v70 = *v1;
      *(v70 + 40) = 25;
      result = (*v70)(v1);
    }
  }

  v71 = *(v1 + 318);
  v72 = *(v1 + 40);
  v73 = (*v72)++;
  *v73 = HIBYTE(v71);
  v74 = *(v72 + 8) - 1;
  *(v72 + 8) = v74;
  if (!v74)
  {
    result = (*(v72 + 24))(v1);
    if (!result)
    {
      v75 = *v1;
      *(v75 + 40) = 25;
      result = (*v75)(v1);
    }
  }

  v76 = *(v1 + 40);
  v77 = (*v76)++;
  *v77 = v71;
  v78 = *(v76 + 8) - 1;
  *(v76 + 8) = v78;
  if (!v78)
  {
    result = (*(v76 + 24))(v1);
    if (!result)
    {
      v79 = *v1;
      *(v79 + 40) = 25;
      result = (*v79)(v1);
    }
  }

  v80 = *(v1 + 40);
  v81 = (*v80)++;
  *v81 = 0;
  v82 = *(v80 + 8) - 1;
  *(v80 + 8) = v82;
  if (!v82)
  {
    result = (*(v80 + 24))(v1);
    if (!result)
    {
      v83 = *v1;
      *(v83 + 40) = 25;
      result = (*v83)(v1);
    }
  }

  v84 = *(v1 + 40);
  v85 = (*v84)++;
  *v85 = 0;
  v86 = *(v84 + 8) - 1;
  *(v84 + 8) = v86;
  if (v86 || (result = (*(v84 + 24))(v1), result))
  {
LABEL_61:
    if (!*(v1 + 320))
    {
      return result;
    }
  }

  else
  {
    v153 = *v1;
    *(v153 + 40) = 25;
    result = (*v153)(v1);
    if (!*(v1 + 320))
    {
      return result;
    }
  }

  v87 = *(v1 + 40);
  v88 = (*v87)++;
  *v88 = -1;
  v89 = *(v87 + 8) - 1;
  *(v87 + 8) = v89;
  if (!v89)
  {
    result = (*(v87 + 24))(v1);
    if (!result)
    {
      v90 = *v1;
      *(v90 + 40) = 25;
      result = (*v90)(v1);
    }
  }

  v91 = *(v1 + 40);
  v92 = (*v91)++;
  *v92 = -18;
  v93 = *(v91 + 8) - 1;
  *(v91 + 8) = v93;
  if (!v93)
  {
    result = (*(v91 + 24))(v1);
    if (!result)
    {
      v94 = *v1;
      *(v94 + 40) = 25;
      result = (*v94)(v1);
    }
  }

  v95 = *(v1 + 40);
  v96 = (*v95)++;
  *v96 = 0;
  v97 = *(v95 + 8) - 1;
  *(v95 + 8) = v97;
  if (!v97)
  {
    result = (*(v95 + 24))(v1);
    if (!result)
    {
      v98 = *v1;
      *(v98 + 40) = 25;
      result = (*v98)(v1);
    }
  }

  v99 = *(v1 + 40);
  v100 = (*v99)++;
  *v100 = 14;
  v101 = *(v99 + 8) - 1;
  *(v99 + 8) = v101;
  if (!v101)
  {
    result = (*(v99 + 24))(v1);
    if (!result)
    {
      v102 = *v1;
      *(v102 + 40) = 25;
      result = (*v102)(v1);
    }
  }

  v103 = *(v1 + 40);
  v104 = (*v103)++;
  *v104 = 65;
  v105 = *(v103 + 8) - 1;
  *(v103 + 8) = v105;
  if (!v105)
  {
    result = (*(v103 + 24))(v1);
    if (!result)
    {
      v106 = *v1;
      *(v106 + 40) = 25;
      result = (*v106)(v1);
    }
  }

  v107 = *(v1 + 40);
  v108 = (*v107)++;
  *v108 = 100;
  v109 = *(v107 + 8) - 1;
  *(v107 + 8) = v109;
  if (!v109)
  {
    result = (*(v107 + 24))(v1);
    if (!result)
    {
      v110 = *v1;
      *(v110 + 40) = 25;
      result = (*v110)(v1);
    }
  }

  v111 = *(v1 + 40);
  v112 = (*v111)++;
  *v112 = 111;
  v113 = *(v111 + 8) - 1;
  *(v111 + 8) = v113;
  if (!v113)
  {
    result = (*(v111 + 24))(v1);
    if (!result)
    {
      v114 = *v1;
      *(v114 + 40) = 25;
      result = (*v114)(v1);
    }
  }

  v115 = *(v1 + 40);
  v116 = (*v115)++;
  *v116 = 98;
  v117 = *(v115 + 8) - 1;
  *(v115 + 8) = v117;
  if (!v117)
  {
    result = (*(v115 + 24))(v1);
    if (!result)
    {
      v118 = *v1;
      *(v118 + 40) = 25;
      result = (*v118)(v1);
    }
  }

  v119 = *(v1 + 40);
  v120 = (*v119)++;
  *v120 = 101;
  v121 = *(v119 + 8) - 1;
  *(v119 + 8) = v121;
  if (!v121)
  {
    result = (*(v119 + 24))(v1);
    if (!result)
    {
      v122 = *v1;
      *(v122 + 40) = 25;
      result = (*v122)(v1);
    }
  }

  v123 = *(v1 + 40);
  v124 = (*v123)++;
  *v124 = 0;
  v125 = *(v123 + 8) - 1;
  *(v123 + 8) = v125;
  if (!v125)
  {
    result = (*(v123 + 24))(v1);
    if (!result)
    {
      v126 = *v1;
      *(v126 + 40) = 25;
      result = (*v126)(v1);
    }
  }

  v127 = *(v1 + 40);
  v128 = (*v127)++;
  *v128 = 100;
  v129 = *(v127 + 8) - 1;
  *(v127 + 8) = v129;
  if (!v129)
  {
    result = (*(v127 + 24))(v1);
    if (!result)
    {
      v130 = *v1;
      *(v130 + 40) = 25;
      result = (*v130)(v1);
    }
  }

  v131 = *(v1 + 40);
  v132 = (*v131)++;
  *v132 = 0;
  v133 = *(v131 + 8) - 1;
  *(v131 + 8) = v133;
  if (!v133)
  {
    result = (*(v131 + 24))(v1);
    if (!result)
    {
      v134 = *v1;
      *(v134 + 40) = 25;
      result = (*v134)(v1);
    }
  }

  v135 = *(v1 + 40);
  v136 = (*v135)++;
  *v136 = 0;
  v137 = *(v135 + 8) - 1;
  *(v135 + 8) = v137;
  if (!v137)
  {
    result = (*(v135 + 24))(v1);
    if (!result)
    {
      v138 = *v1;
      *(v138 + 40) = 25;
      result = (*v138)(v1);
    }
  }

  v139 = *(v1 + 40);
  v140 = (*v139)++;
  *v140 = 0;
  v141 = *(v139 + 8) - 1;
  *(v139 + 8) = v141;
  if (!v141)
  {
    result = (*(v139 + 24))(v1);
    if (!result)
    {
      v142 = *v1;
      *(v142 + 40) = 25;
      result = (*v142)(v1);
    }
  }

  v143 = *(v1 + 40);
  v144 = (*v143)++;
  *v144 = 0;
  v145 = *(v143 + 8) - 1;
  *(v143 + 8) = v145;
  if (!v145)
  {
    result = (*(v143 + 24))(v1);
    if (!result)
    {
      v146 = *v1;
      *(v146 + 40) = 25;
      result = (*v146)(v1);
    }
  }

  v147 = *(v1 + 96);
  v148 = *(v1 + 40);
  v149 = (*v148)++;
  if (v147 == 5)
  {
    *v149 = 2;
    v151 = *(v148 + 8) - 1;
    *(v148 + 8) = v151;
    if (v151)
    {
      return result;
    }
  }

  else if (v147 == 3)
  {
    *v149 = 1;
    v150 = *(v148 + 8) - 1;
    *(v148 + 8) = v150;
    if (v150)
    {
      return result;
    }
  }

  else
  {
    *v149 = 0;
    v152 = *(v148 + 8) - 1;
    *(v148 + 8) = v152;
    if (v152)
    {
      return result;
    }
  }

  result = (*(v148 + 24))(v1);
  if (!result)
  {
    v154 = *v1;
    *(v154 + 40) = 25;
    v155 = *v154;

    return v155(v1);
  }

  return result;
}

uint64_t sub_100398FB4(uint64_t a1)
{
  v2 = *(a1 + 92);
  if (v2 < 1)
  {
    v7 = 0;
    if (*(a1 + 289))
    {
      goto LABEL_7;
    }
  }

  else
  {
    v3 = 0;
    v4 = 0;
    v5 = (*(a1 + 104) + 16);
    do
    {
      v6 = *v5;
      v5 += 24;
      v3 += sub_10039ACF4(a1, v6);
      ++v4;
      v2 = *(a1 + 92);
    }

    while (v4 < v2);
    v7 = v3 != 0;
    if (*(a1 + 289))
    {
      goto LABEL_7;
    }
  }

  if (*(a1 + 332))
  {
    goto LABEL_22;
  }

  if (*(a1 + 88) == 8 && *(a1 + 460) == 8)
  {
    if (v2 < 1)
    {
      v10 = 1;
    }

    else
    {
      v9 = (*(a1 + 104) + 24);
      v10 = 1;
      do
      {
        if (*(v9 - 1) > 1 || *v9 >= 2)
        {
          v10 = 0;
        }

        v9 += 24;
        --v2;
      }

      while (v2);
    }

    if (v10)
    {
      v155 = v7;
    }

    else
    {
      v155 = 0;
    }

    if (v155)
    {
      v156 = *a1;
      *(v156 + 40) = 77;
      (*(v156 + 8))(a1, 0);
      if (!*(a1 + 289))
      {
        if (!*(a1 + 332))
        {
          goto LABEL_143;
        }

        goto LABEL_22;
      }

LABEL_7:
      if (*(a1 + 332))
      {
        v8 = -54;
      }

      else
      {
        v8 = -55;
      }

      goto LABEL_23;
    }
  }

  else
  {
    v10 = 0;
  }

  if (*(a1 + 332))
  {
LABEL_22:
    v8 = -62;
    goto LABEL_23;
  }

  if (!v10)
  {
LABEL_143:
    v8 = -63;
    goto LABEL_23;
  }

  v8 = -64;
LABEL_23:
  result = sub_10039B09C(a1, v8);
  v12 = *(a1 + 324);
  if (!v12)
  {
    goto LABEL_104;
  }

  if (v12 != 1 || *(a1 + 92) <= 2)
  {
    v13 = *a1;
    *(v13 + 40) = 28;
    result = (*v13)(a1);
  }

  v14 = *(a1 + 40);
  v15 = (*v14)++;
  *v15 = -1;
  v16 = *(v14 + 8) - 1;
  *(v14 + 8) = v16;
  if (!v16)
  {
    result = (*(v14 + 24))(a1);
    if (!result)
    {
      v17 = *a1;
      *(v17 + 40) = 25;
      result = (*v17)(a1);
    }
  }

  v18 = *(a1 + 40);
  v19 = (*v18)++;
  *v19 = -8;
  v20 = *(v18 + 8) - 1;
  *(v18 + 8) = v20;
  if (!v20)
  {
    result = (*(v18 + 24))(a1);
    if (!result)
    {
      v21 = *a1;
      *(v21 + 40) = 25;
      result = (*v21)(a1);
    }
  }

  v22 = *(a1 + 40);
  v23 = (*v22)++;
  *v23 = 0;
  v24 = *(v22 + 8) - 1;
  *(v22 + 8) = v24;
  if (!v24)
  {
    result = (*(v22 + 24))(a1);
    if (!result)
    {
      v25 = *a1;
      *(v25 + 40) = 25;
      result = (*v25)(a1);
    }
  }

  v26 = *(a1 + 40);
  v27 = (*v26)++;
  *v27 = 24;
  v28 = *(v26 + 8) - 1;
  *(v26 + 8) = v28;
  if (!v28)
  {
    result = (*(v26 + 24))(a1);
    if (!result)
    {
      v29 = *a1;
      *(v29 + 40) = 25;
      result = (*v29)(a1);
    }
  }

  v30 = *(a1 + 40);
  v31 = (*v30)++;
  *v31 = 13;
  v32 = *(v30 + 8) - 1;
  *(v30 + 8) = v32;
  if (!v32)
  {
    result = (*(v30 + 24))(a1);
    if (!result)
    {
      v33 = *a1;
      *(v33 + 40) = 25;
      result = (*v33)(a1);
    }
  }

  v34 = *(a1 + 40);
  v35 = (*v34)++;
  *v35 = 0;
  v36 = *(v34 + 8) - 1;
  *(v34 + 8) = v36;
  if (!v36)
  {
    result = (*(v34 + 24))(a1);
    if (!result)
    {
      v37 = *a1;
      *(v37 + 40) = 25;
      result = (*v37)(a1);
    }
  }

  v38 = *(a1 + 40);
  v39 = (*v38)++;
  *v39 = -1;
  v40 = *(v38 + 8) - 1;
  *(v38 + 8) = v40;
  if (!v40)
  {
    result = (*(v38 + 24))(a1);
    if (!result)
    {
      v41 = *a1;
      *(v41 + 40) = 25;
      result = (*v41)(a1);
    }
  }

  v42 = *(a1 + 40);
  v43 = (*v42)++;
  *v43 = 3;
  v44 = *(v42 + 8) - 1;
  *(v42 + 8) = v44;
  if (!v44)
  {
    result = (*(v42 + 24))(a1);
    if (!result)
    {
      v45 = *a1;
      *(v45 + 40) = 25;
      result = (*v45)(a1);
    }
  }

  v46 = *(*(a1 + 104) + 96);
  v47 = *(a1 + 40);
  v48 = (*v47)++;
  *v48 = v46;
  v49 = *(v47 + 8) - 1;
  *(v47 + 8) = v49;
  if (!v49)
  {
    result = (*(v47 + 24))(a1);
    if (!result)
    {
      v50 = *a1;
      *(v50 + 40) = 25;
      result = (*v50)(a1);
    }
  }

  v51 = **(a1 + 104);
  v52 = *(a1 + 40);
  v53 = (*v52)++;
  *v53 = v51;
  v54 = *(v52 + 8) - 1;
  *(v52 + 8) = v54;
  if (!v54)
  {
    result = (*(v52 + 24))(a1);
    if (!result)
    {
      v55 = *a1;
      *(v55 + 40) = 25;
      result = (*v55)(a1);
    }
  }

  v56 = *(*(a1 + 104) + 192);
  v57 = *(a1 + 40);
  v58 = (*v57)++;
  *v58 = v56;
  v59 = *(v57 + 8) - 1;
  *(v57 + 8) = v59;
  if (!v59)
  {
    result = (*(v57 + 24))(a1);
    if (!result)
    {
      v60 = *a1;
      *(v60 + 40) = 25;
      result = (*v60)(a1);
    }
  }

  v61 = *(a1 + 40);
  v62 = (*v61)++;
  *v62 = 0x80;
  v63 = *(v61 + 8) - 1;
  *(v61 + 8) = v63;
  if (!v63)
  {
    result = (*(v61 + 24))(a1);
    if (!result)
    {
      v64 = *a1;
      *(v64 + 40) = 25;
      result = (*v64)(a1);
    }
  }

  v65 = *(a1 + 40);
  v66 = (*v65)++;
  *v66 = 0;
  v67 = *(v65 + 8) - 1;
  *(v65 + 8) = v67;
  if (!v67)
  {
    result = (*(v65 + 24))(a1);
    if (!result)
    {
      v68 = *a1;
      *(v68 + 40) = 25;
      result = (*v68)(a1);
    }
  }

  v69 = *(a1 + 40);
  v70 = (*v69)++;
  *v70 = 0;
  v71 = *(v69 + 8) - 1;
  *(v69 + 8) = v71;
  if (!v71)
  {
    result = (*(v69 + 24))(a1);
    if (!result)
    {
      v72 = *a1;
      *(v72 + 40) = 25;
      result = (*v72)(a1);
    }
  }

  v73 = *(a1 + 40);
  v74 = (*v73)++;
  *v74 = 0;
  v75 = *(v73 + 8) - 1;
  *(v73 + 8) = v75;
  if (!v75)
  {
    result = (*(v73 + 24))(a1);
    if (!result)
    {
      v76 = *a1;
      *(v76 + 40) = 25;
      result = (*v76)(a1);
    }
  }

  v77 = *(a1 + 40);
  v78 = (*v77)++;
  *v78 = 0;
  v79 = *(v77 + 8) - 1;
  *(v77 + 8) = v79;
  if (!v79)
  {
    result = (*(v77 + 24))(a1);
    if (!result)
    {
      v80 = *a1;
      *(v80 + 40) = 25;
      result = (*v80)(a1);
    }
  }

  v81 = *(a1 + 40);
  v82 = (*v81)++;
  *v82 = 0;
  v83 = *(v81 + 8) - 1;
  *(v81 + 8) = v83;
  if (!v83)
  {
    result = (*(v81 + 24))(a1);
    if (!result)
    {
      v84 = *a1;
      *(v84 + 40) = 25;
      result = (*v84)(a1);
    }
  }

  v85 = *(a1 + 40);
  v86 = (*v85)++;
  *v86 = 0;
  v87 = *(v85 + 8) - 1;
  *(v85 + 8) = v87;
  if (!v87)
  {
    result = (*(v85 + 24))(a1);
    if (!result)
    {
      v88 = *a1;
      *(v88 + 40) = 25;
      result = (*v88)(a1);
    }
  }

  v89 = *(a1 + 40);
  v90 = (*v89)++;
  *v90 = 1;
  v91 = *(v89 + 8) - 1;
  *(v89 + 8) = v91;
  if (!v91)
  {
    result = (*(v89 + 24))(a1);
    if (!result)
    {
      v92 = *a1;
      *(v92 + 40) = 25;
      result = (*v92)(a1);
    }
  }

  v93 = *(a1 + 40);
  v94 = (*v93)++;
  *v94 = 0;
  v95 = *(v93 + 8) - 1;
  *(v93 + 8) = v95;
  if (!v95)
  {
    result = (*(v93 + 24))(a1);
    if (!result)
    {
      v96 = *a1;
      *(v96 + 40) = 25;
      result = (*v96)(a1);
    }
  }

  v97 = *(a1 + 40);
  v98 = (*v97)++;
  *v98 = 0;
  v99 = *(v97 + 8) - 1;
  *(v97 + 8) = v99;
  if (!v99)
  {
    result = (*(v97 + 24))(a1);
    if (!result)
    {
      v100 = *a1;
      *(v100 + 40) = 25;
      result = (*v100)(a1);
    }
  }

  v101 = *(a1 + 40);
  v102 = (*v101)++;
  *v102 = 0;
  v103 = *(v101 + 8) - 1;
  *(v101 + 8) = v103;
  if (!v103)
  {
    result = (*(v101 + 24))(a1);
    if (!result)
    {
      v104 = *a1;
      *(v104 + 40) = 25;
      result = (*v104)(a1);
    }
  }

  v105 = *(a1 + 40);
  v106 = (*v105)++;
  *v106 = 0;
  v107 = *(v105 + 8) - 1;
  *(v105 + 8) = v107;
  if (!v107)
  {
    result = (*(v105 + 24))(a1);
    if (!result)
    {
      v108 = *a1;
      *(v108 + 40) = 25;
      result = (*v108)(a1);
    }
  }

  v109 = *(a1 + 40);
  v110 = (*v109)++;
  *v110 = 1;
  v111 = *(v109 + 8) - 1;
  *(v109 + 8) = v111;
  if (!v111)
  {
    result = (*(v109 + 24))(a1);
    if (!result)
    {
      v112 = *a1;
      *(v112 + 40) = 25;
      result = (*v112)(a1);
    }
  }

  v113 = *(a1 + 40);
  v114 = (*v113)++;
  *v114 = 0;
  v115 = *(v113 + 8) - 1;
  *(v113 + 8) = v115;
  if (!v115)
  {
    result = (*(v113 + 24))(a1);
    if (!result)
    {
      v116 = *a1;
      *(v116 + 40) = 25;
      result = (*v116)(a1);
    }
  }

  v117 = *(a1 + 40);
  v118 = (*v117)++;
  *v118 = 0;
  v119 = *(v117 + 8) - 1;
  *(v117 + 8) = v119;
  if (v119 || (result = (*(v117 + 24))(a1), result))
  {
LABEL_104:
    if (!*(a1 + 332))
    {
      return result;
    }
  }

  else
  {
    v154 = *a1;
    *(v154 + 40) = 25;
    result = (*v154)(a1);
    if (!*(a1 + 332))
    {
      return result;
    }
  }

  if (*(a1 + 460) != 8)
  {
    v120 = *(a1 + 40);
    v121 = (*v120)++;
    *v121 = -1;
    v122 = *(v120 + 8) - 1;
    *(v120 + 8) = v122;
    if (!v122)
    {
      result = (*(v120 + 24))(a1);
      if (!result)
      {
        v123 = *a1;
        *(v123 + 40) = 25;
        result = (*v123)(a1);
      }
    }

    v124 = *(a1 + 40);
    v125 = (*v124)++;
    *v125 = -38;
    v126 = *(v124 + 8) - 1;
    *(v124 + 8) = v126;
    if (!v126)
    {
      result = (*(v124 + 24))(a1);
      if (!result)
      {
        v127 = *a1;
        *(v127 + 40) = 25;
        result = (*v127)(a1);
      }
    }

    v128 = *(a1 + 40);
    v129 = (*v128)++;
    *v129 = 0;
    v130 = *(v128 + 8) - 1;
    *(v128 + 8) = v130;
    if (!v130)
    {
      result = (*(v128 + 24))(a1);
      if (!result)
      {
        v131 = *a1;
        *(v131 + 40) = 25;
        result = (*v131)(a1);
      }
    }

    v132 = *(a1 + 40);
    v133 = (*v132)++;
    *v133 = 6;
    v134 = *(v132 + 8) - 1;
    *(v132 + 8) = v134;
    if (!v134)
    {
      result = (*(v132 + 24))(a1);
      if (!result)
      {
        v135 = *a1;
        *(v135 + 40) = 25;
        result = (*v135)(a1);
      }
    }

    v136 = *(a1 + 40);
    v137 = (*v136)++;
    *v137 = 0;
    v138 = *(v136 + 8) - 1;
    *(v136 + 8) = v138;
    if (!v138)
    {
      result = (*(v136 + 24))(a1);
      if (!result)
      {
        v139 = *a1;
        *(v139 + 40) = 25;
        result = (*v139)(a1);
      }
    }

    v140 = *(a1 + 40);
    v141 = (*v140)++;
    *v141 = 0;
    v142 = *(v140 + 8) - 1;
    *(v140 + 8) = v142;
    if (!v142)
    {
      result = (*(v140 + 24))(a1);
      if (!result)
      {
        v143 = *a1;
        *(v143 + 40) = 25;
        result = (*v143)(a1);
      }
    }

    v144 = *(a1 + 40);
    v145 = *(a1 + 460) * *(a1 + 460) - 1;
    v146 = (*v144)++;
    *v146 = v145;
    v147 = *(v144 + 8) - 1;
    *(v144 + 8) = v147;
    if (!v147)
    {
      result = (*(v144 + 24))(a1);
      if (!result)
      {
        v148 = *a1;
        *(v148 + 40) = 25;
        result = (*v148)(a1);
      }
    }

    v149 = *(a1 + 40);
    v150 = (*v149)++;
    *v150 = 0;
    v151 = *(v149 + 8) - 1;
    *(v149 + 8) = v151;
    if (!v151)
    {
      result = (*(v149 + 24))(a1);
      if (!result)
      {
        v152 = *a1;
        *(v152 + 40) = 25;
        v153 = *v152;

        return v153(a1);
      }
    }
  }

  return result;
}

uint64_t *sub_100399BF4(uint64_t *result)
{
  v1 = result;
  v2 = result[64];
  if (!*(result + 289))
  {
    if (*(result + 89) < 1)
    {
      goto LABEL_73;
    }

    v6 = 45;
    while (1)
    {
      v8 = v1[v6];
      if (!*(v1 + 111) && !*(v1 + 113))
      {
        break;
      }

      if (*(v1 + 112))
      {
        goto LABEL_13;
      }

LABEL_9:
      v7 = v6 - 44;
      ++v6;
      if (v7 >= *(v1 + 89))
      {
        goto LABEL_73;
      }
    }

    result = sub_10039B548(v1, *(v8 + 20), 0);
    if (!*(v1 + 112))
    {
      goto LABEL_9;
    }

LABEL_13:
    result = sub_10039B548(v1, *(v8 + 24), 1);
    goto LABEL_9;
  }

  v150 = 0uLL;
  v151 = 0uLL;
  v3 = *(result + 89);
  if (v3 < 1)
  {
    goto LABEL_43;
  }

  v4 = *(result + 112);
  if (!*(result + 111))
  {
    if (*(result + 113))
    {
      if (!v4)
      {
        goto LABEL_43;
      }

      if (v3 == 1)
      {
        v9 = 0;
      }

      else
      {
        v9 = v3 & 0x7FFFFFFE;
        v19 = result + 46;
        v20 = v9;
        do
        {
          v21 = *(*v19 + 24);
          v150.i8[*(*(v19 - 1) + 24)] = 1;
          v150.i8[v21] = 1;
          v19 += 2;
          v20 -= 2;
        }

        while (v20);
        if (v9 == v3)
        {
          goto LABEL_43;
        }
      }

      v22 = v3 - v9;
      v23 = &result[v9 + 45];
      do
      {
        v24 = *v23++;
        v150.i8[*(v24 + 24)] = 1;
        --v22;
      }

      while (v22);
      goto LABEL_43;
    }

    if (v4)
    {
      v16 = result + 45;
      do
      {
        v17 = *v16++;
        v18 = *(v17 + 24);
        v151.i8[*(v17 + 20)] = 1;
        v150.i8[v18] = 1;
        --v3;
      }

      while (v3);
      goto LABEL_43;
    }

    if (v3 == 1)
    {
      v25 = 0;
    }

    else
    {
      v25 = v3 & 0x7FFFFFFE;
      v26 = result + 46;
      v27 = v25;
      do
      {
        v28 = *(*v26 + 20);
        v151.i8[*(*(v26 - 1) + 20)] = 1;
        v151.i8[v28] = 1;
        v26 += 2;
        v27 -= 2;
      }

      while (v27);
      if (v25 == v3)
      {
        goto LABEL_43;
      }
    }

    v29 = v3 - v25;
    v30 = &result[v25 + 45];
    do
    {
      v31 = *v30++;
      v151.i8[*(v31 + 20)] = 1;
      --v29;
    }

    while (v29);
    goto LABEL_43;
  }

  if (!v4)
  {
    goto LABEL_43;
  }

  if (v3 == 1)
  {
    v5 = 0;
LABEL_23:
    v13 = v3 - v5;
    v14 = &result[v5 + 45];
    do
    {
      v15 = *v14++;
      v150.i8[*(v15 + 24)] = 1;
      --v13;
    }

    while (v13);
    goto LABEL_43;
  }

  v5 = v3 & 0x7FFFFFFE;
  v10 = result + 46;
  v11 = v5;
  do
  {
    v12 = *(*v10 + 24);
    v150.i8[*(*(v10 - 1) + 24)] = 1;
    v150.i8[v12] = 1;
    v10 += 2;
    v11 -= 2;
  }

  while (v11);
  if (v5 != v3)
  {
    goto LABEL_23;
  }

LABEL_43:
  v32 = vmovl_s8(*v151.i8);
  v33 = vmovl_s8(*v150.i8);
  v34 = vmovl_high_s8(v151);
  v35 = vmovl_high_s8(v150);
  v36 = vaddvq_s32(vaddq_s32(vaddq_s32(vaddl_s16(*v33.i8, *v32.i8), vaddl_s16(*v35.i8, *v34.i8)), vaddq_s32(vaddl_high_s16(v33, v32), vaddl_high_s16(v35, v34))));
  if (v36)
  {
    v37 = result[5];
    v38 = (*v37)++;
    *v38 = -1;
    v39 = *(v37 + 8) - 1;
    *(v37 + 8) = v39;
    if (!v39)
    {
      result = (*(v37 + 24))(result);
      if (!result)
      {
        v40 = *v1;
        *(v40 + 40) = 25;
        result = (*v40)(v1);
      }
    }

    v41 = v1[5];
    v42 = (*v41)++;
    *v42 = -52;
    v43 = *(v41 + 8) - 1;
    *(v41 + 8) = v43;
    if (!v43)
    {
      result = (*(v41 + 24))(v1);
      if (!result)
      {
        v44 = *v1;
        *(v44 + 40) = 25;
        result = (*v44)(v1);
      }
    }

    v45 = 2 * v36 + 2;
    v46 = v1[5];
    v47 = (*v46)++;
    *v47 = HIBYTE(v45);
    v48 = *(v46 + 8) - 1;
    *(v46 + 8) = v48;
    if (!v48)
    {
      result = (*(v46 + 24))(v1);
      if (!result)
      {
        v49 = *v1;
        *(v49 + 40) = 25;
        result = (*v49)(v1);
      }
    }

    v50 = v1[5];
    v51 = (*v50)++;
    *v51 = v45;
    v52 = *(v50 + 8) - 1;
    *(v50 + 8) = v52;
    if (!v52)
    {
      result = (*(v50 + 24))(v1);
      if (!result)
      {
        v53 = *v1;
        *(v53 + 40) = 25;
        result = (*v53)(v1);
      }
    }

    for (i = 0; i != 16; ++i)
    {
      if (!v151.i8[i])
      {
        goto LABEL_137;
      }

      v55 = v1[5];
      v56 = (*v55)++;
      *v56 = i;
      v57 = *(v55 + 8) - 1;
      *(v55 + 8) = v57;
      if (!v57)
      {
        result = (*(v55 + 24))(v1);
        if (!result)
        {
          v58 = *v1;
          *(v58 + 40) = 25;
          result = (*v58)(v1);
        }
      }

      v59 = *(v1 + i + 224) + 16 * *(v1 + i + 240);
      v60 = v1[5];
      v61 = (*v60)++;
      *v61 = v59;
      v62 = *(v60 + 8) - 1;
      *(v60 + 8) = v62;
      if (v62 || (result = (*(v60 + 24))(v1), result))
      {
LABEL_137:
        if (v150.i8[i])
        {
          goto LABEL_65;
        }
      }

      else
      {
        v72 = *v1;
        *(v72 + 40) = 25;
        result = (*v72)(v1);
        if (v150.i8[i])
        {
LABEL_65:
          v63 = v1[5];
          v64 = (*v63)++;
          *v64 = i | 0x10;
          v65 = *(v63 + 8) - 1;
          *(v63 + 8) = v65;
          if (!v65)
          {
            result = (*(v63 + 24))(v1);
            if (!result)
            {
              v66 = *v1;
              *(v66 + 40) = 25;
              result = (*v66)(v1);
            }
          }

          v67 = *(v1 + i + 256);
          v68 = v1[5];
          v69 = (*v68)++;
          *v69 = v67;
          v70 = *(v68 + 8) - 1;
          *(v68 + 8) = v70;
          if (!v70)
          {
            result = (*(v68 + 24))(v1);
            if (!result)
            {
              v71 = *v1;
              *(v71 + 40) = 25;
              result = (*v71)(v1);
            }
          }
        }
      }
    }
  }

LABEL_73:
  if (*(v1 + 76) != *(v2 + 56))
  {
    v73 = v1[5];
    v74 = (*v73)++;
    *v74 = -1;
    v75 = *(v73 + 8) - 1;
    *(v73 + 8) = v75;
    if (!v75)
    {
      result = (*(v73 + 24))(v1);
      if (!result)
      {
        v76 = *v1;
        *(v76 + 40) = 25;
        result = (*v76)(v1);
      }
    }

    v77 = v1[5];
    v78 = (*v77)++;
    *v78 = -35;
    v79 = *(v77 + 8) - 1;
    *(v77 + 8) = v79;
    if (!v79)
    {
      result = (*(v77 + 24))(v1);
      if (!result)
      {
        v80 = *v1;
        *(v80 + 40) = 25;
        result = (*v80)(v1);
      }
    }

    v81 = v1[5];
    v82 = (*v81)++;
    *v82 = 0;
    v83 = *(v81 + 8) - 1;
    *(v81 + 8) = v83;
    if (!v83)
    {
      result = (*(v81 + 24))(v1);
      if (!result)
      {
        v84 = *v1;
        *(v84 + 40) = 25;
        result = (*v84)(v1);
      }
    }

    v85 = v1[5];
    v86 = (*v85)++;
    *v86 = 4;
    v87 = *(v85 + 8) - 1;
    *(v85 + 8) = v87;
    if (!v87)
    {
      result = (*(v85 + 24))(v1);
      if (!result)
      {
        v88 = *v1;
        *(v88 + 40) = 25;
        result = (*v88)(v1);
      }
    }

    v89 = *(v1 + 76);
    v90 = v1[5];
    v91 = (*v90)++;
    *v91 = BYTE1(v89);
    v92 = *(v90 + 8) - 1;
    *(v90 + 8) = v92;
    if (!v92)
    {
      result = (*(v90 + 24))(v1);
      if (!result)
      {
        v93 = *v1;
        *(v93 + 40) = 25;
        result = (*v93)(v1);
      }
    }

    v94 = v1[5];
    v95 = (*v94)++;
    *v95 = v89;
    v96 = *(v94 + 8) - 1;
    *(v94 + 8) = v96;
    if (!v96)
    {
      result = (*(v94 + 24))(v1);
      if (!result)
      {
        v97 = *v1;
        *(v97 + 40) = 25;
        result = (*v97)(v1);
      }
    }

    *(v2 + 56) = *(v1 + 76);
  }

  v98 = v1[5];
  v99 = (*v98)++;
  *v99 = -1;
  v100 = *(v98 + 8) - 1;
  *(v98 + 8) = v100;
  if (!v100)
  {
    result = (*(v98 + 24))(v1);
    if (!result)
    {
      v101 = *v1;
      *(v101 + 40) = 25;
      result = (*v101)(v1);
    }
  }

  v102 = v1[5];
  v103 = (*v102)++;
  *v103 = -38;
  v104 = *(v102 + 8) - 1;
  *(v102 + 8) = v104;
  if (!v104)
  {
    result = (*(v102 + 24))(v1);
    if (!result)
    {
      v105 = *v1;
      *(v105 + 40) = 25;
      result = (*v105)(v1);
    }
  }

  v106 = 2 * *(v1 + 89) + 6;
  v107 = v1[5];
  v108 = (*v107)++;
  *v108 = BYTE1(v106);
  v109 = *(v107 + 8) - 1;
  *(v107 + 8) = v109;
  if (!v109)
  {
    result = (*(v107 + 24))(v1);
    if (!result)
    {
      v110 = *v1;
      *(v110 + 40) = 25;
      result = (*v110)(v1);
    }
  }

  v111 = v1[5];
  v112 = (*v111)++;
  *v112 = v106;
  v113 = *(v111 + 8) - 1;
  *(v111 + 8) = v113;
  if (!v113)
  {
    result = (*(v111 + 24))(v1);
    if (!result)
    {
      v114 = *v1;
      *(v114 + 40) = 25;
      result = (*v114)(v1);
    }
  }

  v115 = *(v1 + 89);
  v116 = v1[5];
  v117 = (*v116)++;
  *v117 = v115;
  v118 = *(v116 + 8) - 1;
  *(v116 + 8) = v118;
  if (!v118)
  {
    result = (*(v116 + 24))(v1);
    if (!result)
    {
      v119 = *v1;
      *(v119 + 40) = 25;
      result = (*v119)(v1);
    }
  }

  if (*(v1 + 89) >= 1)
  {
    for (j = 0; j < *(v1 + 89); ++j)
    {
      v121 = v1[j + 45];
      v122 = *v121;
      v123 = v1[5];
      v124 = (*v123)++;
      *v124 = v122;
      v125 = *(v123 + 8) - 1;
      *(v123 + 8) = v125;
      if (v125 || (result = (*(v123 + 24))(v1), result))
      {
        if (*(v1 + 111))
        {
          goto LABEL_118;
        }
      }

      else
      {
        v128 = *v1;
        *(v128 + 40) = 25;
        result = (*v128)(v1);
        if (*(v1 + 111))
        {
LABEL_118:
          LOBYTE(v126) = 0;
          v127 = *(v1 + 112);
          if (!v127)
          {
            goto LABEL_120;
          }

LABEL_119:
          v127 = v121[6];
          goto LABEL_120;
        }
      }

      if (*(v1 + 113))
      {
        goto LABEL_118;
      }

      v126 = 16 * v121[5];
      v127 = *(v1 + 112);
      if (v127)
      {
        goto LABEL_119;
      }

LABEL_120:
      v129 = v127 + v126;
      v130 = v1[5];
      v131 = (*v130)++;
      *v131 = v129;
      v132 = *(v130 + 8) - 1;
      *(v130 + 8) = v132;
      if (!v132)
      {
        result = (*(v130 + 24))(v1);
        if (!result)
        {
          v133 = *v1;
          *(v133 + 40) = 25;
          result = (*v133)(v1);
        }
      }
    }
  }

  v134 = *(v1 + 111);
  v135 = v1[5];
  v136 = (*v135)++;
  *v136 = v134;
  v137 = *(v135 + 8) - 1;
  *(v135 + 8) = v137;
  if (!v137)
  {
    result = (*(v135 + 24))(v1);
    if (!result)
    {
      v138 = *v1;
      *(v138 + 40) = 25;
      result = (*v138)(v1);
    }
  }

  v139 = *(v1 + 112);
  v140 = v1[5];
  v141 = (*v140)++;
  *v141 = v139;
  v142 = *(v140 + 8) - 1;
  *(v140 + 8) = v142;
  if (!v142)
  {
    result = (*(v140 + 24))(v1);
    if (!result)
    {
      v143 = *v1;
      *(v143 + 40) = 25;
      result = (*v143)(v1);
    }
  }

  v144 = *(v1 + 114) + 16 * *(v1 + 452);
  v145 = v1[5];
  v146 = (*v145)++;
  *v146 = v144;
  v147 = *(v145 + 8) - 1;
  *(v145 + 8) = v147;
  if (!v147)
  {
    result = (*(v145 + 24))(v1);
    if (!result)
    {
      v148 = *v1;
      *(v148 + 40) = 25;
      v149 = *v148;

      return v149(v1);
    }
  }

  return result;
}

uint64_t sub_10039A760(uint64_t result)
{
  v1 = result;
  v2 = *(result + 40);
  v3 = (*v2)++;
  *v3 = -1;
  v4 = *(v2 + 8) - 1;
  *(v2 + 8) = v4;
  if (!v4)
  {
    result = (*(v2 + 24))(result);
    if (!result)
    {
      v5 = *v1;
      *(v5 + 40) = 25;
      result = (*v5)(v1);
    }
  }

  v6 = v1[5];
  v7 = (*v6)++;
  *v7 = -39;
  v8 = *(v6 + 8) - 1;
  *(v6 + 8) = v8;
  if (!v8)
  {
    result = (*(v6 + 24))(v1);
    if (!result)
    {
      v9 = *v1;
      *(v9 + 40) = 25;
      v10 = *v9;

      return v10(v1);
    }
  }

  return result;
}

uint64_t sub_10039A838(uint64_t result)
{
  v1 = result;
  v2 = *(result + 40);
  v3 = (*v2)++;
  *v3 = -1;
  v4 = *(v2 + 8) - 1;
  *(v2 + 8) = v4;
  if (!v4)
  {
    result = (*(v2 + 24))(result);
    if (!result)
    {
      v5 = *v1;
      *(v5 + 40) = 25;
      result = (*v5)(v1);
    }
  }

  v6 = *(v1 + 40);
  v7 = (*v6)++;
  *v7 = -40;
  v8 = *(v6 + 8) - 1;
  *(v6 + 8) = v8;
  if (!v8)
  {
    result = (*(v6 + 24))(v1);
    if (!result)
    {
      v9 = *v1;
      *(v9 + 40) = 25;
      result = (*v9)(v1);
    }
  }

  if (*(v1 + 112))
  {
    result = sub_10039ACF4(v1, 0);
  }

  if (*(v1 + 120))
  {
    result = sub_10039ACF4(v1, 1);
  }

  if (*(v1 + 128))
  {
    result = sub_10039ACF4(v1, 2);
  }

  if (*(v1 + 136))
  {
    result = sub_10039ACF4(v1, 3);
  }

  if (!*(v1 + 289))
  {
    if (*(v1 + 160))
    {
      result = sub_10039B548(v1, 0, 0);
    }

    if (*(v1 + 192))
    {
      result = sub_10039B548(v1, 0, 1);
    }

    if (*(v1 + 168))
    {
      result = sub_10039B548(v1, 1, 0);
    }

    if (*(v1 + 200))
    {
      result = sub_10039B548(v1, 1, 1);
    }

    if (*(v1 + 176))
    {
      result = sub_10039B548(v1, 2, 0);
    }

    if (*(v1 + 208))
    {
      result = sub_10039B548(v1, 2, 1);
    }

    if (*(v1 + 184))
    {
      result = sub_10039B548(v1, 3, 0);
    }

    if (*(v1 + 216))
    {
      result = sub_10039B548(v1, 3, 1);
    }
  }

  v10 = *(v1 + 40);
  v11 = (*v10)++;
  *v11 = -1;
  v12 = *(v10 + 8) - 1;
  *(v10 + 8) = v12;
  if (!v12)
  {
    result = (*(v10 + 24))(v1);
    if (!result)
    {
      v13 = *v1;
      *(v13 + 40) = 25;
      result = (*v13)(v1);
    }
  }

  v14 = *(v1 + 40);
  v15 = (*v14)++;
  *v15 = -39;
  v16 = *(v14 + 8) - 1;
  *(v14 + 8) = v16;
  if (!v16)
  {
    result = (*(v14 + 24))(v1);
    if (!result)
    {
      v17 = *v1;
      *(v17 + 40) = 25;
      v18 = *v17;

      return v18(v1);
    }
  }

  return result;
}

uint64_t *sub_10039AAC8(uint64_t *result, char a2, unsigned int a3)
{
  v3 = a3;
  v5 = result;
  if (a3 >= 0xFFFE)
  {
    v6 = *result;
    *(v6 + 40) = 12;
    result = (*v6)(result);
  }

  v7 = v5[5];
  v8 = (*v7)++;
  *v8 = -1;
  v9 = *(v7 + 8) - 1;
  *(v7 + 8) = v9;
  if (!v9)
  {
    result = (*(v7 + 24))(v5);
    if (!result)
    {
      v10 = *v5;
      *(v10 + 40) = 25;
      result = (*v10)(v5);
    }
  }

  v11 = v5[5];
  v12 = (*v11)++;
  *v12 = a2;
  v13 = *(v11 + 8) - 1;
  *(v11 + 8) = v13;
  if (!v13)
  {
    result = (*(v11 + 24))(v5);
    if (!result)
    {
      v14 = *v5;
      *(v14 + 40) = 25;
      result = (*v14)(v5);
    }
  }

  v15 = v3 + 2;
  v16 = v5[5];
  v17 = (*v16)++;
  *v17 = HIBYTE(v15);
  v18 = *(v16 + 8) - 1;
  *(v16 + 8) = v18;
  if (!v18)
  {
    result = (*(v16 + 24))(v5);
    if (!result)
    {
      v19 = *v5;
      *(v19 + 40) = 25;
      result = (*v19)(v5);
    }
  }

  v20 = v5[5];
  v21 = (*v20)++;
  *v21 = v15;
  v22 = *(v20 + 8) - 1;
  *(v20 + 8) = v22;
  if (!v22)
  {
    result = (*(v20 + 24))(v5);
    if (!result)
    {
      v23 = *v5;
      *(v23 + 40) = 25;
      v24 = *v23;

      return v24(v5);
    }
  }

  return result;
}

uint64_t sub_10039AC74(uint64_t result, char a2)
{
  v2 = *(result + 40);
  v3 = (*v2)++;
  *v3 = a2;
  v4 = *(v2 + 8) - 1;
  *(v2 + 8) = v4;
  if (!v4)
  {
    v5 = result;
    result = (*(v2 + 24))();
    if (!result)
    {
      v6 = *v5;
      *(v6 + 40) = 25;
      v7 = *v6;

      return v7(v5);
    }
  }

  return result;
}

uint64_t sub_10039ACF4(uint64_t a1, int a2)
{
  v2 = a2;
  v4 = *(a1 + 8 * a2 + 112);
  if (v4)
  {
    v5 = *(a1 + 472);
    if ((v5 & 0x80000000) == 0)
    {
LABEL_3:
      LODWORD(v6) = 0;
      v7 = *(a1 + 464);
      v8 = v5 + 1;
      do
      {
        v9 = *v7++;
        if (*(v4 + 2 * v9) > 0xFFu)
        {
          v6 = 1;
        }

        else
        {
          v6 = v6;
        }

        --v8;
      }

      while (v8);
      if (*(v4 + 128))
      {
        return v6;
      }

      goto LABEL_12;
    }
  }

  else
  {
    v11 = *a1;
    *(v11 + 10) = 54;
    *(v11 + 11) = a2;
    (**a1)(a1);
    v5 = *(a1 + 472);
    if ((v5 & 0x80000000) == 0)
    {
      goto LABEL_3;
    }
  }

  v6 = 0;
  if (*(v4 + 128))
  {
    return v6;
  }

LABEL_12:
  v12 = *(a1 + 40);
  v13 = (*v12)++;
  *v13 = -1;
  v14 = *(v12 + 8) - 1;
  *(v12 + 8) = v14;
  if (!v14 && !(*(v12 + 24))(a1))
  {
    v15 = *a1;
    *(v15 + 10) = 25;
    (*v15)(a1);
  }

  v16 = *(a1 + 40);
  v17 = (*v16)++;
  *v17 = -37;
  v18 = *(v16 + 8) - 1;
  *(v16 + 8) = v18;
  if (!v18 && !(*(v16 + 24))(a1))
  {
    v19 = *a1;
    *(v19 + 10) = 25;
    (*v19)(a1);
  }

  v20 = *(a1 + 472);
  v21 = 2 * v20 + 5;
  v22 = v20 + 4;
  if (v6)
  {
    v23 = v21;
  }

  else
  {
    v23 = v22;
  }

  v24 = *(a1 + 40);
  v25 = (*v24)++;
  *v25 = HIBYTE(v23);
  v26 = *(v24 + 8) - 1;
  *(v24 + 8) = v26;
  if (!v26 && !(*(v24 + 24))(a1))
  {
    v27 = *a1;
    *(v27 + 10) = 25;
    (*v27)(a1);
  }

  v28 = *(a1 + 40);
  v29 = (*v28)++;
  *v29 = v23;
  v30 = *(v28 + 8) - 1;
  *(v28 + 8) = v30;
  if (!v30 && !(*(v28 + 24))(a1))
  {
    v31 = *a1;
    *(v31 + 10) = 25;
    (*v31)(a1);
  }

  v32 = *(a1 + 40);
  v33 = (*v32)++;
  *v33 = v2 + 16 * v6;
  v34 = *(v32 + 8) - 1;
  *(v32 + 8) = v34;
  if (!v34 && !(*(v32 + 24))(a1))
  {
    v35 = *a1;
    *(v35 + 10) = 25;
    (*v35)(a1);
  }

  if ((*(a1 + 472) & 0x80000000) == 0)
  {
    v36 = 0;
    if (v6)
    {
      do
      {
        v38 = *(v4 + 2 * *(*(a1 + 464) + 4 * v36));
        v39 = *(a1 + 40);
        v40 = (*v39)++;
        *v40 = HIBYTE(v38);
        v41 = *(v39 + 8) - 1;
        *(v39 + 8) = v41;
        if (!v41 && !(*(v39 + 24))(a1))
        {
          v42 = *a1;
          *(v42 + 10) = 25;
          (*v42)(a1);
        }

        v43 = *(a1 + 40);
        v44 = (*v43)++;
        *v44 = v38;
        v45 = *(v43 + 8) - 1;
        *(v43 + 8) = v45;
        if (!v45 && !(*(v43 + 24))(a1))
        {
          v46 = *a1;
          *(v46 + 10) = 25;
          (*v46)(a1);
        }

        v37 = v36++ < *(a1 + 472);
      }

      while (v37);
    }

    else
    {
      do
      {
        v47 = *(v4 + 2 * *(*(a1 + 464) + 4 * v36));
        v48 = *(a1 + 40);
        v49 = (*v48)++;
        *v49 = v47;
        v50 = *(v48 + 8) - 1;
        *(v48 + 8) = v50;
        if (!v50 && !(*(v48 + 24))(a1))
        {
          v51 = *a1;
          *(v51 + 10) = 25;
          (*v51)(a1);
        }

        v37 = v36++ < *(a1 + 472);
      }

      while (v37);
    }
  }

  *(v4 + 128) = 1;
  return v6;
}

uint64_t sub_10039B09C(uint64_t result, char a2)
{
  v3 = result;
  v4 = *(result + 40);
  v5 = (*v4)++;
  *v5 = -1;
  v6 = *(v4 + 8) - 1;
  *(v4 + 8) = v6;
  if (!v6)
  {
    result = (*(v4 + 24))(result);
    if (!result)
    {
      v7 = *v3;
      *(v7 + 40) = 25;
      result = (*v7)(v3);
    }
  }

  v8 = *(v3 + 40);
  v9 = (*v8)++;
  *v9 = a2;
  v10 = *(v8 + 8) - 1;
  *(v8 + 8) = v10;
  if (!v10)
  {
    result = (*(v8 + 24))(v3);
    if (!result)
    {
      v11 = *v3;
      *(v11 + 40) = 25;
      result = (*v11)(v3);
    }
  }

  v12 = 3 * *(v3 + 92) + 8;
  v13 = *(v3 + 40);
  v14 = (*v13)++;
  *v14 = BYTE1(v12);
  v15 = *(v13 + 8) - 1;
  *(v13 + 8) = v15;
  if (!v15)
  {
    result = (*(v13 + 24))(v3);
    if (!result)
    {
      v16 = *v3;
      *(v16 + 40) = 25;
      result = (*v16)(v3);
    }
  }

  v17 = *(v3 + 40);
  v18 = (*v17)++;
  *v18 = v12;
  v19 = *(v17 + 8) - 1;
  *(v17 + 8) = v19;
  if (v19 || (result = (*(v17 + 24))(v3), result))
  {
    if (!*(v3 + 86))
    {
      goto LABEL_13;
    }
  }

  else
  {
    v20 = *v3;
    *(v20 + 40) = 25;
    result = (*v20)(v3);
    if (!*(v3 + 86))
    {
LABEL_13:
      if (*(v3 + 80) < 0x10000u)
      {
        goto LABEL_17;
      }
    }
  }

  *(*v3 + 40) = 0xFFFF0000002ALL;
  result = (**v3)(v3);
LABEL_17:
  v21 = *(v3 + 88);
  v22 = *(v3 + 40);
  v23 = (*v22)++;
  *v23 = v21;
  v24 = *(v22 + 8) - 1;
  *(v22 + 8) = v24;
  if (!v24)
  {
    result = (*(v22 + 24))(v3);
    if (!result)
    {
      v25 = *v3;
      *(v25 + 40) = 25;
      result = (*v25)(v3);
    }
  }

  v26 = *(v3 + 84);
  v27 = *(v3 + 40);
  v28 = (*v27)++;
  *v28 = BYTE1(v26);
  v29 = *(v27 + 8) - 1;
  *(v27 + 8) = v29;
  if (!v29)
  {
    result = (*(v27 + 24))(v3);
    if (!result)
    {
      v30 = *v3;
      *(v30 + 40) = 25;
      result = (*v30)(v3);
    }
  }

  v31 = *(v3 + 40);
  v32 = (*v31)++;
  *v32 = v26;
  v33 = *(v31 + 8) - 1;
  *(v31 + 8) = v33;
  if (!v33)
  {
    result = (*(v31 + 24))(v3);
    if (!result)
    {
      v34 = *v3;
      *(v34 + 40) = 25;
      result = (*v34)(v3);
    }
  }

  v35 = *(v3 + 80);
  v36 = *(v3 + 40);
  v37 = (*v36)++;
  *v37 = BYTE1(v35);
  v38 = *(v36 + 8) - 1;
  *(v36 + 8) = v38;
  if (!v38)
  {
    result = (*(v36 + 24))(v3);
    if (!result)
    {
      v39 = *v3;
      *(v39 + 40) = 25;
      result = (*v39)(v3);
    }
  }

  v40 = *(v3 + 40);
  v41 = (*v40)++;
  *v41 = v35;
  v42 = *(v40 + 8) - 1;
  *(v40 + 8) = v42;
  if (!v42)
  {
    result = (*(v40 + 24))(v3);
    if (!result)
    {
      v43 = *v3;
      *(v43 + 40) = 25;
      result = (*v43)(v3);
    }
  }

  v44 = *(v3 + 92);
  v45 = *(v3 + 40);
  v46 = (*v45)++;
  *v46 = v44;
  v47 = *(v45 + 8) - 1;
  *(v45 + 8) = v47;
  if (!v47)
  {
    result = (*(v45 + 24))(v3);
    if (!result)
    {
      v48 = *v3;
      *(v48 + 40) = 25;
      result = (*v48)(v3);
    }
  }

  if (*(v3 + 92) >= 1)
  {
    v49 = 0;
    v50 = *(v3 + 104);
    do
    {
      v51 = *v50;
      v52 = *(v3 + 40);
      v53 = (*v52)++;
      *v53 = v51;
      v54 = *(v52 + 8) - 1;
      *(v52 + 8) = v54;
      if (!v54)
      {
        result = (*(v52 + 24))(v3);
        if (!result)
        {
          v55 = *v3;
          *(v55 + 40) = 25;
          result = (*v55)(v3);
        }
      }

      v56 = *(v50 + 12) + 16 * *(v50 + 8);
      v57 = *(v3 + 40);
      v58 = (*v57)++;
      *v58 = v56;
      v59 = *(v57 + 8) - 1;
      *(v57 + 8) = v59;
      if (!v59)
      {
        result = (*(v57 + 24))(v3);
        if (!result)
        {
          v60 = *v3;
          *(v60 + 40) = 25;
          result = (*v60)(v3);
        }
      }

      v61 = *(v50 + 16);
      v62 = *(v3 + 40);
      v63 = (*v62)++;
      *v63 = v61;
      v64 = *(v62 + 8) - 1;
      *(v62 + 8) = v64;
      if (!v64)
      {
        result = (*(v62 + 24))(v3);
        if (!result)
        {
          v65 = *v3;
          *(v65 + 40) = 25;
          result = (*v65)(v3);
        }
      }

      ++v49;
      v50 += 96;
    }

    while (v49 < *(v3 + 92));
  }

  return result;
}

uint64_t *sub_10039B548(uint64_t *result, int a2, int a3)
{
  v3 = result;
  v4 = result + 24;
  if (a3)
  {
    v5 = a2 + 16;
  }

  else
  {
    v5 = a2;
  }

  if (!a3)
  {
    v4 = result + 20;
  }

  v6 = v4[a2];
  if (v6)
  {
    if (*(v6 + 273))
    {
      return result;
    }
  }

  else
  {
    v7 = *result;
    *(v7 + 10) = 52;
    *(v7 + 11) = v5;
    result = (**result)(result);
    if (MEMORY[0x111])
    {
      return result;
    }
  }

  v8 = v3[5];
  v9 = (*v8)++;
  *v9 = -1;
  v10 = *(v8 + 8) - 1;
  *(v8 + 8) = v10;
  if (!v10)
  {
    result = (*(v8 + 24))(v3);
    if (!result)
    {
      v11 = *v3;
      *(v11 + 40) = 25;
      result = (*v11)(v3);
    }
  }

  v12 = v3[5];
  v13 = (*v12)++;
  *v13 = -60;
  v14 = *(v12 + 8) - 1;
  *(v12 + 8) = v14;
  if (!v14)
  {
    result = (*(v12 + 24))(v3);
    if (!result)
    {
      v15 = *v3;
      *(v15 + 40) = 25;
      result = (*v15)(v3);
    }
  }

  v16 = *(v6 + 1);
  v17 = vmovl_high_u8(v16);
  v18 = vmovl_u8(*v16.i8);
  v18.i32[0] = vaddvq_s32(vaddq_s32(vaddl_u16(*v18.i8, *v17.i8), vaddl_high_u16(v18, v17)));
  v19 = v18.u32[0];
  v20 = v18.i8[0] + 19;
  v21 = v3[5];
  v22 = (*v21)++;
  *v22 = (v18.i16[0] + 19) >> 8;
  v23 = *(v21 + 8) - 1;
  *(v21 + 8) = v23;
  if (!v23)
  {
    result = (*(v21 + 24))(v3);
    if (!result)
    {
      v24 = *v3;
      *(v24 + 40) = 25;
      result = (*v24)(v3);
    }
  }

  v25 = v3[5];
  v26 = (*v25)++;
  *v26 = v20;
  v27 = *(v25 + 8) - 1;
  *(v25 + 8) = v27;
  if (!v27)
  {
    result = (*(v25 + 24))(v3);
    if (!result)
    {
      v28 = *v3;
      *(v28 + 40) = 25;
      result = (*v28)(v3);
    }
  }

  v29 = v3[5];
  v30 = (*v29)++;
  *v30 = v5;
  v31 = *(v29 + 8) - 1;
  *(v29 + 8) = v31;
  if (!v31)
  {
    result = (*(v29 + 24))(v3);
    if (!result)
    {
      v32 = *v3;
      *(v32 + 40) = 25;
      result = (*v32)(v3);
    }
  }

  for (i = 0; i != 16; ++i)
  {
    v34 = *(v6 + 1 + i);
    v35 = v3[5];
    v36 = (*v35)++;
    *v36 = v34;
    v37 = *(v35 + 8) - 1;
    *(v35 + 8) = v37;
    if (!v37)
    {
      result = (*(v35 + 24))(v3);
      if (!result)
      {
        v38 = *v3;
        *(v38 + 40) = 25;
        result = (*v38)(v3);
      }
    }
  }

  if (v19)
  {
    for (j = 0; j < v19; ++j)
    {
      v40 = *(v6 + 17 + j);
      v41 = v3[5];
      v42 = (*v41)++;
      *v42 = v40;
      v43 = *(v41 + 8) - 1;
      *(v41 + 8) = v43;
      if (!v43)
      {
        result = (*(v41 + 24))(v3);
        if (!result)
        {
          v44 = *v3;
          *(v44 + 40) = 25;
          result = (*v44)(v3);
        }
      }
    }
  }

  *(v6 + 273) = 1;
  return result;
}

double sub_10039B868(int32x2_t *a1)
{
  if (a1[6].i8[3] || a1[6].i8[7])
  {
    *(*a1 + 40) = 0xFFDC0000002ALL;
    (**a1)(a1);
  }

  v2 = a1[9].u32[0];
  v3 = a1[57].i32[1];
  v4 = v3 * a1[9].i32[1];
  if (v2 >= v4)
  {
    a1[10] = vmul_s32(a1[6], vdup_n_s32(v3));
    *&result = 0x100000001;
    a1[43] = 0x100000001;
  }

  else if (v4 <= 2 * v2)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 2);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 2);
    *&result = 0x200000002;
    a1[43] = 0x200000002;
  }

  else if (3 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 3);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 3);
    *&result = 0x300000003;
    a1[43] = 0x300000003;
  }

  else if (v4 <= 4 * v2)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 4);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 4);
    *&result = 0x400000004;
    a1[43] = 0x400000004;
  }

  else if (5 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 5);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 5);
    *&result = 0x500000005;
    a1[43] = 0x500000005;
  }

  else if (6 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 6);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 6);
    *&result = 0x600000006;
    a1[43] = 0x600000006;
  }

  else if (7 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 7);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 7);
    *&result = 0x700000007;
    a1[43] = 0x700000007;
  }

  else if (v4 <= 8 * v2)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 8);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 8);
    *&result = 0x800000008;
    a1[43] = 0x800000008;
  }

  else if (9 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 9);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 9);
    *&result = 0x900000009;
    a1[43] = 0x900000009;
  }

  else if (10 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 10);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 10);
    *&result = 0xA0000000ALL;
    a1[43] = 0xA0000000ALL;
  }

  else if (11 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 11);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 11);
    *&result = 0xB0000000BLL;
    a1[43] = 0xB0000000BLL;
  }

  else if (12 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 12);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 12);
    *&result = 0xC0000000CLL;
    a1[43] = 0xC0000000CLL;
  }

  else if (13 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 13);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 13);
    *&result = 0xD0000000DLL;
    a1[43] = 0xD0000000DLL;
  }

  else if (14 * v2 >= v4)
  {
    a1[10].i32[0] = sub_1003C82AC(a1[6].u32[0] * v3, 14);
    a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 14);
    *&result = 0xE0000000ELL;
    a1[43] = 0xE0000000ELL;
  }

  else
  {
    v5 = a1[6].u32[0] * v3;
    if (15 * v2 >= v4)
    {
      a1[10].i32[0] = sub_1003C82AC(v5, 15);
      a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 15);
      *&result = 0xF0000000FLL;
      a1[43] = 0xF0000000FLL;
    }

    else
    {
      a1[10].i32[0] = sub_1003C82AC(v5, 16);
      a1[10].i32[1] = sub_1003C82AC(a1[57].i32[1] * a1[6].u32[1], 16);
      *&result = 0x1000000010;
      a1[43] = 0x1000000010;
    }
  }

  return result;
}

void sub_10039BD48(int32x2_t *a1, int a2)
{
  v4 = (**&a1[1])();
  a1[60] = v4;
  *v4 = sub_10039C920;
  *(v4 + 8) = sub_10039D124;
  *(v4 + 16) = sub_10039D174;
  *(v4 + 25) = 0;
  if (a2)
  {
    v5 = a1[43].i32[0];
    if (v5 != a1[43].i32[1])
    {
      v6 = *a1;
      *(*&v6 + 40) = 7;
      *(*&v6 + 44) = v5;
      *(*a1 + 48) = a1[43].i32[1];
      (**a1)(a1);
      v5 = a1[43].i32[0];
    }

    a1[57].i32[1] = v5;
    if ((v5 - 17) <= 0xFFFFFFEF)
    {
      goto LABEL_5;
    }
  }

  else
  {
    sub_10039B868(a1);
    v5 = a1[57].i32[1];
    if ((v5 - 17) <= 0xFFFFFFEF)
    {
LABEL_5:
      v7 = *a1;
      *(*&v7 + 40) = 7;
      *(*&v7 + 44) = v5;
      *(*a1 + 48) = a1[57].i32[1];
      (**a1)(a1);
      v5 = a1[57].i32[1];
    }
  }

  if ((v5 - 2) > 5)
  {
    v8 = dword_1003ECC10;
  }

  else
  {
    v8 = *(&off_10047B818 + (v5 - 2));
  }

  a1[58] = v8;
  if (v5 >= 8)
  {
    v9 = 63;
  }

  else
  {
    v9 = v5 * v5 - 1;
  }

  a1[59].i32[0] = v9;
  v10 = a1[10].u32[1];
  if (v10 && a1[10].i32[0] && a1[11].i32[1] > 0)
  {
    if (v10 > 0xFFDC)
    {
LABEL_19:
      *(*a1 + 40) = 0xFFDC0000002ALL;
      (**a1)(a1);
      v12 = a1[11].i32[0];
      if ((v12 - 13) > 0xFFFFFFFA)
      {
        goto LABEL_20;
      }

      goto LABEL_24;
    }
  }

  else
  {
    v11 = *a1;
    *(*&v11 + 40) = 33;
    (**&v11)(a1);
    if (a1[10].i32[1] > 0xFFDCu)
    {
      goto LABEL_19;
    }
  }

  if (a1[10].i32[0] >= 0xFFDDu)
  {
    goto LABEL_19;
  }

  v12 = a1[11].i32[0];
  if ((v12 - 13) > 0xFFFFFFFA)
  {
LABEL_20:
    v13 = a1[11].i32[1];
    if (v13 >= 11)
    {
      goto LABEL_21;
    }

LABEL_25:
    a1[42] = 0x100000001;
    if (v13 < 1)
    {
      goto LABEL_22;
    }

    goto LABEL_26;
  }

LABEL_24:
  v16 = *a1;
  *(*&v16 + 40) = 16;
  *(*&v16 + 44) = v12;
  (**a1)(a1);
  v13 = a1[11].i32[1];
  if (v13 < 11)
  {
    goto LABEL_25;
  }

LABEL_21:
  v14 = *a1;
  *(*&v14 + 40) = 27;
  *(*&v14 + 44) = v13;
  *(*a1 + 48) = 10;
  (**a1)(a1);
  v13 = a1[11].i32[1];
  a1[42] = 0x100000001;
  if (v13 < 1)
  {
LABEL_22:
    v15 = 1;
    goto LABEL_62;
  }

LABEL_26:
  v17 = 0;
  v18 = (*&a1[13] + 12);
  v15 = 1;
  v19 = 1;
  do
  {
    v21 = *(v18 - 1);
    if ((v21 - 5) < 0xFFFFFFFC || (v22 = *v18, (*v18 - 5) <= 0xFFFFFFFB))
    {
      v20 = *a1;
      *(*&v20 + 40) = 19;
      (**&v20)(a1);
      v19 = a1[42].i32[0];
      v21 = *(v18 - 1);
      v22 = *v18;
      v15 = a1[42].i32[1];
      v13 = a1[11].i32[1];
    }

    if (v19 <= v21)
    {
      v19 = v21;
    }

    a1[42].i32[0] = v19;
    if (v15 <= v22)
    {
      v15 = v22;
    }

    a1[42].i32[1] = v15;
    ++v17;
    v18 += 24;
  }

  while (v17 < v13);
  if (v13 >= 1)
  {
    v23 = 0;
    v24 = a1[13];
    while (1)
    {
      *(*&v24 + 4) = v23;
      v25 = a1[43].i32[0];
      v26 = a1[36].i8[4] ? 8 : 4;
      if (v25 <= v26)
      {
        break;
      }

      *(*&v24 + 36) = v25;
      v27 = a1[43].i32[1];
      if (v27 <= v26)
      {
        goto LABEL_53;
      }

LABEL_45:
      *(*&v24 + 40) = v27;
      v28 = 2 * v27;
      if (v25 <= 2 * v27)
      {
        goto LABEL_59;
      }

LABEL_38:
      *(*&v24 + 36) = v28;
LABEL_39:
      *(*&v24 + 28) = sub_1003C82AC(*(*&v24 + 8) * a1[10].u32[0], a1[57].i32[1] * a1[42].i32[0]);
      *(*&v24 + 32) = sub_1003C82AC(*(*&v24 + 12) * a1[10].u32[1], a1[57].i32[1] * a1[42].i32[1]);
      *(*&v24 + 44) = sub_1003C82AC(*(*&v24 + 36) * *(*&v24 + 8) * a1[10].u32[0], a1[57].i32[1] * a1[42].i32[0]);
      *(*&v24 + 48) = sub_1003C82AC(*(*&v24 + 40) * *(*&v24 + 12) * a1[10].u32[1], a1[57].i32[1] * a1[42].i32[1]);
      *(*&v24 + 52) = 0;
      ++v23;
      *&v24 += 96;
      if (v23 >= a1[11].i32[1])
      {
        v15 = a1[42].i32[1];
        goto LABEL_62;
      }
    }

    v29 = 1;
    while (!(a1[42].i32[0] % (2 * *(*&v24 + 8) * v29)))
    {
      v29 *= 2;
      v30 = v29 * v25;
      if (v29 * v25 > v26)
      {
        v25 *= v29;
        *(*&v24 + 36) = v30;
        v27 = a1[43].i32[1];
        if (v27 > v26)
        {
          goto LABEL_45;
        }

        goto LABEL_53;
      }
    }

    v25 *= v29;
    *(*&v24 + 36) = v25;
    v27 = a1[43].i32[1];
    if (v27 > v26)
    {
      goto LABEL_45;
    }

LABEL_53:
    v31 = 1;
    while (!(a1[42].i32[1] % (2 * *(*&v24 + 12) * v31)))
    {
      v31 *= 2;
      v32 = v31 * v27;
      if (v31 * v27 > v26)
      {
        v27 *= v31;
        *(*&v24 + 40) = v32;
        v28 = 2 * v32;
        if (v25 > 2 * v32)
        {
          goto LABEL_38;
        }

        goto LABEL_59;
      }
    }

    v27 *= v31;
    *(*&v24 + 40) = v27;
    v28 = 2 * v27;
    if (v25 > 2 * v27)
    {
      goto LABEL_38;
    }

LABEL_59:
    v33 = 2 * v25;
    if (v27 > v33)
    {
      *(*&v24 + 40) = v33;
    }

    goto LABEL_39;
  }

LABEL_62:
  a1[44].i32[0] = sub_1003C82AC(a1[10].u32[1], a1[57].i32[1] * v15);
  v34 = a1[35];
  if (!v34)
  {
    a1[41].i8[4] = 0;
    v35 = 1;
LABEL_167:
    a1[34].i32[0] = v35;
    goto LABEL_168;
  }

  if (a1[34].i32[0] <= 0)
  {
    *(*a1 + 40) = 20;
    (**a1)(a1);
    v34 = a1[35];
    if (v34[5])
    {
      goto LABEL_74;
    }
  }

  else if (v34[5])
  {
    goto LABEL_74;
  }

  if (v34[6] != 63)
  {
LABEL_74:
    v37 = 1;
    a1[41].i8[4] = 1;
    v36 = a1[11].u32[1];
    if (v36 >= 1)
    {
      memset(__b, 255, v36 << 8);
      v37 = 1;
    }

    goto LABEL_76;
  }

  a1[41].i8[4] = 0;
  LODWORD(v36) = a1[11].i32[1];
  if (v36 >= 1)
  {
    bzero(v96, a1[11].u32[1]);
  }

  v37 = 0;
LABEL_76:
  if (a1[34].i32[0] < 1)
  {
    goto LABEL_144;
  }

  v88 = a2;
  v89 = v4;
  v38 = v34 + 2;
  v39 = 1;
  do
  {
    v41 = *v34;
    v90 = v38;
    if ((v41 - 5) > 0xFFFFFFFB || (v42 = *a1, *(*&v42 + 40) = 27, *(*&v42 + 44) = v41, *(*a1 + 48) = 4, (**a1)(a1), v41 >= 1))
    {
      v43 = v34[1];
      if (v43 < 0 || v43 >= a1[11].i32[1])
      {
        v44 = *a1;
        *(*&v44 + 40) = 20;
        *(*&v44 + 44) = v39;
        (**a1)(a1);
      }

      if (v41 == 1)
      {
LABEL_86:
        v45 = 1;
        goto LABEL_87;
      }

      v50 = v41 - 1;
      while (1)
      {
        v51 = *v38;
        if ((*v38 & 0x80000000) != 0 || v51 >= a1[11].i32[1])
        {
          v52 = *a1;
          *(*&v52 + 40) = 20;
          *(*&v52 + 44) = v39;
          (**a1)(a1);
          if (v51 <= *(v38 - 1))
          {
LABEL_97:
            v53 = *a1;
            *(*&v53 + 40) = 20;
            *(*&v53 + 44) = v39;
            (**a1)(a1);
          }
        }

        else if (v51 <= *(v38 - 1))
        {
          goto LABEL_97;
        }

        ++v38;
        if (!--v50)
        {
          goto LABEL_86;
        }
      }
    }

    v45 = 0;
LABEL_87:
    v46 = v34[5];
    v94 = v34[6];
    v47 = v34[7];
    v48 = v34[8];
    v92 = v34;
    if (!a1[41].i8[4])
    {
      if (v47 | v46 || v94 != 63 || v48)
      {
        v54 = *a1;
        *(*&v54 + 40) = 18;
        *(*&v54 + 44) = v39;
        (**a1)(a1);
      }

      if (v45)
      {
        v55 = 1;
        do
        {
          v56 = v34[v55];
          if (v96[v56])
          {
            v57 = *a1;
            *(*&v57 + 40) = 20;
            *(*&v57 + 44) = v39;
            (**a1)(a1);
          }

          v96[v56] = 1;
          ++v55;
          --v41;
        }

        while (v41);
      }

      goto LABEL_78;
    }

    v93 = v34[5];
    if (v46 > 0x3F || v94 < v46 || v94 > 63 || v47 > 0xA || v48 >= 0xB)
    {
      v49 = *a1;
      *(*&v49 + 40) = 18;
      *(*&v49 + 44) = v39;
      (**a1)(a1);
    }

    if (v93)
    {
      if (v41 == 1)
      {
        goto LABEL_114;
      }

LABEL_113:
      v58 = *a1;
      *(*&v58 + 40) = 18;
      *(*&v58 + 44) = v39;
      (**a1)(a1);
      goto LABEL_114;
    }

    if (v94)
    {
      goto LABEL_113;
    }

LABEL_114:
    v59 = v93;
    if (v45)
    {
      v60 = 0;
      v91 = &__b[v93];
      do
      {
        v61 = v92[v60 + 1];
        if (v59 && (__b[64 * v61] & 0x80000000) != 0)
        {
          v66 = *a1;
          *(*&v66 + 40) = 18;
          *(*&v66 + 44) = v39;
          (**a1)(a1);
          if (v59 <= v94)
          {
LABEL_120:
            if (v47)
            {
              v62 = &v91[256 * v61];
              v63 = v94 - v93 + 1;
              do
              {
                if ((*v62 & 0x80000000) != 0 || (v47 == *v62 ? (v65 = v48 == v47 - 1) : (v65 = 0), !v65))
                {
                  v64 = *a1;
                  *(*&v64 + 40) = 18;
                  *(*&v64 + 44) = v39;
                  (**a1)(a1);
                }

                *v62++ = v48;
                --v63;
              }

              while (v63);
            }

            else if (v48 == -1)
            {
              v67 = &v91[256 * v61];
              v68 = v94 - v93 + 1;
              do
              {
                if (*v67 >= 1)
                {
                  v69 = *a1;
                  *(*&v69 + 40) = 18;
                  *(*&v69 + 44) = v39;
                  (**a1)(a1);
                }

                *v67++ = v48;
                --v68;
              }

              while (v68);
            }

            else
            {
              v70 = &v91[256 * v61];
              v71 = v94 - v93 + 1;
              do
              {
                if ((*v70 & 0x80000000) == 0)
                {
                  v72 = *a1;
                  *(*&v72 + 40) = 18;
                  *(*&v72 + 44) = v39;
                  (**a1)(a1);
                }

                *v70++ = v48;
                --v71;
              }

              while (v71);
            }
          }
        }

        else if (v59 <= v94)
        {
          goto LABEL_120;
        }

        ++v60;
        v59 = v93;
      }

      while (v60 != v41);
    }

LABEL_78:
    v34 = v92 + 9;
    v38 = v90 + 9;
  }

  while (v39++ < a1[34].i32[0]);
  v37 = a1[41].u8[4];
  LODWORD(v36) = a1[11].i32[1];
  v4 = v89;
  a2 = v88;
LABEL_144:
  if (v37)
  {
    if (v36 >= 1)
    {
      v73 = 0;
      v74 = __b;
      do
      {
        if ((*v74 & 0x80000000) != 0)
        {
          v75 = *a1;
          *(*&v75 + 40) = 46;
          (**&v75)(a1);
          LODWORD(v36) = a1[11].i32[1];
        }

        v74 += 64;
        ++v73;
      }

      while (v73 < v36);
    }
  }

  else if (v36 >= 1)
  {
    v76 = 0;
    do
    {
      if (!v96[v76])
      {
        v77 = *a1;
        *(*&v77 + 40) = 46;
        (**&v77)(a1);
        LODWORD(v36) = a1[11].i32[1];
      }

      ++v76;
    }

    while (v76 < v36);
  }

  if (a1[57].i32[1] <= 7)
  {
    if (a1[34].i32[0] >= 1)
    {
      v78 = 0;
      v35 = 0;
      v79 = a1[35];
      v80 = v79;
      while (1)
      {
        if (v78 == v35)
        {
          v81 = *&v79 + 36 * v35;
          v82 = a1[59].i32[0];
          if (*(v81 + 20) <= v82)
          {
            goto LABEL_164;
          }
        }

        else
        {
          v83 = *&v79 + 36 * v35;
          v84 = **&v80;
          v85 = *(*&v80 + 16);
          *(v83 + 32) = *(*&v80 + 32);
          *v83 = v84;
          *(v83 + 16) = v85;
          v81 = v83;
          v82 = a1[59].i32[0];
          if (*(v81 + 20) <= v82)
          {
LABEL_164:
            if (*(v81 + 24) > v82)
            {
              *(v81 + 24) = v82;
            }

            ++v35;
          }
        }

        ++v78;
        *&v80 += 36;
        if (v78 >= a1[34].i32[0])
        {
          goto LABEL_167;
        }
      }
    }

    v35 = 0;
    goto LABEL_167;
  }

LABEL_168:
  if (a1[36].i8[2])
  {
    v86 = 0;
    a1[36].i8[1] = 0;
    *(v4 + 44) = 0;
    if (a2)
    {
      goto LABEL_170;
    }

LABEL_174:
    *(v4 + 32) = 0;
    if (v86)
    {
      goto LABEL_175;
    }

LABEL_177:
    v87 = 2 * a1[34].i32[0];
    goto LABEL_178;
  }

  if (a1[36].i8[1] || !a1[41].i8[4] && (a1[57].i32[1] - 2) > 5)
  {
    v86 = 1;
    *(v4 + 44) = 0;
    if (!a2)
    {
      goto LABEL_174;
    }
  }

  else
  {
    v86 = 0;
    a1[36].i8[2] = 1;
    *(v4 + 44) = 0;
    if (!a2)
    {
      goto LABEL_174;
    }
  }

LABEL_170:
  if ((v86 & 1) == 0)
  {
    *(v4 + 32) = 1;
    goto LABEL_177;
  }

  *(v4 + 32) = 2;
LABEL_175:
  v87 = a1[34].i32[0];
LABEL_178:
  *(v4 + 40) = v87;
}

uint64_t sub_10039C920(uint64_t a1)
{
  v2 = a1 + 376;
  v3 = *(a1 + 480);
  v4 = *(v3 + 32);
  if (v4 == 2)
  {
LABEL_47:
    if (*(a1 + 290))
    {
LABEL_84:
      (**(a1 + 544))(a1, 0);
      (**(a1 + 504))(a1, 2);
      if (!*(v3 + 44))
      {
        (*(*(a1 + 512) + 8))(a1);
      }

      result = (*(*(a1 + 512) + 16))(a1);
      goto LABEL_87;
    }

    v73 = *(a1 + 280);
    if (!v73)
    {
      v79 = *(a1 + 92);
      if (v79 >= 5)
      {
        v80 = *a1;
        *(v80 + 40) = 27;
        *(v80 + 44) = v79;
        *(*a1 + 48) = 4;
        (**a1)(a1);
        v79 = *(a1 + 92);
      }

      *(a1 + 356) = v79;
      if (v79 < 1)
      {
        goto LABEL_82;
      }

      v81 = *(a1 + 104);
      v82 = v79;
      if (v79 >= 4)
      {
        v111 = xmmword_1003E0C50;
        v83 = v79 & 0x7FFFFFFC;
        v112 = vdupq_n_s64(v81);
        v113 = vdupq_n_s64(0xC0uLL);
        v114 = vdupq_n_s64(4uLL);
        v115 = v82 & 0x7FFFFFFC;
        do
        {
          v116.i64[0] = 96 * v111.i64[0];
          v116.i64[1] = 96 * v111.i64[1];
          v117 = vaddq_s64(v112, v116);
          *(v2 - 16) = v117;
          *v2 = vaddq_s64(v117, v113);
          v111 = vaddq_s64(v111, v114);
          v2 += 32;
          v115 -= 4;
        }

        while (v115);
        if (v83 == v82)
        {
          goto LABEL_82;
        }
      }

      else
      {
        v83 = 0;
      }

      v118 = v82 - v83;
      v119 = (a1 + 8 * v83 + 360);
      v120 = v81 + 96 * v83;
      do
      {
        *v119++ = v120;
        v120 += 96;
        --v118;
      }

      while (v118);
LABEL_82:
      v109 = 0;
      *(a1 + 444) = 0;
      *(a1 + 448) = (*(a1 + 460) * *(a1 + 460) - 1);
      goto LABEL_83;
    }

    v74 = *(*(a1 + 480) + 44);
    v75 = (v73 + 36 * v74);
    v76 = *v75;
    *(a1 + 356) = v76;
    if (v76 >= 1)
    {
      v77 = *(a1 + 104);
      if (v76 < 8)
      {
        v78 = 0;
LABEL_73:
        v105 = v76 - v78;
        v106 = (a1 + 8 * v78 + 360);
        v107 = (36 * v74 + 4 * v78 + v73 + 4);
        do
        {
          v108 = *v107++;
          *v106++ = v77 + 96 * v108;
          --v105;
        }

        while (v105);
        goto LABEL_75;
      }

      v78 = v76 & 0x7FFFFFF8;
      v95 = (v73 + 36 * v74 + 20);
      v96 = (v2 + 16);
      v97 = vdupq_n_s64(v77);
      v98.i64[0] = 0x6000000060;
      v98.i64[1] = 0x6000000060;
      v99 = v78;
      do
      {
        v100 = *v95[-2].i8;
        v101 = *v95->i8;
        v102 = vmlal_s32(v97, *v100.i8, 0x6000000060);
        v103 = vmlal_high_s32(v97, v100, v98);
        v104 = vmlal_s32(v97, *v95, 0x6000000060);
        v96[-2] = v102;
        v96[-1] = v103;
        *v96 = v104;
        v96[1] = vmlal_high_s32(v97, v101, v98);
        v96 += 4;
        v95 += 4;
        v99 -= 8;
      }

      while (v99);
      if (v78 != v76)
      {
        goto LABEL_73;
      }
    }

LABEL_75:
    if (*(a1 + 332))
    {
      *(v2 + 68) = *(v75 + 5);
      v110 = v75[7];
      v109 = v75[8];
      *(a1 + 452) = v110;
LABEL_83:
      *(a1 + 456) = v109;
      sub_10039D228(a1);
      goto LABEL_84;
    }

    goto LABEL_82;
  }

  if (v4 == 1)
  {
    v11 = *(a1 + 280);
    if (!v11)
    {
      v19 = *(a1 + 92);
      if (v19 >= 5)
      {
        v20 = *a1;
        *(v20 + 40) = 27;
        *(v20 + 44) = v19;
        *(*a1 + 48) = 4;
        (**a1)(a1);
        v19 = *(a1 + 92);
      }

      *(a1 + 356) = v19;
      if (v19 >= 1)
      {
        v21 = *(a1 + 104);
        v22 = v19;
        if (v19 >= 4)
        {
          v61 = xmmword_1003E0C50;
          v62 = vdupq_n_s64(v21);
          v63 = vdupq_n_s64(0xC0uLL);
          v23 = v19 & 0x7FFFFFFC;
          v64 = vdupq_n_s64(4uLL);
          v65 = v22 & 0x7FFFFFFC;
          v66 = v2;
          do
          {
            v67.i64[0] = 96 * v61.i64[0];
            v67.i64[1] = 96 * v61.i64[1];
            v68 = vaddq_s64(v62, v67);
            v66[-1] = v68;
            *v66 = vaddq_s64(v68, v63);
            v61 = vaddq_s64(v61, v64);
            v66 += 2;
            v65 -= 4;
          }

          while (v65);
          if (v23 == v22)
          {
            goto LABEL_44;
          }
        }

        else
        {
          v23 = 0;
        }

        v69 = v22 - v23;
        v70 = (a1 + 8 * v23 + 360);
        v71 = v21 + 96 * v23;
        do
        {
          *v70++ = v71;
          v71 += 96;
          --v69;
        }

        while (v69);
      }

LABEL_44:
      *(a1 + 444) = 0;
      *(a1 + 448) = (*(a1 + 460) * *(a1 + 460) - 1);
      *(a1 + 456) = 0;
      sub_10039D228(a1);
      if (*(a1 + 444))
      {
        goto LABEL_52;
      }

LABEL_45:
      if (*(a1 + 452))
      {
        v72 = *(v3 + 36) + 1;
        *(v3 + 32) = 2;
        *(v3 + 36) = v72;
        goto LABEL_47;
      }

LABEL_52:
      (**(a1 + 544))(a1, 1);
      result = (**(a1 + 504))(a1, 2);
      goto LABEL_87;
    }

    v12 = *(v3 + 44);
    v13 = (v11 + 36 * v12);
    v14 = *v13;
    *(a1 + 356) = v14;
    if (v14 >= 1)
    {
      v15 = *(a1 + 104);
      if (v14 < 8)
      {
        v16 = 0;
LABEL_26:
        v39 = v14 - v16;
        v40 = (a1 + 8 * v16 + 360);
        v41 = (36 * v12 + 4 * v16 + v11 + 4);
        do
        {
          v42 = *v41++;
          *v40++ = v15 + 96 * v42;
          --v39;
        }

        while (v39);
        goto LABEL_28;
      }

      v16 = v14 & 0x7FFFFFF8;
      v29 = (v11 + 36 * v12 + 20);
      v30 = (a1 + 392);
      v31 = vdupq_n_s64(v15);
      v32.i64[0] = 0x6000000060;
      v32.i64[1] = 0x6000000060;
      v33 = v16;
      do
      {
        v34 = *v29[-2].i8;
        v35 = *v29->i8;
        v36 = vmlal_s32(v31, *v34.i8, 0x6000000060);
        v37 = vmlal_high_s32(v31, v34, v32);
        v38 = vmlal_s32(v31, *v29, 0x6000000060);
        v30[-2] = v36;
        v30[-1] = v37;
        *v30 = v38;
        v30[1] = vmlal_high_s32(v31, v35, v32);
        v30 += 4;
        v29 += 4;
        v33 -= 8;
      }

      while (v33);
      if (v16 != v14)
      {
        goto LABEL_26;
      }
    }

LABEL_28:
    if (*(a1 + 332))
    {
      *(a1 + 444) = *(v13 + 5);
      v44 = v13[7];
      v43 = v13[8];
      *(a1 + 452) = v44;
      *(a1 + 456) = v43;
      sub_10039D228(a1);
      if (*(a1 + 444))
      {
        goto LABEL_52;
      }

      goto LABEL_45;
    }

    goto LABEL_44;
  }

  if (v4)
  {
    v17 = *a1;
    *(v17 + 40) = 49;
    result = (*v17)(a1);
    goto LABEL_88;
  }

  v5 = *(a1 + 280);
  if (!v5)
  {
    v24 = *(a1 + 92);
    if (v24 >= 5)
    {
      v25 = *a1;
      *(v25 + 40) = 27;
      *(v25 + 44) = v24;
      *(*a1 + 48) = 4;
      (**a1)(a1);
      v24 = *(a1 + 92);
    }

    *(a1 + 356) = v24;
    if (v24 >= 1)
    {
      v26 = *(a1 + 104);
      v27 = v24;
      if (v24 < 4)
      {
        v28 = 0;
LABEL_61:
        v91 = v27 - v28;
        v92 = (a1 + 8 * v28 + 360);
        v93 = v26 + 96 * v28;
        do
        {
          *v92++ = v93;
          v93 += 96;
          --v91;
        }

        while (v91);
        goto LABEL_63;
      }

      v84 = xmmword_1003E0C50;
      v28 = v24 & 0x7FFFFFFC;
      v85 = vdupq_n_s64(v26);
      v86 = vdupq_n_s64(0xC0uLL);
      v87 = vdupq_n_s64(4uLL);
      v88 = v27 & 0x7FFFFFFC;
      do
      {
        v89.i64[0] = 96 * v84.i64[0];
        v89.i64[1] = 96 * v84.i64[1];
        v90 = vaddq_s64(v85, v89);
        *(v2 - 16) = v90;
        *v2 = vaddq_s64(v90, v86);
        v84 = vaddq_s64(v84, v87);
        v2 += 32;
        v88 -= 4;
      }

      while (v88);
      if (v28 != v27)
      {
        goto LABEL_61;
      }
    }

LABEL_63:
    *(a1 + 444) = 0;
    *(a1 + 448) = (*(a1 + 460) * *(a1 + 460) - 1);
    *(a1 + 456) = 0;
    sub_10039D228(a1);
    if (*(a1 + 288))
    {
      goto LABEL_65;
    }

    goto LABEL_64;
  }

  v6 = *(v3 + 44);
  v7 = (v5 + 36 * v6);
  v8 = *v7;
  *(a1 + 356) = v8;
  if (v8 < 1)
  {
    goto LABEL_36;
  }

  v9 = *(a1 + 104);
  if (v8 < 8)
  {
    v10 = 0;
LABEL_34:
    v55 = v8 - v10;
    v56 = (a1 + 8 * v10 + 360);
    v57 = (36 * v6 + 4 * v10 + v5 + 4);
    do
    {
      v58 = *v57++;
      *v56++ = v9 + 96 * v58;
      --v55;
    }

    while (v55);
    goto LABEL_36;
  }

  v10 = v8 & 0x7FFFFFF8;
  v45 = (v5 + 36 * v6 + 20);
  v46 = (a1 + 392);
  v47 = vdupq_n_s64(v9);
  v48.i64[0] = 0x6000000060;
  v48.i64[1] = 0x6000000060;
  v49 = v10;
  do
  {
    v50 = *v45[-2].i8;
    v51 = *v45->i8;
    v52 = vmlal_s32(v47, *v50.i8, 0x6000000060);
    v53 = vmlal_high_s32(v47, v50, v48);
    v54 = vmlal_s32(v47, *v45, 0x6000000060);
    v46[-2] = v52;
    v46[-1] = v53;
    *v46 = v54;
    v46[1] = vmlal_high_s32(v47, v51, v48);
    v46 += 4;
    v45 += 4;
    v49 -= 8;
  }

  while (v49);
  if (v10 != v8)
  {
    goto LABEL_34;
  }

LABEL_36:
  if (!*(a1 + 332))
  {
    goto LABEL_63;
  }

  *(a1 + 444) = *(v7 + 5);
  v60 = v7[7];
  v59 = v7[8];
  *(a1 + 452) = v60;
  *(a1 + 456) = v59;
  sub_10039D228(a1);
  if (*(a1 + 288))
  {
    goto LABEL_65;
  }

LABEL_64:
  (**(a1 + 520))(a1);
  (**(a1 + 528))(a1);
  (**(a1 + 496))(a1, 0);
LABEL_65:
  (**(a1 + 536))(a1);
  (**(a1 + 544))(a1, *(a1 + 290));
  if (*(v3 + 40) <= 1)
  {
    v94 = 0;
  }

  else
  {
    v94 = 3;
  }

  (**(a1 + 504))(a1, v94);
  result = (**(a1 + 488))(a1, 0);
  if (!*(a1 + 290))
  {
    *(v3 + 24) = 1;
    goto LABEL_88;
  }

LABEL_87:
  *(v3 + 24) = 0;
LABEL_88:
  v121 = *(v3 + 36);
  v122 = *(v3 + 40);
  *(v3 + 25) = v121 == v122 - 1;
  v123 = *(a1 + 16);
  if (v123)
  {
    *(v123 + 24) = v121;
    *(v123 + 28) = v122;
  }

  return result;
}

uint64_t sub_10039D124(uint64_t a1)
{
  *(*(a1 + 480) + 24) = 0;
  (*(*(a1 + 512) + 8))();
  v2 = *(*(a1 + 512) + 16);

  return v2(a1);
}

uint64_t sub_10039D174(uint64_t a1)
{
  v2 = *(a1 + 480);
  result = (*(*(a1 + 544) + 16))();
  v4 = v2[8];
  if (v4 == 2)
  {
    if (*(a1 + 290))
    {
      v2[8] = 1;
    }
  }

  else
  {
    if (v4 == 1)
    {
      v5 = v2[9] + 1;
      v2[8] = 2;
      v2[9] = v5;
      return result;
    }

    if (v4 || (v2[8] = 2, *(a1 + 290)))
    {
      ++v2[9];
      return result;
    }
  }

  ++v2[11];
  ++v2[9];
  return result;
}

uint64_t sub_10039D228(uint64_t result)
{
  v1 = result;
  v2 = *(result + 356);
  if (v2 == 1)
  {
    v3 = *(result + 360);
    v4 = *(v3 + 32);
    *(result + 392) = *(v3 + 28);
    *(result + 396) = v4;
    v5 = *(v3 + 36);
    *(v3 + 64) = 1;
    *(v3 + 68) = v5;
    v6 = *(v3 + 12);
    v7 = v4 % v6;
    *(v3 + 56) = 0x100000001;
    if (!v7)
    {
      v7 = v6;
    }

    *(v3 + 72) = 1;
    *(v3 + 76) = v7;
    *(result + 400) = 1;
  }

  else
  {
    if ((v2 - 5) <= 0xFFFFFFFB)
    {
      v8 = *result;
      *(v8 + 40) = 27;
      *(v8 + 44) = v2;
      *(*result + 48) = 4;
      (**result)(result);
    }

    *(v1 + 392) = sub_1003C82AC(*(v1 + 80), *(v1 + 460) * *(v1 + 336));
    result = sub_1003C82AC(*(v1 + 84), *(v1 + 460) * *(v1 + 340));
    *(v1 + 396) = result;
    if (*(v1 + 356) >= 1)
    {
      v9 = 0;
      do
      {
        v10 = *(v1 + 360 + 8 * v9);
        v11 = v10[2];
        v12 = v10[3];
        v13 = v12 * v11;
        v14 = v10[8];
        v15 = v10[9] * v11;
        v10[16] = v12 * v11;
        v10[17] = v15;
        v16 = v10[7] % v11;
        v10[14] = v11;
        v10[15] = v12;
        if (v16)
        {
          v11 = v16;
        }

        if (v14 % v12)
        {
          v12 = v14 % v12;
        }

        v10[18] = v11;
        v10[19] = v12;
        if (*(v1 + 400) + v13 >= 11)
        {
          v17 = *v1;
          *(v17 + 40) = 14;
          result = (*v17)(v1);
        }

        if (v13 >= 1)
        {
          v18 = v13 + 1;
          do
          {
            v19 = *(v1 + 400);
            *(v1 + 400) = v19 + 1;
            *(v1 + 404 + 4 * v19) = v9;
            --v18;
          }

          while (v18 > 1);
        }

        ++v9;
      }

      while (v9 < *(v1 + 356));
    }
  }

  v20 = *(v1 + 308);
  if (v20 >= 1)
  {
    v21 = *(v1 + 392) * v20;
    if (v21 >= 0xFFFF)
    {
      LODWORD(v21) = 0xFFFF;
    }

    *(v1 + 304) = v21;
  }

  return result;
}

uint64_t sub_10039D400(uint64_t result)
{
  v1 = *(result + 8);
  if (v1)
  {
    v2 = result;
    result = (*(v1 + 72))();
    if (*(v2 + 32))
    {
      *(v2 + 36) = 200;
      *(v2 + 376) = 0;
    }

    else
    {
      *(v2 + 36) = 100;
    }
  }

  return result;
}

uint64_t sub_10039D458(uint64_t result)
{
  v1 = result;
  v2 = *(result + 8);
  if (v2)
  {
    result = (*(v2 + 80))(result);
  }

  *(v1 + 8) = 0;
  *(v1 + 36) = 0;
  return result;
}

uint64_t sub_10039D494(uint64_t a1)
{
  result = (**(a1 + 8))();
  *(result + 128) = 0;
  return result;
}

uint64_t sub_10039D4C0(uint64_t a1)
{
  result = (**(a1 + 8))();
  *(result + 273) = 0;
  return result;
}

uint64_t sub_10039D4EC(uint64_t a1, int a2)
{
  v4 = *(a1 + 144);
  v5 = *(a1 + 36);
  if (v5 != 100)
  {
    v6 = *a1;
    *(v6 + 10) = 21;
    *(v6 + 11) = v5;
    (**a1)(a1);
  }

  v7 = *(a1 + 112);
  if (!v7)
  {
    v7 = sub_10039D494(a1);
    *(a1 + 112) = v7;
  }

  v8 = vdupq_n_s64(v4);
  v9 = vdup_n_s32(v4);
  v10 = vdupq_n_s64(0x32uLL);
  v11 = vmlal_s32(v10, v9, 0xB00000010);
  v12 = vmlal_s32(v10, v9, 0x100000000ALL);
  v13 = vmlal_s32(v10, v9, 0x2800000018);
  v14 = vmlal_s32(v10, v9, 0x3D00000033);
  v14.i64[0] /= 100;
  v14.i64[1] /= 100;
  v13.i64[0] /= 100;
  v13.i64[1] /= 100;
  v12.i64[0] /= 100;
  v12.i64[1] /= 100;
  v11.i64[0] /= 100;
  v11.i64[1] /= 100;
  v15 = vdupq_n_s64(1uLL);
  v16 = vcgtq_s64(v11, v15);
  v17 = vsubq_s64(vandq_s8(v11, v16), vmvnq_s8(v16));
  v18 = vcgtq_s64(v12, v15);
  v19 = vsubq_s64(vandq_s8(v12, v18), vmvnq_s8(v18));
  v20 = vcgtq_s64(v13, v15);
  v21 = vsubq_s64(vandq_s8(v13, v20), vmvnq_s8(v20));
  v22 = vcgtq_s64(v14, v15);
  v23 = vsubq_s64(vandq_s8(v14, v22), vmvnq_s8(v22));
  v24 = vdupq_n_s64(0x7FFFuLL);
  v25 = vbslq_s8(vcgtq_s64(v24, v23), v23, v24);
  v26 = vbslq_s8(vcgtq_s64(v24, v21), v21, v24);
  v27 = vbslq_s8(vcgtq_s64(v24, v19), v19, v24);
  v28 = vbslq_s8(vcgtq_s64(v24, v17), v17, v24);
  if (a2)
  {
    v29 = vdupq_n_s64(0x63CDuLL);
    v30 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(vmull_s32(v9, 0xB00000010), v29), vcgtq_s64(vmull_s32(v9, 0x100000000ALL), v29)), vuzp1q_s32(vcgtq_s64(vmull_s32(v9, 0x2800000018), v29), vcgtq_s64(vmull_s32(v9, 0x3D00000033), v29)));
    v31 = vbicq_s8(vuzp1q_s16(vuzp1q_s32(v28, v27), vuzp1q_s32(v26, v25)), v30);
    v32 = v8.i64[1];
    v33 = v8.i64[0];
    v34 = 16 * v8.i64[0];
    v35.i64[0] = 14 * v8.i64[0];
    v35.i64[1] = 19 * v8.i64[1];
    v36.i64[0] = 26 * v8.i64[0];
    v36.i64[1] = 58 * v8.i64[1];
    v37 = vorrq_s8((*&v30 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), v31);
    v38 = v8.i64[0];
    v39 = 4 * v8.i64[0];
    v40.i64[0] = 60 * v8.i64[0];
    v40.i64[1] = 55 * v8.i64[1];
    v41 = 2 * v8.i64[0];
    v42 = 3 * v8.i64[0];
    v43.i64[0] = 12 * v8.i64[0];
    v44 = 3 * v8.i64[1];
    v43.i64[1] = 12 * v8.i64[1];
    v45 = vdupq_n_s64(0x32uLL);
    v46 = vaddq_s64(v40, v45);
    v47 = vaddq_s64(v36, v45);
    v48 = vaddq_s64(v35, v45);
    v48.i64[0] /= 100;
    v48.i64[1] /= 100;
    v47.i64[0] /= 100;
    v47.i64[1] /= 100;
    v49.i64[0] = v46.i64[0] / 100;
    v49.i64[1] = v46.i64[1] / 100;
    v50 = vaddq_s64(v43, v45);
    v51.i64[0] = v50.i64[0] / 100;
    v51.i64[1] = v50.i64[1] / 100;
    v52 = vdupq_n_s64(1uLL);
    v53 = vcgtq_s64(v49, v52);
    v54 = vsubq_s64(vandq_s8(v49, v53), vmvnq_s8(v53));
    v55 = vcgtq_s64(v47, v52);
    v56 = vsubq_s64(vandq_s8(v47, v55), vmvnq_s8(v55));
    v57 = vcgtq_s64(v48, v52);
    v58 = vsubq_s64(vandq_s8(v48, v57), vmvnq_s8(v57));
    v59 = vcgtq_s64(v51, v52);
    v60 = vandq_s8(v51, v59);
    v61 = vmvnq_s8(v59);
    v62 = vdupq_n_s64(0x7FFFuLL);
    v63 = vsubq_s64(v60, v61);
    v64 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v43, v29), vcgtq_s64(v35, v29)), vuzp1q_s32(vcgtq_s64(v36, v29), vcgtq_s64(v40, v29)));
    *v7 = v37;
    *(v7 + 16) = vorrq_s8((*&v64 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v63), v63, v62), vbslq_s8(vcgtq_s64(v62, v58), v58, v62)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v56), v56, v62), vbslq_s8(vcgtq_s64(v62, v54), v54, v62))), v64));
    v64.i64[0] = 16 * v33 - v41;
    v37.i64[0] = v64.i64[0];
    v37.i64[1] = 13 * v32;
    v36.i64[0] = 69 * v38;
    v36.i64[1] = 56 * v32;
    v40.i64[0] = 40 * v33;
    v40.i64[1] = 57 * v32;
    v43.i64[0] = v34;
    v43.i64[1] = 8 * v44;
    v65 = vaddq_s64(v40, v45);
    v66 = vaddq_s64(v36, v45);
    v67 = vaddq_s64(v37, v45);
    v68 = vaddq_s64(v43, v45);
    v67.i64[0] /= 100;
    v67.i64[1] /= 100;
    v66.i64[0] /= 100;
    v66.i64[1] /= 100;
    v65.i64[0] /= 100;
    v65.i64[1] /= 100;
    v68.i64[0] /= 100;
    v68.i64[1] /= 100;
    v69 = vcgtq_s64(v65, v52);
    v70 = vsubq_s64(vandq_s8(v65, v69), vmvnq_s8(v69));
    v71 = vcgtq_s64(v66, v52);
    v72 = vsubq_s64(vandq_s8(v66, v71), vmvnq_s8(v71));
    v73 = vcgtq_s64(v67, v52);
    v74 = vsubq_s64(vandq_s8(v67, v73), vmvnq_s8(v73));
    v75 = vcgtq_s64(v68, v52);
    v76 = vsubq_s64(vandq_s8(v68, v75), vmvnq_s8(v75));
    v77 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v37, v29), vcgtq_s64(v43, v29)), vuzp1q_s32(vcgtq_s64(v40, v29), vcgtq_s64(v36, v29)));
    v78 = vorrq_s8((*&v77 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v74), v74, v62), vbslq_s8(vcgtq_s64(v62, v76), v76, v62)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v70), v70, v62), vbslq_s8(vcgtq_s64(v62, v72), v72, v62))), v77));
    v36.i64[0] = 22 * v33;
    v36.i64[1] = 29 * v32;
    v40.i64[0] = 51 * v33;
    v40.i64[1] = 87 * v32;
    v43.i64[0] = 16 * (v39 + v38);
    v43.i64[1] = 62 * v32;
    v64.i64[1] = 17 * v32;
    v79 = vaddq_s64(v43, v45);
    v80 = vaddq_s64(v40, v45);
    v81 = vaddq_s64(v36, v45);
    v82 = vaddq_s64(v64, v45);
    v81.i64[0] /= 100;
    v81.i64[1] /= 100;
    v80.i64[0] /= 100;
    v80.i64[1] /= 100;
    v79.i64[0] /= 100;
    v79.i64[1] /= 100;
    v82.i64[0] /= 100;
    v82.i64[1] /= 100;
    v83 = vcgtq_s64(v79, v52);
    v84 = vsubq_s64(vandq_s8(v79, v83), vmvnq_s8(v83));
    v85 = vcgtq_s64(v80, v52);
    v86 = vsubq_s64(vandq_s8(v80, v85), vmvnq_s8(v85));
    v87 = vcgtq_s64(v81, v52);
    v88 = vsubq_s64(vandq_s8(v81, v87), vmvnq_s8(v87));
    v89 = vcgtq_s64(v82, v52);
    v90 = vsubq_s64(vandq_s8(v82, v89), vmvnq_s8(v89));
    v91 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v64, v29), vcgtq_s64(v36, v29)), vuzp1q_s32(vcgtq_s64(v40, v29), vcgtq_s64(v43, v29)));
    v92 = vorrq_s8((*&v91 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v90), v90, v62), vbslq_s8(vcgtq_s64(v62, v88), v88, v62)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v86), v86, v62), vbslq_s8(vcgtq_s64(v62, v84), v84, v62))), v91));
    v91.i64[0] = 103 * v38;
    v36.i64[0] = 103 * v38;
    v36.i64[1] = 77 * v32;
    *(v7 + 32) = v78;
    *(v7 + 48) = v92;
    v78.i64[0] = 68 * v33;
    v78.i64[1] = 109 * v32;
    v92.i64[0] = 37 * v33;
    v92.i64[1] = 56 * v32;
    v43.i64[0] = 18 * v33;
    v43.i64[1] = 22 * v32;
    v93 = vaddq_s64(v43, v45);
    v94 = vaddq_s64(v92, v45);
    v95 = vaddq_s64(v78, v45);
    v96 = vaddq_s64(v36, v45);
    v96.i64[0] /= 100;
    v96.i64[1] /= 100;
    v95.i64[0] /= 100;
    v95.i64[1] /= 100;
    v94.i64[0] /= 100;
    v94.i64[1] /= 100;
    v93.i64[0] /= 100;
    v93.i64[1] /= 100;
    v97 = vcgtq_s64(v93, v52);
    v98 = vsubq_s64(vandq_s8(v93, v97), vmvnq_s8(v97));
    v99 = vcgtq_s64(v94, v52);
    v100 = vsubq_s64(vandq_s8(v94, v99), vmvnq_s8(v99));
    v101 = vcgtq_s64(v95, v52);
    v102 = vsubq_s64(vandq_s8(v95, v101), vmvnq_s8(v101));
    v103 = vcgtq_s64(v96, v52);
    v104 = vsubq_s64(vandq_s8(v96, v103), vmvnq_s8(v103));
    v105 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v43, v29), vcgtq_s64(v92, v29)), vuzp1q_s32(vcgtq_s64(v78, v29), vcgtq_s64(v36, v29)));
    v106 = vorrq_s8((*&v105 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v98), v98, v62), vbslq_s8(vcgtq_s64(v62, v100), v100, v62)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v102), v102, v62), vbslq_s8(vcgtq_s64(v62, v104), v104, v62))), v105));
    v36.i64[0] = 8 * v42;
    v36.i64[1] = 35 * v32;
    v92.i64[0] = 81 * v33;
    v92.i64[1] = 104 * v32;
    v43.i64[0] = 113 * v38;
    v43.i64[1] = 92 * v32;
    v98.i64[0] = 55 * v33;
    v98.i64[1] = v32 << 6;
    v107 = vaddq_s64(v43, v45);
    v108 = vaddq_s64(v92, v45);
    v109 = vaddq_s64(v36, v45);
    v109.i64[0] /= 100;
    v109.i64[1] /= 100;
    v108.i64[0] /= 100;
    v108.i64[1] /= 100;
    v107.i64[0] /= 100;
    v107.i64[1] /= 100;
    v110 = vaddq_s64(v98, v45);
    v110.i64[0] /= 100;
    v110.i64[1] /= 100;
    v111 = vcgtq_s64(v107, v52);
    v112 = vsubq_s64(vandq_s8(v107, v111), vmvnq_s8(v111));
    v113 = vcgtq_s64(v108, v52);
    v114 = vsubq_s64(vandq_s8(v108, v113), vmvnq_s8(v113));
    v115 = vcgtq_s64(v109, v52);
    v116 = vsubq_s64(vandq_s8(v109, v115), vmvnq_s8(v115));
    v117 = vcgtq_s64(v110, v52);
    v118 = vsubq_s64(vandq_s8(v110, v117), vmvnq_s8(v117));
    v119 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v36, v29), vcgtq_s64(v98, v29)), vuzp1q_s32(vcgtq_s64(v92, v29), vcgtq_s64(v43, v29)));
    *(v7 + 64) = v106;
    *(v7 + 80) = vorrq_s8((*&v119 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v116), v116, v62), vbslq_s8(vcgtq_s64(v62, v118), v118, v62)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v114), v114, v62), vbslq_s8(vcgtq_s64(v62, v112), v112, v62))), v119));
    v106.i64[0] = 78 * v33;
    v106.i64[1] = 87 * v32;
    v119.i64[0] = 103 * v33;
    v119.i64[1] = 121 * v32;
    v92.i64[0] = 120 * v38;
    v92.i64[1] = 101 * v32;
    v43.i64[0] = 49 * v33;
    v43.i64[1] = v32 << 6;
    v120 = vaddq_s64(v92, v45);
    v121 = vaddq_s64(v119, v45);
    v122 = vaddq_s64(v106, v45);
    v122.i64[0] /= 100;
    v122.i64[1] /= 100;
    v121.i64[0] /= 100;
    v121.i64[1] /= 100;
    v123 = vaddq_s64(v43, v45);
    v120.i64[0] /= 100;
    v120.i64[1] /= 100;
    v123.i64[0] /= 100;
    v123.i64[1] /= 100;
    v124 = vcgtq_s64(v120, v52);
    v125 = vsubq_s64(vandq_s8(v120, v124), vmvnq_s8(v124));
    v126 = vcgtq_s64(v121, v52);
    v127 = vsubq_s64(vandq_s8(v121, v126), vmvnq_s8(v126));
    v128 = vcgtq_s64(v122, v52);
    v129 = vsubq_s64(vandq_s8(v122, v128), vmvnq_s8(v128));
    v130 = vcgtq_s64(v123, v52);
    v131 = vsubq_s64(vandq_s8(v123, v130), vmvnq_s8(v130));
    v132 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v43, v29), vcgtq_s64(v106, v29)), vuzp1q_s32(vcgtq_s64(v119, v29), vcgtq_s64(v92, v29)));
    v133 = vorrq_s8((*&v132 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v131), v131, v62), vbslq_s8(vcgtq_s64(v62, v129), v129, v62)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v127), v127, v62), vbslq_s8(vcgtq_s64(v62, v125), v125, v62))), v132));
    v91.i64[1] = 99 * v32;
    v132.i64[0] = 112 * v33;
    v132.i64[1] = 100 * v32;
    v119.i64[0] = 95 * v33;
    v119.i64[1] = 98 * v32;
    *(v7 + 96) = v133;
    v133.i64[0] = 72 * v33;
    v133.i64[1] = 92 * v32;
    v134 = vaddq_s64(v133, v45);
    v135 = vaddq_s64(v132, v45);
    v136 = vaddq_s64(v91, v45);
    v136.i64[0] /= 100;
    v136.i64[1] /= 100;
    v135.i64[0] /= 100;
    v135.i64[1] /= 100;
    v137 = vaddq_s64(v119, v45);
    v137.i64[0] /= 100;
    v137.i64[1] /= 100;
    v134.i64[0] /= 100;
    v134.i64[1] /= 100;
    v138 = vcgtq_s64(v134, v52);
    v139 = vsubq_s64(vandq_s8(v134, v138), vmvnq_s8(v138));
    v140 = vcgtq_s64(v137, v52);
    v141 = vsubq_s64(vandq_s8(v137, v140), vmvnq_s8(v140));
    v142 = vcgtq_s64(v135, v52);
    v143 = vsubq_s64(vandq_s8(v135, v142), vmvnq_s8(v142));
    v144 = vcgtq_s64(v136, v52);
    v145 = vsubq_s64(vandq_s8(v136, v144), vmvnq_s8(v144));
    v146 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v133, v29), vcgtq_s64(v119, v29)), vuzp1q_s32(vcgtq_s64(v132, v29), vcgtq_s64(v91, v29)));
    *(v7 + 112) = vorrq_s8((*&v146 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v139), v139, v62), vbslq_s8(vcgtq_s64(v62, v141), v141, v62)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v62, v143), v143, v62), vbslq_s8(vcgtq_s64(v62, v145), v145, v62))), v146));
    *(v7 + 128) = 0;
    v147 = *(a1 + 148);
    v148 = *(a1 + 36);
    if (v148 == 100)
    {
      goto LABEL_8;
    }

    goto LABEL_7;
  }

  v218 = v8.i64[1];
  v219 = v8.i64[0];
  v220 = 16 * v8.i64[0];
  v221.i64[0] = 14 * v8.i64[0];
  v221.i64[1] = 19 * v8.i64[1];
  v222.i64[0] = 26 * v8.i64[0];
  v222.i64[1] = 58 * v8.i64[1];
  v223 = v8.i64[0];
  v224 = 4 * v8.i64[0];
  v225.i64[0] = 60 * v8.i64[0];
  v225.i64[1] = 55 * v8.i64[1];
  v226 = vuzp1q_s32(v26, v25);
  v227.i64[0] = 12 * v219;
  v227.i64[1] = 12 * v218;
  v228 = vdupq_n_s64(0x32uLL);
  v229 = vaddq_s64(v225, v228);
  v230 = vaddq_s64(v222, v228);
  v231 = vaddq_s64(v221, v228);
  v232 = vaddq_s64(v227, v228);
  v231.i64[0] /= 100;
  v231.i64[1] /= 100;
  v230.i64[0] /= 100;
  v230.i64[1] /= 100;
  v229.i64[0] /= 100;
  v229.i64[1] /= 100;
  v232.i64[0] /= 100;
  v232.i64[1] /= 100;
  v233 = vuzp1q_s16(vuzp1q_s32(v28, v27), v226);
  v234 = vdupq_n_s64(1uLL);
  v235 = vcgtq_s64(v229, v234);
  v236 = vsubq_s64(vandq_s8(v229, v235), vmvnq_s8(v235));
  v237 = vcgtq_s64(v230, v234);
  v238 = vsubq_s64(vandq_s8(v230, v237), vmvnq_s8(v237));
  v239 = vcgtq_s64(v231, v234);
  v240 = vsubq_s64(vandq_s8(v231, v239), vmvnq_s8(v239));
  v241 = vcgtq_s64(v232, v234);
  v242 = vsubq_s64(vandq_s8(v232, v241), vmvnq_s8(v241));
  v243 = vdupq_n_s64(0x7FFFuLL);
  *v7 = v233;
  *(v7 + 16) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v242), v242, v243), vbslq_s8(vcgtq_s64(v243, v240), v240, v243)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v238), v238, v243), vbslq_s8(vcgtq_s64(v243, v236), v236, v243)));
  v240.i64[0] = 14 * v219;
  v238.i64[0] = 14 * v219;
  v238.i64[1] = 13 * v218;
  v236.i64[0] = 69 * v223;
  v236.i64[1] = 56 * v218;
  v242.i64[0] = 40 * v219;
  v242.i64[1] = 57 * v218;
  v233.i64[0] = v220;
  v233.i64[1] = 24 * v218;
  v244 = vaddq_s64(v242, v228);
  v245 = vaddq_s64(v236, v228);
  v246 = vaddq_s64(v238, v228);
  v247 = vaddq_s64(v233, v228);
  v246.i64[0] /= 100;
  v246.i64[1] /= 100;
  v245.i64[0] /= 100;
  v245.i64[1] /= 100;
  v244.i64[0] /= 100;
  v244.i64[1] /= 100;
  v247.i64[0] /= 100;
  v247.i64[1] /= 100;
  v248 = vcgtq_s64(v244, v234);
  v249 = vsubq_s64(vandq_s8(v244, v248), vmvnq_s8(v248));
  v250 = vcgtq_s64(v245, v234);
  v251 = vsubq_s64(vandq_s8(v245, v250), vmvnq_s8(v250));
  v252 = vcgtq_s64(v246, v234);
  v253 = vsubq_s64(vandq_s8(v246, v252), vmvnq_s8(v252));
  v254 = vcgtq_s64(v247, v234);
  v255 = vsubq_s64(vandq_s8(v247, v254), vmvnq_s8(v254));
  v256 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v249), v249, v243), vbslq_s8(vcgtq_s64(v243, v251), v251, v243));
  v257 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v253), v253, v243), vbslq_s8(vcgtq_s64(v243, v255), v255, v243));
  v249.i64[0] = 22 * v219;
  v249.i64[1] = 29 * v218;
  v255.i64[0] = 51 * v219;
  v255.i64[1] = 87 * v218;
  v254.i64[0] = 16 * (v224 + v223);
  v254.i64[1] = 62 * v218;
  v258 = vuzp1q_s16(v257, v256);
  v240.i64[1] = 17 * v218;
  v259 = vaddq_s64(v254, v228);
  v260 = vaddq_s64(v255, v228);
  v261 = vaddq_s64(v249, v228);
  v262 = vaddq_s64(v240, v228);
  v261.i64[0] /= 100;
  v261.i64[1] /= 100;
  v260.i64[0] /= 100;
  v260.i64[1] /= 100;
  v259.i64[0] /= 100;
  v259.i64[1] /= 100;
  v262.i64[0] /= 100;
  v262.i64[1] /= 100;
  v263 = vcgtq_s64(v259, v234);
  v264 = vsubq_s64(vandq_s8(v259, v263), vmvnq_s8(v263));
  v265 = vcgtq_s64(v260, v234);
  v266 = vsubq_s64(vandq_s8(v260, v265), vmvnq_s8(v265));
  v267 = vcgtq_s64(v261, v234);
  v268 = vsubq_s64(vandq_s8(v261, v267), vmvnq_s8(v267));
  v269 = vcgtq_s64(v262, v234);
  v270 = vsubq_s64(vandq_s8(v262, v269), vmvnq_s8(v269));
  v271 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v270), v270, v243), vbslq_s8(vcgtq_s64(v243, v268), v268, v243)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v266), v266, v243), vbslq_s8(vcgtq_s64(v243, v264), v264, v243)));
  v270.i64[0] = 103 * v223;
  v268.i64[0] = 103 * v223;
  v268.i64[1] = 77 * v218;
  v266.i64[0] = 68 * v219;
  v266.i64[1] = 109 * v218;
  *(v7 + 32) = v258;
  *(v7 + 48) = v271;
  v258.i64[0] = 37 * v219;
  v258.i64[1] = 56 * v218;
  v271.i64[0] = 18 * v219;
  v271.i64[1] = 22 * v218;
  v272 = vaddq_s64(v271, v228);
  v273 = vaddq_s64(v258, v228);
  v274 = vaddq_s64(v266, v228);
  v275 = vaddq_s64(v268, v228);
  v275.i64[0] /= 100;
  v275.i64[1] /= 100;
  v274.i64[0] /= 100;
  v274.i64[1] /= 100;
  v273.i64[0] /= 100;
  v273.i64[1] /= 100;
  v272.i64[0] /= 100;
  v272.i64[1] /= 100;
  v276 = vcgtq_s64(v272, v234);
  v277 = vsubq_s64(vandq_s8(v272, v276), vmvnq_s8(v276));
  v278 = vcgtq_s64(v273, v234);
  v279 = vsubq_s64(vandq_s8(v273, v278), vmvnq_s8(v278));
  v280 = vcgtq_s64(v274, v234);
  v281 = vsubq_s64(vandq_s8(v274, v280), vmvnq_s8(v280));
  v282 = vcgtq_s64(v275, v234);
  v283 = vsubq_s64(vandq_s8(v275, v282), vmvnq_s8(v282));
  v284 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v277), v277, v243), vbslq_s8(vcgtq_s64(v243, v279), v279, v243)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v281), v281, v243), vbslq_s8(vcgtq_s64(v243, v283), v283, v243)));
  v277.i64[0] = 24 * v219;
  v277.i64[1] = 35 * v218;
  v283.i64[0] = 81 * v219;
  v283.i64[1] = 104 * v218;
  v281.i64[0] = 113 * v223;
  v281.i64[1] = 92 * v218;
  v282.i64[0] = 55 * v219;
  v282.i64[1] = v218 << 6;
  v285 = vaddq_s64(v281, v228);
  v286 = vaddq_s64(v283, v228);
  v287 = vaddq_s64(v277, v228);
  v287.i64[0] /= 100;
  v287.i64[1] /= 100;
  v286.i64[0] /= 100;
  v286.i64[1] /= 100;
  v285.i64[0] /= 100;
  v285.i64[1] /= 100;
  v288 = vaddq_s64(v282, v228);
  v288.i64[0] /= 100;
  v288.i64[1] /= 100;
  v289 = vcgtq_s64(v285, v234);
  v290 = vsubq_s64(vandq_s8(v285, v289), vmvnq_s8(v289));
  v291 = vcgtq_s64(v286, v234);
  v292 = vsubq_s64(vandq_s8(v286, v291), vmvnq_s8(v291));
  v293 = vcgtq_s64(v287, v234);
  v294 = vsubq_s64(vandq_s8(v287, v293), vmvnq_s8(v293));
  v295 = vcgtq_s64(v288, v234);
  v296 = vsubq_s64(vandq_s8(v288, v295), vmvnq_s8(v295));
  v297 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v294), v294, v243), vbslq_s8(vcgtq_s64(v243, v296), v296, v243)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v292), v292, v243), vbslq_s8(vcgtq_s64(v243, v290), v290, v243)));
  v292.i64[0] = 78 * v219;
  v292.i64[1] = 87 * v218;
  v290.i64[0] = 103 * v219;
  v290.i64[1] = 121 * v218;
  v296.i64[0] = 120 * v223;
  v296.i64[1] = 101 * v218;
  v295.i64[0] = 49 * v219;
  v295.i64[1] = v218 << 6;
  v298 = vaddq_s64(v296, v228);
  v299 = vaddq_s64(v290, v228);
  v300 = vaddq_s64(v292, v228);
  v300.i64[0] /= 100;
  v300.i64[1] /= 100;
  v299.i64[0] /= 100;
  v299.i64[1] /= 100;
  v301 = vaddq_s64(v295, v228);
  v298.i64[0] /= 100;
  v298.i64[1] /= 100;
  v301.i64[0] /= 100;
  v301.i64[1] /= 100;
  *(v7 + 64) = v284;
  *(v7 + 80) = v297;
  v302 = vcgtq_s64(v298, v234);
  v303 = vsubq_s64(vandq_s8(v298, v302), vmvnq_s8(v302));
  v304 = vcgtq_s64(v299, v234);
  v305 = vsubq_s64(vandq_s8(v299, v304), vmvnq_s8(v304));
  v306 = vcgtq_s64(v300, v234);
  v307 = vsubq_s64(vandq_s8(v300, v306), vmvnq_s8(v306));
  v308 = vcgtq_s64(v301, v234);
  v309 = vsubq_s64(vandq_s8(v301, v308), vmvnq_s8(v308));
  *(v7 + 96) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v309), v309, v243), vbslq_s8(vcgtq_s64(v243, v307), v307, v243)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v305), v305, v243), vbslq_s8(vcgtq_s64(v243, v303), v303, v243)));
  v270.i64[1] = 99 * v218;
  v303.i64[0] = 112 * v219;
  v303.i64[1] = 100 * v218;
  v305.i64[0] = 95 * v219;
  v305.i64[1] = 98 * v218;
  v307.i64[0] = 72 * v219;
  v307.i64[1] = 92 * v218;
  v310 = vaddq_s64(v305, v228);
  v311 = vaddq_s64(v303, v228);
  v312 = vaddq_s64(v270, v228);
  v312.i64[0] /= 100;
  v312.i64[1] /= 100;
  v311.i64[0] /= 100;
  v311.i64[1] /= 100;
  v310.i64[0] /= 100;
  v310.i64[1] /= 100;
  v313 = vaddq_s64(v307, v228);
  v313.i64[0] /= 100;
  v313.i64[1] /= 100;
  v314 = vcgtq_s64(v313, v234);
  v315 = vsubq_s64(vandq_s8(v313, v314), vmvnq_s8(v314));
  v316 = vcgtq_s64(v310, v234);
  v317 = vsubq_s64(vandq_s8(v310, v316), vmvnq_s8(v316));
  v318 = vcgtq_s64(v311, v234);
  v319 = vsubq_s64(vandq_s8(v311, v318), vmvnq_s8(v318));
  v320 = vcgtq_s64(v312, v234);
  v321 = vsubq_s64(vandq_s8(v312, v320), vmvnq_s8(v320));
  *(v7 + 112) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v315), v315, v243), vbslq_s8(vcgtq_s64(v243, v317), v317, v243)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v243, v319), v319, v243), vbslq_s8(vcgtq_s64(v243, v321), v321, v243)));
  *(v7 + 128) = 0;
  v147 = *(a1 + 148);
  v148 = *(a1 + 36);
  if (v148 != 100)
  {
LABEL_7:
    v149 = *a1;
    *(v149 + 10) = 21;
    *(v149 + 11) = v148;
    (**a1)(a1);
  }

LABEL_8:
  result = *(a1 + 120);
  if (!result)
  {
    result = sub_10039D494(a1);
    *(a1 + 120) = result;
  }

  v151 = vdupq_n_s64(v147);
  v152 = vdup_n_s32(v147);
  v153 = vdupq_n_s64(0x32uLL);
  v154 = vmlal_s32(v153, v152, 0x1200000011);
  v155 = vmlal_s32(v153, v152, 0x2F00000018);
  v156 = vmlal_s32(v153, v152, 0x6300000063);
  v156.i64[0] /= 100;
  v156.i64[1] /= 100;
  v155.i64[0] /= 100;
  v155.i64[1] /= 100;
  v154.i64[0] /= 100;
  v154.i64[1] /= 100;
  v157 = vdupq_n_s64(1uLL);
  v158 = vcgtq_s64(v154, v157);
  v159 = vsubq_s64(vandq_s8(v154, v158), vmvnq_s8(v158));
  v160 = vcgtq_s64(v155, v157);
  v161 = vsubq_s64(vandq_s8(v155, v160), vmvnq_s8(v160));
  v162 = vcgtq_s64(v156, v157);
  v163 = vsubq_s64(vandq_s8(v156, v162), vmvnq_s8(v162));
  v164 = vdupq_n_s64(0x7FFFuLL);
  v165 = vbslq_s8(vcgtq_s64(v164, v163), v163, v164);
  v166 = vbslq_s8(vcgtq_s64(v164, v161), v161, v164);
  v167 = vbslq_s8(vcgtq_s64(v164, v159), v159, v164);
  if (a2)
  {
    v168 = vdupq_n_s64(0x63CDuLL);
    v169 = vcgtq_s64(vmull_s32(v152, 0x6300000063), v168);
    v170 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(vmull_s32(v152, 0x1200000011), v168), vcgtq_s64(vmull_s32(v152, 0x2F00000018), v168)), vuzp1q_s32(v169, v169));
    v171 = vorrq_s8((*&v170 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(v167, v166), vuzp1q_s32(v165, v165)), v170));
    v172.i64[0] = 18 * v151.i64[0];
    v172.i64[1] = 21 * v151.i64[1];
    v173.i64[0] = 99 * v151.i64[0];
    v173.i64[1] = 99 * v151.i64[1];
    v174.i64[0] = 99 * v151.i64[0];
    v174.i64[1] = 99 * v151.i64[1];
    v175.i64[0] = 26 * v151.i64[0];
    v175.i64[1] = 66 * v151.i64[1];
    v176 = vdupq_n_s64(0x32uLL);
    v177 = vaddq_s64(v174, v176);
    v178 = vaddq_s64(v173, v176);
    v179 = vaddq_s64(v172, v176);
    v180 = vaddq_s64(v175, v176);
    v179.i64[0] /= 100;
    v179.i64[1] /= 100;
    v178.i64[0] /= 100;
    v178.i64[1] /= 100;
    v181.i64[0] = v177.i64[0] / 100;
    v181.i64[1] = v177.i64[1] / 100;
    v180.i64[0] /= 100;
    v180.i64[1] /= 100;
    v182 = vdupq_n_s64(1uLL);
    v183 = vcgtq_s64(v181, v182);
    v184 = vsubq_s64(vandq_s8(v181, v183), vmvnq_s8(v183));
    v185 = vcgtq_s64(v178, v182);
    v186 = vsubq_s64(vandq_s8(v178, v185), vmvnq_s8(v185));
    v187 = vcgtq_s64(v179, v182);
    v188 = vsubq_s64(vandq_s8(v179, v187), vmvnq_s8(v187));
    v189 = vcgtq_s64(v180, v182);
    v190 = vsubq_s64(vandq_s8(v180, v189), vmvnq_s8(v189));
    v191 = vdupq_n_s64(0x7FFFuLL);
    v192 = vuzp1q_s32(vcgtq_s64(v173, v168), vcgtq_s64(v174, v168));
    v193 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v172, v168), vcgtq_s64(v175, v168)), v192);
    v194 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v191, v186), v186, v191), vbslq_s8(vcgtq_s64(v191, v184), v184, v191));
    *result = v171;
    *(result + 16) = vorrq_s8((*&v193 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v191, v188), v188, v191), vbslq_s8(vcgtq_s64(v191, v190), v190, v191)), v194), v193));
    v171.i64[0] = 24 * v151.i64[0];
    v171.i64[1] = 26 * v151.i64[1];
    v193.i64[0] = 56 * v151.i64[0];
    v193.i64[1] = 99 * v151.i64[1];
    v195 = vaddq_s64(v193, v176);
    v196 = vaddq_s64(v171, v176);
    v196.i64[0] /= 100;
    v196.i64[1] /= 100;
    v195.i64[0] /= 100;
    v195.i64[1] /= 100;
    v197 = vcgtq_s64(v195, v182);
    v198 = vsubq_s64(vandq_s8(v195, v197), vmvnq_s8(v197));
    v199 = vcgtq_s64(v196, v182);
    v200 = vsubq_s64(vandq_s8(v196, v199), vmvnq_s8(v199));
    v201 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v171, v168), vcgtq_s64(v193, v168)), v192);
    v202 = vorrq_s8((*&v201 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v191, v200), v200, v191), vbslq_s8(vcgtq_s64(v191, v198), v198, v191)), v194), v201));
    v193.i64[0] = 99 * v151.i64[0];
    v193.i64[1] = 99 * v151.i64[1];
    v198.i64[0] = 47 * v151.i64[0];
    v198.i64[1] = 66 * v151.i64[1];
    v203 = vaddq_s64(v193, v176);
    v204 = vaddq_s64(v198, v176);
    v203.i64[0] /= 100;
    v203.i64[1] /= 100;
    v204.i64[0] /= 100;
    v204.i64[1] /= 100;
    v205 = vcgtq_s64(v203, v182);
    v206 = vsubq_s64(vandq_s8(v203, v205), vmvnq_s8(v205));
    v207 = vcgtq_s64(v204, v182);
    v208 = vsubq_s64(vandq_s8(v204, v207), vmvnq_s8(v207));
    v209 = vbslq_s8(vcgtq_s64(v191, v206), v206, v191);
    v210 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v198, v168), vcgtq_s64(v193, v168)), v192);
    v192.i64[0] = 99 * v151.i64[0];
    v192.i64[1] = 99 * v151.i64[1];
    *(result + 32) = v202;
    *(result + 48) = vorrq_s8((*&v210 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v191, v208), v208, v191), v209), v194), v210));
    v211 = vaddq_s64(v192, v176);
    v211.i64[0] /= 100;
    v211.i64[1] /= 100;
    v212 = vcgtq_s64(v211, v182);
    v213 = vsubq_s64(vandq_s8(v211, v212), vmvnq_s8(v212));
    v214 = vcgtq_s64(v151, vdupq_n_s64(0x102uLL));
    v215 = vuzp1q_s32(v214, v214);
    v216 = vuzp1q_s16(v215, v215);
    v217 = vorrq_s8((*&v216 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v191, v213), v213, v191), v209), v194), v216));
  }

  else
  {
    v322 = v151.i64[1];
    v323 = v151.i64[0];
    v324.i64[0] = 18 * v151.i64[0];
    v324.i64[1] = 21 * v151.i64[1];
    v325 = 99 * v151.i64[1];
    v326.i64[0] = 99 * v151.i64[0];
    v326.i64[1] = 99 * v151.i64[1];
    v327 = vuzp1q_s32(v165, v165);
    v328.i64[0] = 99 * v151.i64[0];
    v328.i64[1] = 99 * v151.i64[1];
    v329 = vuzp1q_s16(vuzp1q_s32(v167, v166), v327);
    v330.i64[0] = 26 * v151.i64[0];
    v331 = 66 * v151.i64[1];
    v330.i64[1] = 66 * v151.i64[1];
    v332 = vdupq_n_s64(0x32uLL);
    v333 = vaddq_s64(v328, v332);
    v334 = vaddq_s64(v326, v332);
    v335 = vaddq_s64(v324, v332);
    v335.i64[0] /= 100;
    v335.i64[1] /= 100;
    v334.i64[0] /= 100;
    v334.i64[1] /= 100;
    v336 = vaddq_s64(v330, v332);
    v333.i64[0] /= 100;
    v333.i64[1] /= 100;
    v337.i64[0] = v336.i64[0] / 100;
    v337.i64[1] = v336.i64[1] / 100;
    v338 = vdupq_n_s64(1uLL);
    v339 = vcgtq_s64(v333, v338);
    v340 = vsubq_s64(vandq_s8(v333, v339), vmvnq_s8(v339));
    v341 = vcgtq_s64(v334, v338);
    v342 = vsubq_s64(vandq_s8(v334, v341), vmvnq_s8(v341));
    v343 = vcgtq_s64(v335, v338);
    v344 = vsubq_s64(vandq_s8(v335, v343), vmvnq_s8(v343));
    v345 = vcgtq_s64(v337, v338);
    v346 = vsubq_s64(vandq_s8(v337, v345), vmvnq_s8(v345));
    v347 = vdupq_n_s64(0x7FFFuLL);
    v348 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v347, v342), v342, v347), vbslq_s8(vcgtq_s64(v347, v340), v340, v347));
    *result = v329;
    *(result + 16) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v347, v344), v344, v347), vbslq_s8(vcgtq_s64(v347, v346), v346, v347)), v348);
    v329.i64[0] = 24 * v323;
    v329.i64[1] = 26 * v322;
    v340.i64[0] = 56 * v323;
    v340.i64[1] = v325;
    v349 = vaddq_s64(v329, v332);
    v349.i64[0] /= 100;
    v349.i64[1] /= 100;
    v350 = vaddq_s64(v340, v332);
    v350.i64[0] /= 100;
    v350.i64[1] /= 100;
    v351 = vcgtq_s64(v350, v338);
    v352 = vsubq_s64(vandq_s8(v350, v351), vmvnq_s8(v351));
    v353 = vcgtq_s64(v349, v338);
    v354 = vsubq_s64(vandq_s8(v349, v353), vmvnq_s8(v353));
    v355 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v347, v354), v354, v347), vbslq_s8(vcgtq_s64(v347, v352), v352, v347)), v348);
    v352.i64[0] = 99 * v323;
    v352.i64[1] = v325;
    v353.i64[0] = 47 * v323;
    v353.i64[1] = v331;
    v356 = vaddq_s64(v352, v332);
    v357 = vaddq_s64(v353, v332);
    v356.i64[0] /= 100;
    v356.i64[1] /= 100;
    v357.i64[0] /= 100;
    v357.i64[1] /= 100;
    v358 = vcgtq_s64(v356, v338);
    v359 = vsubq_s64(vandq_s8(v356, v358), vmvnq_s8(v358));
    v360 = vcgtq_s64(v357, v338);
    v361 = vsubq_s64(vandq_s8(v357, v360), vmvnq_s8(v360));
    v362 = vbslq_s8(vcgtq_s64(v347, v359), v359, v347);
    v360.i64[0] = 99 * v323;
    v360.i64[1] = v325;
    v363 = vaddq_s64(v360, v332);
    v363.i64[0] /= 100;
    v363.i64[1] /= 100;
    *(result + 32) = v355;
    *(result + 48) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v347, v361), v361, v347), v362), v348);
    v364 = vcgtq_s64(v363, v338);
    v365 = vsubq_s64(vandq_s8(v363, v364), vmvnq_s8(v364));
    v217 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v347, v365), v365, v347), v362), v348);
  }

  *(result + 64) = v217;
  *(result + 80) = v217;
  *(result + 96) = v217;
  *(result + 112) = v217;
  *(result + 128) = 0;
  return result;
}

uint64_t sub_10039F838(uint64_t a1, signed int a2, int a3)
{
  v6 = *(a1 + 36);
  if (v6 != 100)
  {
    v7 = *a1;
    *(v7 + 10) = 21;
    *(v7 + 11) = v6;
    (**a1)(a1);
  }

  v8 = *(a1 + 112);
  if (!v8)
  {
    v8 = sub_10039D494(a1);
    *(a1 + 112) = v8;
  }

  v9 = vdupq_n_s64(a2);
  v10 = vdup_n_s32(a2);
  v11 = vdupq_n_s64(0x32uLL);
  v12 = vmlal_s32(v11, v10, 0x100000000ALL);
  v13 = vmlal_s32(v11, v10, 0x3D00000033);
  v14 = vmlal_s32(v11, v10, 0x2800000018);
  v13.i64[0] /= 100;
  v13.i64[1] /= 100;
  v14.i64[0] /= 100;
  v14.i64[1] /= 100;
  v12.i64[0] /= 100;
  v12.i64[1] /= 100;
  v15 = vmlal_s32(v11, v10, 0xB00000010);
  v15.i64[0] /= 100;
  v15.i64[1] /= 100;
  v16 = vdupq_n_s64(1uLL);
  v17 = vcgtq_s64(v15, v16);
  v18 = vsubq_s64(vandq_s8(v15, v17), vmvnq_s8(v17));
  v19 = vcgtq_s64(v12, v16);
  v20 = vsubq_s64(vandq_s8(v12, v19), vmvnq_s8(v19));
  v21 = vcgtq_s64(v14, v16);
  v22 = vsubq_s64(vandq_s8(v14, v21), vmvnq_s8(v21));
  v23 = vcgtq_s64(v13, v16);
  v24 = vsubq_s64(vandq_s8(v13, v23), vmvnq_s8(v23));
  v25 = vdupq_n_s64(0x7FFFuLL);
  v26 = vbslq_s8(vcgtq_s64(v25, v24), v24, v25);
  v27 = vbslq_s8(vcgtq_s64(v25, v22), v22, v25);
  v28 = vbslq_s8(vcgtq_s64(v25, v20), v20, v25);
  v29 = vbslq_s8(vcgtq_s64(v25, v18), v18, v25);
  v30 = v9.i64[1];
  if (a3)
  {
    v31 = vmull_s32(v10, 0x3D00000033);
    v32 = vmull_s32(v10, 0x2800000018);
    v33 = vmull_s32(v10, 0x100000000ALL);
    v34 = vmull_s32(v10, 0xB00000010);
    v35 = vdupq_n_s64(0x63CDuLL);
    v36 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v34, v35), vcgtq_s64(v33, v35)), vuzp1q_s32(vcgtq_s64(v32, v35), vcgtq_s64(v31, v35)));
    v37 = vbicq_s8(vuzp1q_s16(vuzp1q_s32(v29, v28), vuzp1q_s32(v27, v26)), v36);
    v34.i64[0] = 14 * v9.i64[0];
    v34.i64[1] = 19 * v9.i64[1];
    v38.i64[0] = 26 * v9.i64[0];
    v38.i64[1] = 58 * v9.i64[1];
    v39 = vorrq_s8((*&v36 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), v37);
    v40.i64[0] = 60 * v9.i64[0];
    v40.i64[1] = 55 * v9.i64[1];
    v41.i64[0] = 12 * v9.i64[0];
    v41.i64[1] = 12 * v9.i64[1];
    v42 = vdupq_n_s64(0x32uLL);
    v43 = vaddq_s64(v40, v42);
    v44 = vaddq_s64(v38, v42);
    v45 = vaddq_s64(v34, v42);
    v45.i64[0] /= 100;
    v45.i64[1] /= 100;
    v44.i64[0] /= 100;
    v44.i64[1] /= 100;
    v46.i64[0] = v43.i64[0] / 100;
    v46.i64[1] = v43.i64[1] / 100;
    v47 = vaddq_s64(v41, v42);
    v48.i64[0] = v47.i64[0] / 100;
    v48.i64[1] = v47.i64[1] / 100;
    v49 = vdupq_n_s64(1uLL);
    v50 = vcgtq_s64(v46, v49);
    v51 = vsubq_s64(vandq_s8(v46, v50), vmvnq_s8(v50));
    v52 = vcgtq_s64(v44, v49);
    v53 = vsubq_s64(vandq_s8(v44, v52), vmvnq_s8(v52));
    v54 = vcgtq_s64(v45, v49);
    v55 = vsubq_s64(vandq_s8(v45, v54), vmvnq_s8(v54));
    v56 = vcgtq_s64(v48, v49);
    v57 = vandq_s8(v48, v56);
    v58 = vmvnq_s8(v56);
    v59 = vdupq_n_s64(0x7FFFuLL);
    v60 = vsubq_s64(v57, v58);
    v61 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v41, v35), vcgtq_s64(v34, v35)), vuzp1q_s32(vcgtq_s64(v38, v35), vcgtq_s64(v40, v35)));
    *v8 = v39;
    *(v8 + 16) = vorrq_s8((*&v61 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v60), v60, v59), vbslq_s8(vcgtq_s64(v59, v55), v55, v59)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v53), v53, v59), vbslq_s8(vcgtq_s64(v59, v51), v51, v59))), v61));
    v61.i64[0] = 14 * v9.i64[0];
    v39.i64[0] = 14 * v9.i64[0];
    v39.i64[1] = 13 * v9.i64[1];
    v38.i64[0] = 69 * v9.i64[0];
    v38.i64[1] = 56 * v9.i64[1];
    v40.i64[0] = 40 * v9.i64[0];
    v40.i64[1] = 57 * v9.i64[1];
    v41.i64[0] = 16 * v9.i64[0];
    v41.i64[1] = 24 * v9.i64[1];
    v62 = vaddq_s64(v40, v42);
    v63 = vaddq_s64(v38, v42);
    v64 = vaddq_s64(v39, v42);
    v65 = vaddq_s64(v41, v42);
    v64.i64[0] /= 100;
    v64.i64[1] /= 100;
    v63.i64[0] /= 100;
    v63.i64[1] /= 100;
    v62.i64[0] /= 100;
    v62.i64[1] /= 100;
    v65.i64[0] /= 100;
    v65.i64[1] /= 100;
    v66 = vcgtq_s64(v62, v49);
    v67 = vsubq_s64(vandq_s8(v62, v66), vmvnq_s8(v66));
    v68 = vcgtq_s64(v63, v49);
    v69 = vsubq_s64(vandq_s8(v63, v68), vmvnq_s8(v68));
    v70 = vcgtq_s64(v64, v49);
    v71 = vsubq_s64(vandq_s8(v64, v70), vmvnq_s8(v70));
    v72 = vcgtq_s64(v65, v49);
    v73 = vsubq_s64(vandq_s8(v65, v72), vmvnq_s8(v72));
    v74 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v39, v35), vcgtq_s64(v41, v35)), vuzp1q_s32(vcgtq_s64(v40, v35), vcgtq_s64(v38, v35)));
    v75 = vorrq_s8((*&v74 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v71), v71, v59), vbslq_s8(vcgtq_s64(v59, v73), v73, v59)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v67), v67, v59), vbslq_s8(vcgtq_s64(v59, v69), v69, v59))), v74));
    v38.i64[0] = 22 * v9.i64[0];
    v38.i64[1] = 29 * v9.i64[1];
    v40.i64[0] = 51 * v9.i64[0];
    v40.i64[1] = 87 * v9.i64[1];
    v41.i64[0] = 80 * v9.i64[0];
    v41.i64[1] = 62 * v9.i64[1];
    v61.i64[1] = 17 * v9.i64[1];
    v76 = vaddq_s64(v41, v42);
    v77 = vaddq_s64(v40, v42);
    v78 = vaddq_s64(v38, v42);
    v79 = vaddq_s64(v61, v42);
    v78.i64[0] /= 100;
    v78.i64[1] /= 100;
    v77.i64[0] /= 100;
    v77.i64[1] /= 100;
    v76.i64[0] /= 100;
    v76.i64[1] /= 100;
    v79.i64[0] /= 100;
    v79.i64[1] /= 100;
    v80 = vcgtq_s64(v76, v49);
    v81 = vsubq_s64(vandq_s8(v76, v80), vmvnq_s8(v80));
    v82 = vcgtq_s64(v77, v49);
    v83 = vsubq_s64(vandq_s8(v77, v82), vmvnq_s8(v82));
    v84 = vcgtq_s64(v78, v49);
    v85 = vsubq_s64(vandq_s8(v78, v84), vmvnq_s8(v84));
    v86 = vcgtq_s64(v79, v49);
    v87 = vsubq_s64(vandq_s8(v79, v86), vmvnq_s8(v86));
    v88 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v61, v35), vcgtq_s64(v38, v35)), vuzp1q_s32(vcgtq_s64(v40, v35), vcgtq_s64(v41, v35)));
    v89 = vorrq_s8((*&v88 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v87), v87, v59), vbslq_s8(vcgtq_s64(v59, v85), v85, v59)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v83), v83, v59), vbslq_s8(vcgtq_s64(v59, v81), v81, v59))), v88));
    v88.i64[0] = 103 * v9.i64[0];
    v38.i64[0] = 103 * v9.i64[0];
    v38.i64[1] = 77 * v9.i64[1];
    *(v8 + 32) = v75;
    *(v8 + 48) = v89;
    v75.i64[0] = 68 * v9.i64[0];
    v75.i64[1] = 109 * v9.i64[1];
    v89.i64[0] = 37 * v9.i64[0];
    v89.i64[1] = 56 * v9.i64[1];
    v41.i64[0] = 18 * v9.i64[0];
    v41.i64[1] = 22 * v9.i64[1];
    v90 = vaddq_s64(v41, v42);
    v91 = vaddq_s64(v89, v42);
    v92 = vaddq_s64(v75, v42);
    v93 = vaddq_s64(v38, v42);
    v93.i64[0] /= 100;
    v93.i64[1] /= 100;
    v92.i64[0] /= 100;
    v92.i64[1] /= 100;
    v91.i64[0] /= 100;
    v91.i64[1] /= 100;
    v90.i64[0] /= 100;
    v90.i64[1] /= 100;
    v94 = vcgtq_s64(v90, v49);
    v95 = vsubq_s64(vandq_s8(v90, v94), vmvnq_s8(v94));
    v96 = vcgtq_s64(v91, v49);
    v97 = vsubq_s64(vandq_s8(v91, v96), vmvnq_s8(v96));
    v98 = vcgtq_s64(v92, v49);
    v99 = vsubq_s64(vandq_s8(v92, v98), vmvnq_s8(v98));
    v100 = vcgtq_s64(v93, v49);
    v101 = vsubq_s64(vandq_s8(v93, v100), vmvnq_s8(v100));
    v102 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v41, v35), vcgtq_s64(v89, v35)), vuzp1q_s32(vcgtq_s64(v75, v35), vcgtq_s64(v38, v35)));
    v103 = vorrq_s8((*&v102 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v95), v95, v59), vbslq_s8(vcgtq_s64(v59, v97), v97, v59)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v99), v99, v59), vbslq_s8(vcgtq_s64(v59, v101), v101, v59))), v102));
    v38.i64[0] = 24 * v9.i64[0];
    v38.i64[1] = 35 * v9.i64[1];
    v89.i64[0] = 81 * v9.i64[0];
    v89.i64[1] = 104 * v9.i64[1];
    v41.i64[0] = 113 * v9.i64[0];
    v41.i64[1] = 92 * v9.i64[1];
    v95.i64[0] = 55 * v9.i64[0];
    v95.i64[1] = v9.i64[1] << 6;
    v104 = vaddq_s64(v41, v42);
    v105 = vaddq_s64(v89, v42);
    v106 = vaddq_s64(v38, v42);
    v106.i64[0] /= 100;
    v106.i64[1] /= 100;
    v105.i64[0] /= 100;
    v105.i64[1] /= 100;
    v104.i64[0] /= 100;
    v104.i64[1] /= 100;
    v107 = vaddq_s64(v95, v42);
    v107.i64[0] /= 100;
    v107.i64[1] /= 100;
    v108 = vcgtq_s64(v104, v49);
    v109 = vsubq_s64(vandq_s8(v104, v108), vmvnq_s8(v108));
    v110 = vcgtq_s64(v105, v49);
    v111 = vsubq_s64(vandq_s8(v105, v110), vmvnq_s8(v110));
    v112 = vcgtq_s64(v106, v49);
    v113 = vsubq_s64(vandq_s8(v106, v112), vmvnq_s8(v112));
    v114 = vcgtq_s64(v107, v49);
    v115 = vsubq_s64(vandq_s8(v107, v114), vmvnq_s8(v114));
    v116 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v38, v35), vcgtq_s64(v95, v35)), vuzp1q_s32(vcgtq_s64(v89, v35), vcgtq_s64(v41, v35)));
    *(v8 + 64) = v103;
    *(v8 + 80) = vorrq_s8((*&v116 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v113), v113, v59), vbslq_s8(vcgtq_s64(v59, v115), v115, v59)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v111), v111, v59), vbslq_s8(vcgtq_s64(v59, v109), v109, v59))), v116));
    v103.i64[0] = 78 * v9.i64[0];
    v103.i64[1] = 87 * v9.i64[1];
    v116.i64[0] = 103 * v9.i64[0];
    v116.i64[1] = 121 * v9.i64[1];
    v89.i64[0] = 120 * v9.i64[0];
    v89.i64[1] = 101 * v9.i64[1];
    v41.i64[0] = 49 * v9.i64[0];
    v41.i64[1] = v9.i64[1] << 6;
    v117 = vaddq_s64(v89, v42);
    v118 = vaddq_s64(v116, v42);
    v119 = vaddq_s64(v103, v42);
    v119.i64[0] /= 100;
    v119.i64[1] /= 100;
    v118.i64[0] /= 100;
    v118.i64[1] /= 100;
    v120 = vaddq_s64(v41, v42);
    v117.i64[0] /= 100;
    v117.i64[1] /= 100;
    v120.i64[0] /= 100;
    v120.i64[1] /= 100;
    v121 = vcgtq_s64(v117, v49);
    v122 = vsubq_s64(vandq_s8(v117, v121), vmvnq_s8(v121));
    v123 = vcgtq_s64(v118, v49);
    v124 = vsubq_s64(vandq_s8(v118, v123), vmvnq_s8(v123));
    v125 = vcgtq_s64(v119, v49);
    v126 = vsubq_s64(vandq_s8(v119, v125), vmvnq_s8(v125));
    v127 = vcgtq_s64(v120, v49);
    v128 = vsubq_s64(vandq_s8(v120, v127), vmvnq_s8(v127));
    v129 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v41, v35), vcgtq_s64(v103, v35)), vuzp1q_s32(vcgtq_s64(v116, v35), vcgtq_s64(v89, v35)));
    v130 = vorrq_s8((*&v129 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v128), v128, v59), vbslq_s8(vcgtq_s64(v59, v126), v126, v59)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v124), v124, v59), vbslq_s8(vcgtq_s64(v59, v122), v122, v59))), v129));
    v88.i64[1] = 99 * v9.i64[1];
    v129.i64[0] = 112 * v9.i64[0];
    v129.i64[1] = 100 * v9.i64[1];
    v116.i64[0] = 95 * v9.i64[0];
    v116.i64[1] = 98 * v9.i64[1];
    *(v8 + 96) = v130;
    v130.i64[0] = 72 * v9.i64[0];
    v130.i64[1] = 92 * v9.i64[1];
    v131 = vaddq_s64(v130, v42);
    v132 = vaddq_s64(v129, v42);
    v133 = vaddq_s64(v88, v42);
    v133.i64[0] /= 100;
    v133.i64[1] /= 100;
    v132.i64[0] /= 100;
    v132.i64[1] /= 100;
    v134 = vaddq_s64(v116, v42);
    v134.i64[0] /= 100;
    v134.i64[1] /= 100;
    v131.i64[0] /= 100;
    v131.i64[1] /= 100;
    v135 = vcgtq_s64(v131, v49);
    v136 = vsubq_s64(vandq_s8(v131, v135), vmvnq_s8(v135));
    v137 = vcgtq_s64(v134, v49);
    v138 = vsubq_s64(vandq_s8(v134, v137), vmvnq_s8(v137));
    v139 = vcgtq_s64(v132, v49);
    v140 = vsubq_s64(vandq_s8(v132, v139), vmvnq_s8(v139));
    v141 = vcgtq_s64(v133, v49);
    v142 = vsubq_s64(vandq_s8(v133, v141), vmvnq_s8(v141));
    v143 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v130, v35), vcgtq_s64(v116, v35)), vuzp1q_s32(vcgtq_s64(v129, v35), vcgtq_s64(v88, v35)));
    *(v8 + 112) = vorrq_s8((*&v143 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v136), v136, v59), vbslq_s8(vcgtq_s64(v59, v138), v138, v59)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v59, v140), v140, v59), vbslq_s8(vcgtq_s64(v59, v142), v142, v59))), v143));
    *(v8 + 128) = 0;
    v144 = *(a1 + 36);
    if (v144 == 100)
    {
      goto LABEL_8;
    }

    goto LABEL_7;
  }

  v219 = vuzp1q_s32(v29, v28);
  v220.i64[0] = 14 * v9.i64[0];
  v220.i64[1] = 19 * v9.i64[1];
  v221.i64[0] = 26 * v9.i64[0];
  v221.i64[1] = 58 * v9.i64[1];
  v222.i64[0] = 60 * v9.i64[0];
  v222.i64[1] = 55 * v9.i64[1];
  v223 = vuzp1q_s32(v27, v26);
  v224.i64[0] = 12 * v9.i64[0];
  v224.i64[1] = 12 * v9.i64[1];
  v225 = vdupq_n_s64(0x32uLL);
  v226 = vaddq_s64(v222, v225);
  v227 = vaddq_s64(v221, v225);
  v228 = vaddq_s64(v220, v225);
  v229 = vaddq_s64(v224, v225);
  v228.i64[0] /= 100;
  v228.i64[1] /= 100;
  v227.i64[0] /= 100;
  v227.i64[1] /= 100;
  v226.i64[0] /= 100;
  v226.i64[1] /= 100;
  v229.i64[0] /= 100;
  v229.i64[1] /= 100;
  v230 = vuzp1q_s16(v219, v223);
  v231 = vdupq_n_s64(1uLL);
  v232 = vcgtq_s64(v226, v231);
  v233 = vsubq_s64(vandq_s8(v226, v232), vmvnq_s8(v232));
  v234 = vcgtq_s64(v227, v231);
  v235 = vsubq_s64(vandq_s8(v227, v234), vmvnq_s8(v234));
  v236 = vcgtq_s64(v228, v231);
  v237 = vsubq_s64(vandq_s8(v228, v236), vmvnq_s8(v236));
  v238 = vcgtq_s64(v229, v231);
  v239 = vsubq_s64(vandq_s8(v229, v238), vmvnq_s8(v238));
  v240 = vdupq_n_s64(0x7FFFuLL);
  *v8 = v230;
  *(v8 + 16) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v239), v239, v240), vbslq_s8(vcgtq_s64(v240, v237), v237, v240)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v235), v235, v240), vbslq_s8(vcgtq_s64(v240, v233), v233, v240)));
  v237.i64[0] = 14 * v9.i64[0];
  v235.i64[0] = 14 * v9.i64[0];
  v235.i64[1] = 13 * v9.i64[1];
  v239.i64[0] = 69 * v9.i64[0];
  v239.i64[1] = 56 * v9.i64[1];
  v233.i64[0] = 40 * v9.i64[0];
  v233.i64[1] = 57 * v9.i64[1];
  v230.i64[0] = 16 * v9.i64[0];
  v230.i64[1] = 24 * v9.i64[1];
  v241 = vaddq_s64(v233, v225);
  v242 = vaddq_s64(v239, v225);
  v243 = vaddq_s64(v235, v225);
  v244 = vaddq_s64(v230, v225);
  v243.i64[0] /= 100;
  v243.i64[1] /= 100;
  v242.i64[0] /= 100;
  v242.i64[1] /= 100;
  v241.i64[0] /= 100;
  v241.i64[1] /= 100;
  v244.i64[0] /= 100;
  v244.i64[1] /= 100;
  v245 = vcgtq_s64(v241, v231);
  v246 = vsubq_s64(vandq_s8(v241, v245), vmvnq_s8(v245));
  v247 = vcgtq_s64(v242, v231);
  v248 = vsubq_s64(vandq_s8(v242, v247), vmvnq_s8(v247));
  v249 = vcgtq_s64(v243, v231);
  v250 = vsubq_s64(vandq_s8(v243, v249), vmvnq_s8(v249));
  v251 = vcgtq_s64(v244, v231);
  v252 = vsubq_s64(vandq_s8(v244, v251), vmvnq_s8(v251));
  v253 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v246), v246, v240), vbslq_s8(vcgtq_s64(v240, v248), v248, v240));
  v254 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v250), v250, v240), vbslq_s8(vcgtq_s64(v240, v252), v252, v240));
  v246.i64[0] = 22 * v9.i64[0];
  v246.i64[1] = 29 * v9.i64[1];
  v252.i64[0] = 51 * v9.i64[0];
  v252.i64[1] = 87 * v9.i64[1];
  v251.i64[0] = 80 * v9.i64[0];
  v251.i64[1] = 62 * v9.i64[1];
  v255 = vuzp1q_s16(v254, v253);
  v237.i64[1] = 17 * v9.i64[1];
  v256 = vaddq_s64(v251, v225);
  v257 = vaddq_s64(v252, v225);
  v258 = vaddq_s64(v246, v225);
  v259 = vaddq_s64(v237, v225);
  v258.i64[0] /= 100;
  v258.i64[1] /= 100;
  v257.i64[0] /= 100;
  v257.i64[1] /= 100;
  v256.i64[0] /= 100;
  v256.i64[1] /= 100;
  v259.i64[0] /= 100;
  v259.i64[1] /= 100;
  v260 = vcgtq_s64(v256, v231);
  v261 = vsubq_s64(vandq_s8(v256, v260), vmvnq_s8(v260));
  v262 = vcgtq_s64(v257, v231);
  v263 = vsubq_s64(vandq_s8(v257, v262), vmvnq_s8(v262));
  v264 = vcgtq_s64(v258, v231);
  v265 = vsubq_s64(vandq_s8(v258, v264), vmvnq_s8(v264));
  v266 = vcgtq_s64(v259, v231);
  v267 = vsubq_s64(vandq_s8(v259, v266), vmvnq_s8(v266));
  v268 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v267), v267, v240), vbslq_s8(vcgtq_s64(v240, v265), v265, v240)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v263), v263, v240), vbslq_s8(vcgtq_s64(v240, v261), v261, v240)));
  v267.i64[0] = 103 * v9.i64[0];
  v265.i64[0] = 103 * v9.i64[0];
  v265.i64[1] = 77 * v9.i64[1];
  v263.i64[0] = 68 * v9.i64[0];
  v263.i64[1] = 109 * v9.i64[1];
  *(v8 + 32) = v255;
  *(v8 + 48) = v268;
  v255.i64[0] = 37 * v9.i64[0];
  v255.i64[1] = 56 * v9.i64[1];
  v268.i64[0] = 18 * v9.i64[0];
  v268.i64[1] = 22 * v9.i64[1];
  v269 = vaddq_s64(v268, v225);
  v270 = vaddq_s64(v255, v225);
  v271 = vaddq_s64(v263, v225);
  v272 = vaddq_s64(v265, v225);
  v272.i64[0] /= 100;
  v272.i64[1] /= 100;
  v271.i64[0] /= 100;
  v271.i64[1] /= 100;
  v270.i64[0] /= 100;
  v270.i64[1] /= 100;
  v269.i64[0] /= 100;
  v269.i64[1] /= 100;
  v273 = vcgtq_s64(v269, v231);
  v274 = vsubq_s64(vandq_s8(v269, v273), vmvnq_s8(v273));
  v275 = vcgtq_s64(v270, v231);
  v276 = vsubq_s64(vandq_s8(v270, v275), vmvnq_s8(v275));
  v277 = vcgtq_s64(v271, v231);
  v278 = vsubq_s64(vandq_s8(v271, v277), vmvnq_s8(v277));
  v279 = vcgtq_s64(v272, v231);
  v280 = vsubq_s64(vandq_s8(v272, v279), vmvnq_s8(v279));
  v281 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v274), v274, v240), vbslq_s8(vcgtq_s64(v240, v276), v276, v240)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v278), v278, v240), vbslq_s8(vcgtq_s64(v240, v280), v280, v240)));
  v274.i64[0] = 24 * v9.i64[0];
  v274.i64[1] = 35 * v9.i64[1];
  v280.i64[0] = 81 * v9.i64[0];
  v280.i64[1] = 104 * v9.i64[1];
  v278.i64[0] = 113 * v9.i64[0];
  v278.i64[1] = 92 * v9.i64[1];
  v279.i64[0] = 55 * v9.i64[0];
  v279.i64[1] = v9.i64[1] << 6;
  v282 = vaddq_s64(v278, v225);
  v283 = vaddq_s64(v280, v225);
  v284 = vaddq_s64(v274, v225);
  v284.i64[0] /= 100;
  v284.i64[1] /= 100;
  v283.i64[0] /= 100;
  v283.i64[1] /= 100;
  v282.i64[0] /= 100;
  v282.i64[1] /= 100;
  v285 = vaddq_s64(v279, v225);
  v285.i64[0] /= 100;
  v285.i64[1] /= 100;
  v286 = vcgtq_s64(v282, v231);
  v287 = vsubq_s64(vandq_s8(v282, v286), vmvnq_s8(v286));
  v288 = vcgtq_s64(v283, v231);
  v289 = vsubq_s64(vandq_s8(v283, v288), vmvnq_s8(v288));
  v290 = vcgtq_s64(v284, v231);
  v291 = vsubq_s64(vandq_s8(v284, v290), vmvnq_s8(v290));
  v292 = vcgtq_s64(v285, v231);
  v293 = vsubq_s64(vandq_s8(v285, v292), vmvnq_s8(v292));
  v294 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v291), v291, v240), vbslq_s8(vcgtq_s64(v240, v293), v293, v240)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v289), v289, v240), vbslq_s8(vcgtq_s64(v240, v287), v287, v240)));
  v289.i64[0] = 78 * v9.i64[0];
  v289.i64[1] = 87 * v9.i64[1];
  v287.i64[0] = 103 * v9.i64[0];
  v287.i64[1] = 121 * v9.i64[1];
  v293.i64[0] = 120 * v9.i64[0];
  v293.i64[1] = 101 * v9.i64[1];
  v292.i64[0] = 49 * v9.i64[0];
  v292.i64[1] = v9.i64[1] << 6;
  v295 = vaddq_s64(v293, v225);
  v296 = vaddq_s64(v287, v225);
  v297 = vaddq_s64(v289, v225);
  v297.i64[0] /= 100;
  v297.i64[1] /= 100;
  v296.i64[0] /= 100;
  v296.i64[1] /= 100;
  v298 = vaddq_s64(v292, v225);
  v295.i64[0] /= 100;
  v295.i64[1] /= 100;
  v298.i64[0] /= 100;
  v298.i64[1] /= 100;
  *(v8 + 64) = v281;
  *(v8 + 80) = v294;
  v299 = vcgtq_s64(v295, v231);
  v300 = vsubq_s64(vandq_s8(v295, v299), vmvnq_s8(v299));
  v301 = vcgtq_s64(v296, v231);
  v302 = vsubq_s64(vandq_s8(v296, v301), vmvnq_s8(v301));
  v303 = vcgtq_s64(v297, v231);
  v304 = vsubq_s64(vandq_s8(v297, v303), vmvnq_s8(v303));
  v305 = vcgtq_s64(v298, v231);
  v306 = vsubq_s64(vandq_s8(v298, v305), vmvnq_s8(v305));
  *(v8 + 96) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v306), v306, v240), vbslq_s8(vcgtq_s64(v240, v304), v304, v240)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v302), v302, v240), vbslq_s8(vcgtq_s64(v240, v300), v300, v240)));
  v267.i64[1] = 99 * v9.i64[1];
  v300.i64[0] = 112 * v9.i64[0];
  v300.i64[1] = 100 * v9.i64[1];
  v302.i64[0] = 95 * v9.i64[0];
  v302.i64[1] = 98 * v9.i64[1];
  v304.i64[0] = 72 * v9.i64[0];
  v304.i64[1] = 92 * v9.i64[1];
  v307 = vaddq_s64(v302, v225);
  v308 = vaddq_s64(v300, v225);
  v309 = vaddq_s64(v267, v225);
  v309.i64[0] /= 100;
  v309.i64[1] /= 100;
  v308.i64[0] /= 100;
  v308.i64[1] /= 100;
  v307.i64[0] /= 100;
  v307.i64[1] /= 100;
  v310 = vaddq_s64(v304, v225);
  v310.i64[0] /= 100;
  v310.i64[1] /= 100;
  v311 = vcgtq_s64(v310, v231);
  v312 = vsubq_s64(vandq_s8(v310, v311), vmvnq_s8(v311));
  v313 = vcgtq_s64(v307, v231);
  v314 = vsubq_s64(vandq_s8(v307, v313), vmvnq_s8(v313));
  v315 = vcgtq_s64(v308, v231);
  v316 = vsubq_s64(vandq_s8(v308, v315), vmvnq_s8(v315));
  v317 = vcgtq_s64(v309, v231);
  v318 = vsubq_s64(vandq_s8(v309, v317), vmvnq_s8(v317));
  *(v8 + 112) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v312), v312, v240), vbslq_s8(vcgtq_s64(v240, v314), v314, v240)), vuzp1q_s32(vbslq_s8(vcgtq_s64(v240, v316), v316, v240), vbslq_s8(vcgtq_s64(v240, v318), v318, v240)));
  *(v8 + 128) = 0;
  v144 = *(a1 + 36);
  if (v144 != 100)
  {
LABEL_7:
    v145 = *a1;
    *(v145 + 10) = 21;
    *(v145 + 11) = v144;
    v358 = v9;
    (**a1)(a1);
    v9 = v358;
  }

LABEL_8:
  result = *(a1 + 120);
  if (!result)
  {
    v359 = v9;
    result = sub_10039D494(a1);
    v9 = v359;
    *(a1 + 120) = result;
  }

  v147.i64[0] = 99 * v9.i64[0];
  v147.i64[1] = 99 * v30;
  v148.i64[0] = 24 * v9.i64[0];
  v148.i64[1] = 47 * v30;
  v149.i64[0] = 99 * v9.i64[0];
  v149.i64[1] = 99 * v30;
  v150.i64[0] = 17 * v9.i64[0];
  v150.i64[1] = 18 * v30;
  v151 = vdupq_n_s64(0x32uLL);
  v152 = vaddq_s64(v149, v151);
  v153 = vaddq_s64(v148, v151);
  v154 = vaddq_s64(v147, v151);
  v155 = vaddq_s64(v150, v151);
  v154.i64[0] /= 100;
  v154.i64[1] /= 100;
  v153.i64[0] /= 100;
  v153.i64[1] /= 100;
  v152.i64[0] /= 100;
  v152.i64[1] /= 100;
  v155.i64[0] /= 100;
  v155.i64[1] /= 100;
  v156 = vdupq_n_s64(1uLL);
  v157 = vcgtq_s64(v152, v156);
  v158 = vsubq_s64(vandq_s8(v152, v157), vmvnq_s8(v157));
  v159 = vcgtq_s64(v153, v156);
  v160 = vsubq_s64(vandq_s8(v153, v159), vmvnq_s8(v159));
  v161 = vcgtq_s64(v154, v156);
  v162 = vsubq_s64(vandq_s8(v154, v161), vmvnq_s8(v161));
  v163 = vcgtq_s64(v155, v156);
  v164 = vsubq_s64(vandq_s8(v155, v163), vmvnq_s8(v163));
  v165 = vdupq_n_s64(0x7FFFuLL);
  v166 = vbslq_s8(vcgtq_s64(v165, v162), v162, v165);
  v167 = vbslq_s8(vcgtq_s64(v165, v160), v160, v165);
  v168 = vbslq_s8(vcgtq_s64(v165, v158), v158, v165);
  v169 = vbslq_s8(vcgtq_s64(v165, v164), v164, v165);
  if (a3)
  {
    v170 = vdupq_n_s64(0x63CDuLL);
    v171 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v150, v170), vcgtq_s64(v148, v170)), vuzp1q_s32(vcgtq_s64(v147, v170), vcgtq_s64(v149, v170)));
    v172 = vorrq_s8((*&v171 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(v169, v167), vuzp1q_s32(v166, v168)), v171));
    v173.i64[0] = 18 * v9.i64[0];
    v173.i64[1] = 21 * v30;
    v174.i64[0] = 99 * v9.i64[0];
    v174.i64[1] = 99 * v30;
    v175.i64[0] = 99 * v9.i64[0];
    v175.i64[1] = 99 * v30;
    v176.i64[0] = 26 * v9.i64[0];
    v176.i64[1] = 66 * v30;
    v177 = vdupq_n_s64(0x32uLL);
    v178 = vaddq_s64(v175, v177);
    v179 = vaddq_s64(v174, v177);
    v180 = vaddq_s64(v173, v177);
    v181 = vaddq_s64(v176, v177);
    v180.i64[0] /= 100;
    v180.i64[1] /= 100;
    v179.i64[0] /= 100;
    v179.i64[1] /= 100;
    v182.i64[0] = v178.i64[0] / 100;
    v182.i64[1] = v178.i64[1] / 100;
    v181.i64[0] /= 100;
    v181.i64[1] /= 100;
    v183 = vdupq_n_s64(1uLL);
    v184 = vcgtq_s64(v182, v183);
    v185 = vsubq_s64(vandq_s8(v182, v184), vmvnq_s8(v184));
    v186 = vcgtq_s64(v179, v183);
    v187 = vsubq_s64(vandq_s8(v179, v186), vmvnq_s8(v186));
    v188 = vcgtq_s64(v180, v183);
    v189 = vsubq_s64(vandq_s8(v180, v188), vmvnq_s8(v188));
    v190 = vcgtq_s64(v181, v183);
    v191 = vsubq_s64(vandq_s8(v181, v190), vmvnq_s8(v190));
    v192 = vdupq_n_s64(0x7FFFuLL);
    v193 = vuzp1q_s32(vcgtq_s64(v174, v170), vcgtq_s64(v175, v170));
    v194 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v173, v170), vcgtq_s64(v176, v170)), v193);
    v195 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v192, v187), v187, v192), vbslq_s8(vcgtq_s64(v192, v185), v185, v192));
    *result = v172;
    *(result + 16) = vorrq_s8((*&v194 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v192, v189), v189, v192), vbslq_s8(vcgtq_s64(v192, v191), v191, v192)), v195), v194));
    v172.i64[0] = 24 * v9.i64[0];
    v172.i64[1] = 26 * v30;
    v194.i64[0] = 56 * v9.i64[0];
    v194.i64[1] = 99 * v30;
    v196 = vaddq_s64(v194, v177);
    v197 = vaddq_s64(v172, v177);
    v197.i64[0] /= 100;
    v197.i64[1] /= 100;
    v196.i64[0] /= 100;
    v196.i64[1] /= 100;
    v198 = vcgtq_s64(v196, v183);
    v199 = vsubq_s64(vandq_s8(v196, v198), vmvnq_s8(v198));
    v200 = vcgtq_s64(v197, v183);
    v201 = vsubq_s64(vandq_s8(v197, v200), vmvnq_s8(v200));
    v202 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v172, v170), vcgtq_s64(v194, v170)), v193);
    v203 = vorrq_s8((*&v202 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v192, v201), v201, v192), vbslq_s8(vcgtq_s64(v192, v199), v199, v192)), v195), v202));
    v194.i64[0] = 99 * v9.i64[0];
    v194.i64[1] = 99 * v30;
    v199.i64[0] = 47 * v9.i64[0];
    v199.i64[1] = 66 * v30;
    v204 = vaddq_s64(v194, v177);
    v205 = vaddq_s64(v199, v177);
    v204.i64[0] /= 100;
    v204.i64[1] /= 100;
    v205.i64[0] /= 100;
    v205.i64[1] /= 100;
    v206 = vcgtq_s64(v204, v183);
    v207 = vsubq_s64(vandq_s8(v204, v206), vmvnq_s8(v206));
    v208 = vcgtq_s64(v205, v183);
    v209 = vsubq_s64(vandq_s8(v205, v208), vmvnq_s8(v208));
    v210 = vbslq_s8(vcgtq_s64(v192, v207), v207, v192);
    v211 = vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v199, v170), vcgtq_s64(v194, v170)), v193);
    v193.i64[0] = 99 * v9.i64[0];
    v193.i64[1] = 99 * v30;
    *(result + 32) = v203;
    *(result + 48) = vorrq_s8((*&v211 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v192, v209), v209, v192), v210), v195), v211));
    v212 = vaddq_s64(v193, v177);
    v212.i64[0] /= 100;
    v212.i64[1] /= 100;
    v213 = vcgtq_s64(v212, v183);
    v214 = vsubq_s64(vandq_s8(v212, v213), vmvnq_s8(v213));
    v215 = vcgtq_s64(v9, vdupq_n_s64(0x102uLL));
    v216 = vuzp1q_s32(v215, v215);
    v217 = vuzp1q_s16(v216, v216);
    v218 = vorrq_s8((*&v217 & __PAIR128__(0xFF00FF00FF00FFLL, 0xFF00FF00FF00FFLL)), vbicq_s8(vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v192, v214), v214, v192), v210), v195), v217));
  }

  else
  {
    v319.i64[0] = 18 * v9.i64[0];
    v319.i64[1] = 21 * v30;
    v320.i64[0] = 99 * v9.i64[0];
    v320.i64[1] = 99 * v30;
    v321 = vuzp1q_s32(v166, v168);
    v322.i64[0] = 99 * v9.i64[0];
    v322.i64[1] = 99 * v30;
    v323 = vuzp1q_s16(vuzp1q_s32(v169, v167), v321);
    v321.i64[0] = 26 * v9.i64[0];
    v321.i64[1] = 66 * v30;
    v324 = vdupq_n_s64(0x32uLL);
    v325 = vaddq_s64(v322, v324);
    v326 = vaddq_s64(v320, v324);
    v327 = vaddq_s64(v319, v324);
    v328.i64[0] = v327.i64[0] / 100;
    v328.i64[1] = v327.i64[1] / 100;
    v326.i64[0] /= 100;
    v326.i64[1] /= 100;
    v329 = vaddq_s64(v321, v324);
    v321.i64[0] = v325.i64[0] / 100;
    v321.i64[1] = v325.i64[1] / 100;
    v325.i64[0] = v329.i64[0] / 100;
    v325.i64[1] = v329.i64[1] / 100;
    v330 = vdupq_n_s64(1uLL);
    v331 = vcgtq_s64(v321, v330);
    v332 = vsubq_s64(vandq_s8(v321, v331), vmvnq_s8(v331));
    v333 = vcgtq_s64(v326, v330);
    v334 = vsubq_s64(vandq_s8(v326, v333), vmvnq_s8(v333));
    v335 = vcgtq_s64(v328, v330);
    v336 = vsubq_s64(vandq_s8(v328, v335), vmvnq_s8(v335));
    v337 = vcgtq_s64(v325, v330);
    v338 = vsubq_s64(vandq_s8(v325, v337), vmvnq_s8(v337));
    v339 = vdupq_n_s64(0x7FFFuLL);
    v340 = vuzp1q_s32(vbslq_s8(vcgtq_s64(v339, v334), v334, v339), vbslq_s8(vcgtq_s64(v339, v332), v332, v339));
    *result = v323;
    *(result + 16) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v339, v336), v336, v339), vbslq_s8(vcgtq_s64(v339, v338), v338, v339)), v340);
    v323.i64[0] = 24 * v9.i64[0];
    v323.i64[1] = 26 * v30;
    v338.i64[0] = 56 * v9.i64[0];
    v338.i64[1] = 99 * v30;
    v341 = vaddq_s64(v323, v324);
    v341.i64[0] /= 100;
    v341.i64[1] /= 100;
    v342 = vaddq_s64(v338, v324);
    v342.i64[0] /= 100;
    v342.i64[1] /= 100;
    v343 = vcgtq_s64(v342, v330);
    v344 = vsubq_s64(vandq_s8(v342, v343), vmvnq_s8(v343));
    v345 = vcgtq_s64(v341, v330);
    v346 = vsubq_s64(vandq_s8(v341, v345), vmvnq_s8(v345));
    v347 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v339, v346), v346, v339), vbslq_s8(vcgtq_s64(v339, v344), v344, v339)), v340);
    v344.i64[0] = 99 * v9.i64[0];
    v344.i64[1] = 99 * v30;
    v345.i64[0] = 47 * v9.i64[0];
    v345.i64[1] = 66 * v30;
    v348 = vaddq_s64(v344, v324);
    v349 = vaddq_s64(v345, v324);
    v348.i64[0] /= 100;
    v348.i64[1] /= 100;
    v349.i64[0] /= 100;
    v349.i64[1] /= 100;
    v350 = vcgtq_s64(v348, v330);
    v351 = vsubq_s64(vandq_s8(v348, v350), vmvnq_s8(v350));
    v352 = vcgtq_s64(v349, v330);
    v353 = vsubq_s64(vandq_s8(v349, v352), vmvnq_s8(v352));
    v354 = vbslq_s8(vcgtq_s64(v339, v351), v351, v339);
    v352.i64[0] = 99 * v9.i64[0];
    v352.i64[1] = 99 * v30;
    v355 = vaddq_s64(v352, v324);
    v355.i64[0] /= 100;
    v355.i64[1] /= 100;
    *(result + 32) = v347;
    *(result + 48) = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v339, v353), v353, v339), v354), v340);
    v356 = vcgtq_s64(v355, v330);
    v357 = vsubq_s64(vandq_s8(v355, v356), vmvnq_s8(v356));
    v218 = vuzp1q_s16(vuzp1q_s32(vbslq_s8(vcgtq_s64(v339, v357), v357, v339), v354), v340);
  }

  *(result + 64) = v218;
  *(result + 80) = v218;
  *(result + 96) = v218;
  *(result + 112) = v218;
  *(result + 128) = 0;
  return result;
}

uint64_t sub_1003A1C00(int a1)
{
  if (a1 <= 1)
  {
    v1 = 1;
  }

  else
  {
    v1 = a1;
  }

  if (v1 >= 100)
  {
    v1 = 100;
  }

  if (a1 > 49)
  {
    return (200 - 2 * v1);
  }

  else
  {
    return 0x1388u / v1;
  }
}

uint64_t sub_1003A1C38(uint64_t a1, int a2, int a3)
{
  if (a2 <= 1)
  {
    v3 = 1;
  }

  else
  {
    v3 = a2;
  }

  if (v3 >= 100)
  {
    v3 = 100;
  }

  if (a2 > 49)
  {
    v4 = 200 - 2 * v3;
  }

  else
  {
    v4 = 0x1388u / v3;
  }

  return sub_10039F838(a1, v4, a3);
}

uint64_t sub_1003A1C70(uint64_t a1)
{
  v2 = *(a1 + 36);
  if (v2 != 100)
  {
    v3 = *a1;
    *(v3 + 10) = 21;
    *(v3 + 11) = v2;
    (**a1)(a1);
  }

  if (!*(a1 + 104))
  {
    *(a1 + 104) = (**(a1 + 8))(a1, 0, 960);
  }

  *(a1 + 72) = 0x100000001;
  *(a1 + 88) = 8;
  sub_10039F838(a1, 50, 1);
  sub_1003A2E18(a1, (a1 + 160), &xmmword_1003EC250, &unk_1003EC261);
  sub_1003A2E18(a1, (a1 + 192), &xmmword_1003EC28A, &unk_1003EC29B);
  sub_1003A2E18(a1, (a1 + 168), &xmmword_1003EC26D, &unk_1003EC27E);
  sub_1003A2E18(a1, (a1 + 200), &xmmword_1003EC33D, &unk_1003EC34E);
  *(a1 + 224) = 0;
  *(a1 + 232) = 0;
  *(a1 + 240) = 0x101010101010101;
  *(a1 + 248) = 0x101010101010101;
  *(a1 + 256) = 0x505050505050505;
  *(a1 + 264) = 0x505050505050505;
  *(a1 + 280) = 0;
  *(a1 + 272) = 0;
  *(a1 + 288) = 0;
  *(a1 + 289) = *(a1 + 88) > 8;
  *(a1 + 290) = 0;
  *(a1 + 292) = 1;
  *(a1 + 296) = 0;
  *(a1 + 304) = 0;
  *(a1 + 313) = 257;
  *(a1 + 315) = 0;
  *(a1 + 316) = 65537;
  *(a1 + 324) = 0;

  return sub_1003A1DE0(a1);
}

uint64_t sub_1003A1DE0(uint64_t result)
{
  v1 = result;
  v2 = *(result + 60);
  if (v2 > 3)
  {
    if (v2 > 5)
    {
      if (v2 == 6)
      {
        v28 = *(result + 36);
        if (v28 != 100)
        {
          v29 = *result;
          *(v29 + 10) = 21;
          *(v29 + 11) = v28;
          result = (**result)(result);
        }

        *(v1 + 320) = 0;
        *(v1 + 312) = 513;
        *(v1 + 92) = 0x600000003;
        v30 = *(v1 + 104);
        *v30 = 114;
        *(v30 + 8) = 0x100000001;
        v31 = *(v1 + 324) == 1;
        *(v30 + 16) = 0;
        *(v30 + 20) = v31;
        *(v30 + 24) = v31;
        *(v30 + 96) = 103;
        *(v30 + 104) = xmmword_1003EC1E0;
        *(v30 + 120) = 0;
        *(v30 + 192) = 98;
        *(v30 + 200) = 0x100000001;
        *(v30 + 208) = 0;
        *(v30 + 212) = v31;
        *(v30 + 216) = v31;
      }

      else
      {
        if (v2 != 7)
        {
LABEL_34:
          v32 = *result;
          *(v32 + 10) = 10;
          v33 = *v32;

          return v33();
        }

        v14 = *(result + 36);
        if (v14 != 100)
        {
          v15 = *result;
          *(v15 + 10) = 21;
          *(v15 + 11) = v14;
          result = (**result)(result);
        }

        *(v1 + 320) = 0;
        *(v1 + 312) = 513;
        *(v1 + 92) = 0x700000003;
        v16 = *(v1 + 104);
        *v16 = 1;
        *(v16 + 8) = xmmword_1003EC1D0;
        *(v16 + 24) = 0;
        *(v16 + 96) = 34;
        *&v17 = 0x100000001;
        *(&v17 + 1) = 0x100000001;
        *(v16 + 104) = v17;
        *(v16 + 120) = 1;
        *(v16 + 192) = 35;
        *(v16 + 200) = v17;
        *(v16 + 216) = 1;
      }
    }

    else if (v2 == 4)
    {
      v25 = *(result + 36);
      if (v25 != 100)
      {
        v26 = *result;
        *(v26 + 10) = 21;
        *(v26 + 11) = v25;
        result = (**result)(result);
      }

      *(v1 + 312) = 0;
      *(v1 + 320) = 1;
      *(v1 + 92) = 0x400000004;
      v27 = *(v1 + 104);
      *v27 = 67;
      *(v27 + 8) = xmmword_1003EC1E0;
      *(v27 + 24) = 0;
      *(v27 + 96) = 77;
      *(v27 + 104) = xmmword_1003EC1E0;
      *(v27 + 120) = 0;
      *(v27 + 192) = 89;
      *(v27 + 200) = xmmword_1003EC1E0;
      *(v27 + 216) = 0;
      *(v27 + 288) = 75;
      *(v27 + 296) = xmmword_1003EC1E0;
      *(v27 + 312) = 0;
    }

    else
    {
      v6 = *(result + 36);
      if (v6 != 100)
      {
        v7 = *result;
        *(v7 + 10) = 21;
        *(v7 + 11) = v6;
        result = (**result)(result);
      }

      *(v1 + 312) = 0;
      *(v1 + 320) = 1;
      *(v1 + 92) = 0x500000004;
      v8 = *(v1 + 104);
      *v8 = 1;
      *(v8 + 8) = xmmword_1003EC1D0;
      *(v8 + 24) = 0;
      *(v8 + 96) = 2;
      *&v9 = 0x100000001;
      *(&v9 + 1) = 0x100000001;
      *(v8 + 104) = v9;
      *(v8 + 120) = 1;
      *(v8 + 192) = 3;
      *(v8 + 200) = v9;
      *(v8 + 216) = 1;
      *(v8 + 288) = 4;
      *(v8 + 296) = xmmword_1003EC1D0;
      *(v8 + 312) = 0;
    }
  }

  else if (v2 > 1)
  {
    v10 = *(result + 36);
    if (v10 != 100)
    {
      v11 = *result;
      *(v11 + 10) = 21;
      *(v11 + 11) = v10;
      result = (**result)(result);
    }

    *(v1 + 320) = 0;
    *(v1 + 312) = 1;
    *(v1 + 92) = 0x300000003;
    v12 = *(v1 + 104);
    *v12 = 1;
    *(v12 + 8) = xmmword_1003EC1D0;
    *(v12 + 24) = 0;
    *(v12 + 96) = 2;
    *&v13 = 0x100000001;
    *(&v13 + 1) = 0x100000001;
    *(v12 + 104) = v13;
    *(v12 + 120) = 1;
    *(v12 + 192) = 3;
    *(v12 + 200) = v13;
    *(v12 + 216) = 1;
  }

  else
  {
    if (v2)
    {
      if (v2 == 1)
      {
        v3 = *(result + 36);
        if (v3 != 100)
        {
          v4 = *result;
          *(v4 + 10) = 21;
          *(v4 + 11) = v3;
          result = (**result)(result);
        }

        *(v1 + 320) = 0;
        *(v1 + 312) = 1;
        *(v1 + 92) = 0x100000001;
        v5 = *(v1 + 104);
        *v5 = 1;
        *(v5 + 8) = xmmword_1003EC1E0;
        *(v5 + 24) = 0;
        return result;
      }

      goto LABEL_34;
    }

    v18 = *(result + 36);
    if (v18 != 100)
    {
      v19 = *result;
      *(v19 + 10) = 21;
      *(v19 + 11) = v18;
      result = (**result)(result);
    }

    *(v1 + 312) = 0;
    *(v1 + 320) = 0;
    v20 = *(v1 + 56);
    *(v1 + 92) = v20;
    if (v20 - 11 > 0xFFFFFFF5 || (v21 = *v1, *(v21 + 40) = 27, *(v21 + 44) = v20, *(*v1 + 48) = 10, result = (**v1)(v1), v20 = *(v1 + 92), v20 >= 1))
    {
      v22 = *(v1 + 104);
      v23 = v20;
      if (v20 >= 2)
      {
        v34 = 0;
        v24 = v20 & 0x7FFFFFFE;
        v35 = *(v1 + 104);
        do
        {
          *v35 = v34;
          *(v35 + 96) = v34 + 1;
          *(v35 + 8) = xmmword_1003EC1E0;
          *(v35 + 104) = xmmword_1003EC1E0;
          v34 += 2;
          *(v35 + 24) = 0;
          *(v35 + 120) = 0;
          v35 += 192;
        }

        while (v24 != v34);
        if (v24 == v23)
        {
          return result;
        }
      }

      else
      {
        v24 = 0;
      }

      v36 = v22 + 96 * v24;
      do
      {
        *v36 = v24;
        *(v36 + 8) = xmmword_1003EC1E0;
        *(v36 + 24) = 0;
        ++v24;
        v36 += 96;
      }

      while (v23 != v24);
    }
  }

  return result;
}

void *sub_1003A22C8(uint64_t a1)
{
  v2 = *(a1 + 92);
  v3 = *(a1 + 36);
  if (v3 != 100)
  {
    v4 = *a1;
    *(v4 + 10) = 21;
    *(v4 + 11) = v3;
    (**a1)(a1);
  }

  if (v2 == 3)
  {
    if ((*(a1 + 96) | 4) == 7)
    {
      v5 = 10;
      result = *(a1 + 552);
      if (!result)
      {
        goto LABEL_12;
      }

LABEL_11:
      if (*(a1 + 560) >= v5)
      {
        goto LABEL_16;
      }

      goto LABEL_12;
    }
  }

  else if (v2 >= 5)
  {
    v5 = 6 * v2;
    result = *(a1 + 552);
    if (!result)
    {
      goto LABEL_12;
    }

    goto LABEL_11;
  }

  v5 = (4 * v2) | 2;
  result = *(a1 + 552);
  if (result)
  {
    goto LABEL_11;
  }

LABEL_12:
  if (v5 <= 10)
  {
    v7 = 10;
  }

  else
  {
    v7 = v5;
  }

  *(a1 + 560) = v7;
  result = (**(a1 + 8))(v7, a1, 0, 36 * v7);
  *(a1 + 552) = result;
LABEL_16:
  *(a1 + 280) = result;
  *(a1 + 272) = v5;
  if (v2 != 3)
  {
    if (v2 >= 5)
    {
      v40 = 0;
      v41 = v2 & 0x7FFFFFFE;
      v39 = result + 36 * v41;
      v42 = result + 36;
      do
      {
        *(v42 - 9) = 1;
        *(v42 - 8) = v40;
        *v42 = 1;
        *(v42 + 1) = v40 + 1;
        v40 += 2;
        *(v42 - 1) = xmmword_1003EC1F0;
        *(v42 + 20) = xmmword_1003EC1F0;
        v42 += 72;
      }

      while (v41 != v40);
      if (v41 != v2)
      {
        do
        {
          *v39 = 1;
          *(v39 + 1) = v41;
          *(v39 + 20) = xmmword_1003EC1F0;
          v39 += 36;
          LODWORD(v41) = v41 + 1;
        }

        while (v2 != v41);
      }
    }

    else
    {
      *result = v2;
      if (v2 >= 1)
      {
        v36 = vdupq_n_s64(v2 - 1);
        v37 = vmovn_s64(vcgeq_u64(v36, xmmword_1003E0C50));
        if (vuzp1_s16(v37, *v36.i8).u8[0])
        {
          *(result + 1) = 0;
        }

        if (vuzp1_s16(v37, *&v36).i8[2])
        {
          *(result + 2) = 1;
        }

        v38 = vmovn_s64(vcgeq_u64(v36, xmmword_1003E3940));
        if (vuzp1_s16(v38, v38).i32[1])
        {
          *(result + 3) = 2;
          *(result + 4) = 3;
        }
      }

      *(result + 20) = xmmword_1003EC1F0;
      v39 = result + 36;
    }

    if (v2 < 1)
    {
      *v39 = v2;
LABEL_37:
      *(v39 + 20) = xmmword_1003E0C50;
      v43 = v39 + 36;
LABEL_38:
      if (v2 < 1)
      {
        return result;
      }

      if (v2 == 1)
      {
        LODWORD(v51) = 0;
        v52 = v43;
      }

      else
      {
        v50 = 0;
        v51 = v2 & 0x7FFFFFFE;
        v52 = &v43[36 * v51];
        v53 = v43 + 36;
        do
        {
          *(v53 - 9) = 1;
          *(v53 - 8) = v50;
          *v53 = 1;
          *(v53 + 1) = v50 + 1;
          v50 += 2;
          *(v53 - 1) = xmmword_1003EC230;
          *(v53 + 20) = xmmword_1003EC230;
          v53 += 72;
        }

        while (v51 != v50);
        if (v51 == v2)
        {
          return result;
        }
      }

      do
      {
        *v52 = 1;
        *(v52 + 1) = v51;
        *(v52 + 20) = xmmword_1003EC230;
        v52 += 36;
        LODWORD(v51) = v51 + 1;
      }

      while (v2 != v51);
      return result;
    }

    if (v2 == 1)
    {
      LODWORD(v45) = 0;
      v46 = v39;
    }

    else
    {
      v44 = 0;
      v45 = v2 & 0x7FFFFFFE;
      v46 = &v39[36 * v45];
      v47 = v39 + 36;
      do
      {
        *(v47 - 9) = 1;
        *(v47 - 8) = v44;
        *v47 = 1;
        *(v47 + 1) = v44 + 1;
        v44 += 2;
        *(v47 - 1) = xmmword_1003EC200;
        *(v47 + 20) = xmmword_1003EC200;
        v47 += 72;
      }

      while (v45 != v44);
      if (v45 == v2)
      {
LABEL_47:
        if (v2 == 1)
        {
          LODWORD(v48) = 0;
          v49 = v46;
        }

        else
        {
          v54 = 0;
          v48 = v2 & 0x7FFFFFFE;
          v49 = &v46[36 * v48];
          v55 = v46 + 36;
          do
          {
            *(v55 - 9) = 1;
            *(v55 - 8) = v54;
            *v55 = 1;
            *(v55 + 1) = v54 + 1;
            v54 += 2;
            *(v55 - 1) = xmmword_1003EC210;
            *(v55 + 20) = xmmword_1003EC210;
            v55 += 72;
          }

          while (v48 != v54);
          if (v48 == v2)
          {
LABEL_57:
            if (v2 == 1)
            {
              LODWORD(v56) = 0;
              v39 = v49;
            }

            else
            {
              v57 = 0;
              v56 = v2 & 0x7FFFFFFE;
              v39 = &v49[36 * v56];
              v58 = v49 + 36;
              do
              {
                *(v58 - 9) = 1;
                *(v58 - 8) = v57;
                *v58 = 1;
                *(v58 + 1) = v57 + 1;
                v57 += 2;
                *(v58 - 1) = xmmword_1003EC220;
                *(v58 + 20) = xmmword_1003EC220;
                v58 += 72;
              }

              while (v56 != v57);
              if (v56 == v2)
              {
                v59 = &v49[36 * v56 - 36];
                if (v2 < 5)
                {
LABEL_70:
                  v63 = 0;
                  *v39 = v2;
                  v64 = vdupq_n_s64(v2 - 1);
                  v65 = xmmword_1003E3940;
                  v66 = xmmword_1003E0C50;
                  v67 = (v59 + 52);
                  v68 = vdupq_n_s64(4uLL);
                  while (1)
                  {
                    v69 = vmovn_s64(vcgeq_u64(v64, v66));
                    if (vuzp1_s16(v69, *v64.i8).u8[0])
                    {
                      *(v67 - 3) = v63;
                      if ((vuzp1_s16(v69, *&v64).i8[2] & 1) == 0)
                      {
LABEL_74:
                        v70 = vmovn_s64(vcgeq_u64(v64, v65));
                        if ((vuzp1_s16(*&v64, v70).i32[1] & 1) == 0)
                        {
                          goto LABEL_75;
                        }

                        goto LABEL_79;
                      }
                    }

                    else if ((vuzp1_s16(v69, *&v64).i8[2] & 1) == 0)
                    {
                      goto LABEL_74;
                    }

                    *(v67 - 2) = v63 + 1;
                    v70 = vmovn_s64(vcgeq_u64(v64, v65));
                    if ((vuzp1_s16(*&v64, v70).i32[1] & 1) == 0)
                    {
LABEL_75:
                      if (vuzp1_s16(*&v64, v70).i8[6])
                      {
                        goto LABEL_80;
                      }

                      goto LABEL_71;
                    }

LABEL_79:
                    *(v67 - 1) = v63 + 2;
                    if (vuzp1_s16(*&v64, v70).i8[6])
                    {
LABEL_80:
                      *v67 = v63 + 3;
                    }

LABEL_71:
                    v63 += 4;
                    v65 = vaddq_s64(v65, v68);
                    v66 = vaddq_s64(v66, v68);
                    v67 += 4;
                    if (((v2 + 3) & 0xFFFFFFFC) == v63)
                    {
                      goto LABEL_37;
                    }
                  }
                }

                goto LABEL_63;
              }
            }

            do
            {
              *v39 = 1;
              *(v39 + 1) = v56;
              *(v39 + 20) = xmmword_1003EC220;
              v39 += 36;
              LODWORD(v56) = v56 + 1;
            }

            while (v2 != v56);
            v59 = (v39 - 36);
            if (v2 < 5)
            {
              goto LABEL_70;
            }

LABEL_63:
            v60 = 0;
            v61 = v2 & 0x7FFFFFFE;
            v43 = &v39[36 * v61];
            v62 = v39 + 36;
            do
            {
              *(v62 - 9) = 1;
              *(v62 - 8) = v60;
              *v62 = 1;
              *(v62 + 1) = v60 + 1;
              v60 += 2;
              *(v62 - 1) = xmmword_1003E0C50;
              *(v62 + 20) = xmmword_1003E0C50;
              v62 += 72;
            }

            while (v61 != v60);
            if (v61 != v2)
            {
              do
              {
                *v43 = 1;
                *(v43 + 1) = v61;
                *(v43 + 20) = xmmword_1003E0C50;
                v43 += 36;
                LODWORD(v61) = v61 + 1;
              }

              while (v2 != v61);
            }

            goto LABEL_38;
          }
        }

        do
        {
          *v49 = 1;
          *(v49 + 1) = v48;
          *(v49 + 20) = xmmword_1003EC210;
          v49 += 36;
          LODWORD(v48) = v48 + 1;
        }

        while (v2 != v48);
        goto LABEL_57;
      }
    }

    do
    {
      *v46 = 1;
      *(v46 + 1) = v45;
      *(v46 + 20) = xmmword_1003EC200;
      v46 += 36;
      LODWORD(v45) = v45 + 1;
    }

    while (v2 != v45);
    goto LABEL_47;
  }

  if ((*(a1 + 96) | 4) == 7)
  {
    v8 = 0;
    v103 = 0;
    v105 = 0;
    v111 = 0;
    *result = 3;
    v73 = 6;
    v71 = 5;
    v9 = 1;
    v116 = 2;
    v115 = 356;
    v114 = 44;
    v113 = 348;
    v112 = 43;
    v110 = 41;
    v109 = 324;
    v108 = 40;
    v107 = 316;
    v106 = 39;
    v104 = 308;
    v102 = 292;
    v101 = 36;
    v100 = 284;
    v99 = 35;
    v98 = 276;
    v97 = 34;
    v96 = 32;
    v95 = 252;
    v94 = 31;
    v93 = 244;
    v92 = 236;
    v91 = 30;
    v90 = 228;
    v89 = 28;
    v88 = 220;
    v86 = 27;
    v87 = 212;
    v85 = 26;
    v84 = 204;
    v83 = 25;
    v82 = 23;
    v80 = 180;
    v79 = 22;
    v78 = 172;
    v77 = 21;
    v76 = 164;
    v75 = 148;
    v74 = 18;
    v72 = 140;
    v10 = 17;
    v11 = 132;
    v12 = 16;
    v13 = 14;
    v14 = 108;
    v15 = 13;
    v16 = 100;
    v17 = 12;
    v18 = 92;
    v19 = 76;
    v20 = 9;
    v21 = 68;
    v22 = 8;
    v23 = 60;
    v24 = 7;
    v25 = 5;
    v26 = 36;
    v27 = 4;
    v28 = 28;
    v29 = 20;
    v30 = 24;
    v31 = 12;
    v32 = 1;
    v33 = 4;
    v34 = 1;
    v81 = 1;
    v35 = 2;
  }

  else
  {
    v116 = 0;
    v81 = 0;
    *result = xmmword_1003EC240;
    *(result + 20) = xmmword_1003EC1F0;
    v111 = 1;
    v105 = 63;
    v103 = 6;
    v8 = 2;
    *(result + 36) = 1;
    v115 = 500;
    v114 = 62;
    v113 = 492;
    v112 = 61;
    *(result + 7) = xmmword_1003EC200;
    v110 = 59;
    v109 = 468;
    v108 = 58;
    v107 = 460;
    result[9] = 0x100000001;
    v106 = 57;
    v104 = 452;
    *(result + 92) = xmmword_1003EC200;
    v102 = 436;
    v101 = 54;
    v100 = 428;
    v99 = 53;
    *(result + 108) = 0x200000001;
    v98 = 420;
    v97 = 52;
    v96 = 50;
    v95 = 396;
    result[16] = 0x500000001;
    v94 = 49;
    v93 = 388;
    *(result + 34) = 0;
    v92 = 380;
    v91 = 48;
    v90 = 372;
    v89 = 46;
    v88 = 364;
    v86 = 45;
    v87 = 356;
    v85 = 44;
    v84 = 348;
    v83 = 43;
    v82 = 41;
    v80 = 324;
    v79 = 40;
    v78 = 316;
    v77 = 39;
    v76 = 308;
    v75 = 292;
    v74 = 36;
    v72 = 284;
    v10 = 35;
    v11 = 276;
    v12 = 34;
    v13 = 32;
    v14 = 252;
    v15 = 31;
    v16 = 244;
    v17 = 30;
    v18 = 236;
    v19 = 220;
    v20 = 27;
    v21 = 212;
    v22 = 26;
    v23 = 204;
    v24 = 25;
    v25 = 23;
    v26 = 180;
    v27 = 22;
    v28 = 172;
    v29 = 168;
    v30 = 164;
    v31 = 148;
    v32 = 18;
    v33 = 140;
    v9 = 2;
    v34 = 6;
    v71 = 63;
    v35 = 1;
    v73 = 1;
  }

  *(result + v33) = v8;
  LODWORD(result[v32]) = 1;
  *(result + v31) = v116;
  *(result + v30) = v103;
  *(result + v29) = v105;
  *(result + v28) = 0;
  LODWORD(result[v27]) = v9;
  *(result + v26) = 1;
  LODWORD(result[v25]) = v111;
  *(result + v23) = v71;
  LODWORD(result[v24]) = v34;
  LODWORD(result[v22]) = 0;
  *(result + v21) = 2;
  LODWORD(result[v20]) = 1;
  *(result + v19) = 2;
  *(result + v18) = v34;
  LODWORD(result[v15]) = v9;
  LODWORD(result[v17]) = 63;
  *(result + v16) = 0;
  *(result + v14) = 1;
  LODWORD(result[v13]) = v81;
  LODWORD(result[v12]) = 1;
  *(result + v11) = 63;
  LODWORD(result[v10]) = v8;
  *(result + v72) = 1;
  LODWORD(result[v74]) = 1;
  *(result + v75) = v111;
  *(result + v76) = v73;
  LODWORD(result[v79]) = v35;
  LODWORD(result[v77]) = 63;
  *(result + v78) = v8;
  *(result + v80) = 1;
  LODWORD(result[v82]) = v8;
  LODWORD(result[v86]) = 3;
  LODWORD(result[v83]) = 1;
  *(result + v84) = 63;
  LODWORD(result[v85]) = 2;
  *(result + v87) = 1;
  *(result + v88) = 0;
  LODWORD(result[v89]) = 1;
  *(result + v90) = 2;
  LODWORD(result[v91]) = 0;
  *(result + v92) = 0;
  *(result + v93) = 1;
  LODWORD(result[v94]) = 0;
  *(result + v95) = 1;
  LODWORD(result[v96]) = v116;
  LODWORD(result[v97]) = 1;
  *(result + v98) = 63;
  LODWORD(result[v99]) = 1;
  *(result + v100) = 0;
  LODWORD(result[v101]) = 1;
  *(result + v102) = 1;
  *(result + v104) = 1;
  LODWORD(result[v106]) = 63;
  *(result + v107) = 1;
  LODWORD(result[v108]) = 0;
  *(result + v109) = 1;
  LODWORD(result[v110]) = v8;
  LODWORD(result[v112]) = 1;
  *(result + v113) = 63;
  LODWORD(result[v114]) = 1;
  *(result + v115) = 0;
  return result;
}

void *sub_1003A2E18(void *a1, uint64_t *a2, __int128 *a3, void *__src)
{
  v7 = *a2;
  if (!*a2)
  {
    v8 = a1;
    v7 = sub_10039D4C0(a1);
    a1 = v8;
    *a2 = v7;
  }

  v9 = *a3;
  *(v7 + 16) = *(a3 + 16);
  *v7 = v9;
  v10 = *(a3 + 1);
  v11 = vmovl_high_u8(v10);
  v12 = vmovl_u8(*v10.i8);
  v12.i32[0] = vaddvq_s32(vaddq_s32(vaddl_u16(*v12.i8, *v11.i8), vaddl_high_u16(v12, v11)));
  v13 = v12.u32[0];
  if ((v12.i32[0] - 257) <= 0xFFFFFEFF)
  {
    v14 = *a1;
    *(v14 + 40) = 9;
    (*v14)(a1);
  }

  result = memcpy((*a2 + 17), __src, v13);
  *(*a2 + 273) = 0;
  return result;
}

void *sub_1003A2ED0(uint64_t *a1, int a2)
{
  if (a2)
  {
    v3 = *a1;
    *(v3 + 40) = 3;
    (*v3)(a1);
  }

  result = (*a1[1])(a1, 1, 112);
  v5 = result;
  a1[62] = result;
  *result = sub_1003A33C4;
  if (*(a1[66] + 16))
  {
    result[1] = sub_1003A341C;
    v6 = *(a1 + 85);
    result = (*a1[1])(a1, 1, 8 * *(a1 + 23) * 5 * v6);
    if (*(a1 + 23) < 1)
    {
      return result;
    }

    v7 = 3 * v6;
    v8 = v6;
    v9 = a1[13];
    v10 = 24 * v6;
    v63 = v5 + 2;
    v64 = (3 * v6);
    v11 = 5 * v6;
    if (v6 <= 0)
    {
      v24 = 0;
      v25 = 8 * v11;
      v26 = (v9 + 28);
      v27 = &result[v8];
      do
      {
        v28 = (*(a1[1] + 16))(a1, 1, (*(a1 + 86) * *v26 * *(a1 + 84)) / *(v26 - 5), v64);
        result = memcpy(v27, v28, v10);
        v63[v24++] = v27;
        v27 += v25;
        v26 += 24;
      }

      while (v24 < *(a1 + 23));
      return result;
    }

    v61 = v6;
    v62 = 8 * v7;
    v12 = (4 * v6);
    v13 = (2 * v6);
    v60 = 8 * v11;
    if (v6 < 6)
    {
      v14 = 0;
      v15 = (v9 + 28);
      v16 = v8;
      v17 = result + 4;
      v18 = v12;
      v19 = 8 * v7;
      do
      {
        v20 = (*(a1[1] + 16))(a1, 1, (*(a1 + 86) * *v15 * *(a1 + 84)) / *(v15 - 5));
        result = memcpy(&v17[v16 - 4], v20, v19);
        v21 = &v20[v13];
        *(v17 - 4) = *v21;
        v17[v18 - 4] = *v20;
        if (v61 != 1)
        {
          *(v17 - 3) = v21[1];
          v17[v18 - 3] = v20[1];
          if (v61 != 2)
          {
            *(v17 - 2) = v21[2];
            v17[v18 - 2] = v20[2];
            if (v61 != 3)
            {
              *(v17 - 1) = v21[3];
              v17[v18 - 1] = v20[3];
              if (v61 != 4)
              {
                *v17 = v21[4];
                v17[v18] = v20[4];
              }
            }
          }
        }

        v15 += 24;
        v63[v14++] = &v17[v16 - 4];
        v17 = (v17 + v60);
        v19 = v62;
      }

      while (v14 < *(a1 + 23));
      return result;
    }

    v58 = (4 * v6);
    v59 = v6;
    v29 = 0;
    v30 = 8 * (2 * v6);
    v56 = v6 & 0x7FFFFFFC;
    v57 = &result[v58];
    v55 = -8 * v11;
    v31 = result + 2;
    v32 = &result[v58 + 2];
    v33 = result;
    v34 = 8 * v7;
    while (1)
    {
      v35 = result;
      v36 = (*(a1[1] + 16))(a1, 1, (*(a1 + 86) * *(v9 + 28) * *(a1 + 84)) / *(v9 + 8));
      memcpy(&v33[v59], v36, v34);
      v37 = 0;
      v38 = v57 + v60 * v29;
      if ((v38 - v36) < 0x20)
      {
        v39 = v61;
        result = v35;
        v40 = v58;
      }

      else
      {
        v39 = v61;
        result = v35;
        if ((v38 - (v36 + v30)) < 0x20)
        {
          v40 = v58;
        }

        else
        {
          v40 = v58;
          if (v36 + v55 * v29 - v35 >= 0x20 && (v35 + v60 * v29 - (v36 + v30)) >= 0x20 && v58 != 0)
          {
            v42 = (v36 + v30 + 16);
            v43 = v36 + 1;
            v44 = v31;
            v45 = v32;
            v46 = v56;
            do
            {
              v47 = *v42;
              *(v44 - 1) = *(v42 - 1);
              *v44 = v47;
              v48 = *v43;
              v42 += 2;
              *(v45 - 1) = *(v43 - 1);
              *v45 = v48;
              v45 += 2;
              v44 += 2;
              v43 += 2;
              v46 -= 4;
            }

            while (v46);
            v37 = v56;
            if (v56 == v61)
            {
              goto LABEL_22;
            }
          }
        }
      }

      v49 = v39 - v37;
      v50 = &v33[v40 + v37];
      v51 = v37;
      v52 = v36 + v37;
      v53 = &v33[v51];
      do
      {
        *v53++ = v52[v30 / 8];
        v54 = *v52++;
        *v50++ = v54;
        --v49;
      }

      while (v49);
LABEL_22:
      v34 = v62;
      v63[v29] = &v33[v59];
      v33 = (v33 + v60);
      ++v29;
      v9 += 96;
      v32 += v60;
      v31 = (v31 + v60);
      if (v29 >= *(a1 + 23))
      {
        return result;
      }
    }
  }

  result[1] = sub_1003A36A8;
  if (*(a1 + 23) >= 1)
  {
    v22 = 0;
    v23 = (a1[13] + 28);
    do
    {
      result = (*(a1[1] + 16))(a1, 1, (*(a1 + 86) * *v23 * *(a1 + 84)) / *(v23 - 5), *(a1 + 85));
      v5[v22++ + 2] = result;
      v23 += 24;
    }

    while (v22 < *(a1 + 23));
  }

  return result;
}

void *sub_1003A33C4(void *result, int a2)
{
  v2 = result;
  v3 = result[62];
  if (a2)
  {
    v4 = *result;
    *(v4 + 40) = 3;
    result = (*v4)(result);
  }

  v5 = *(v2 + 13);
  v3[25] = 0;
  v3[26] = 0;
  v3[24] = v5;
  v3[27] = 2 * *(v2 + 85);
  return result;
}

char *sub_1003A341C(char *result, uint64_t a2, _DWORD *a3, unsigned int a4, uint64_t a5, unsigned int *a6, unsigned int a7)
{
  if (*a6 < a7)
  {
    v7 = a7;
    v9 = a4;
    v10 = result;
    v11 = *(result + 62);
    v35 = 3 * *(result + 85);
    v12 = v11 + 4;
    do
    {
      v14 = *a3;
      if (v9 <= v14)
      {
        if (v11[24])
        {
          return result;
        }

        v21 = v11[25];
        v22 = v11[27];
        if (v21 < v22)
        {
          v23 = *(v10 + 23);
          if (v23 >= 1)
          {
            for (i = 0; i < v23; ++i)
            {
              v25 = v11[25];
              v26 = v11[27];
              if (v25 < v26)
              {
                v27 = *&v12[2 * i];
                v28 = *(v10 + 12);
                v29 = v25 - 1;
                do
                {
                  sub_1003C82D0(v27, v29, v27, v25++, 1, v28);
                }

                while (v26 != v25);
                v23 = *(v10 + 23);
              }
            }

            v22 = v11[27];
            v7 = a7;
            v9 = a4;
          }

          v11[25] = v22;
          v13 = *a6;
LABEL_32:
          result = (*(*(v10 + 66) + 8))(v10, v11 + 4, v11[26], a5, v13);
          ++*a6;
          v30 = *(v10 + 85);
          v31 = v11[25];
          v32 = v11[26] + v30;
          if (v32 >= v35)
          {
            v32 = 0;
          }

          v11[26] = v32;
          if (v31 >= v35)
          {
            v31 = 0;
            v11[25] = 0;
          }

          v11[27] = v31 + v30;
          LODWORD(v13) = *a6;
          continue;
        }
      }

      else
      {
        if (v11[27] - v11[25] >= v9 - v14)
        {
          v15 = v9 - v14;
        }

        else
        {
          v15 = v11[27] - v11[25];
        }

        result = (*(*(v10 + 65) + 8))(v10, a2 + 8 * v14, v11 + 4);
        if (v11[24] == *(v10 + 13))
        {
          v16 = *(v10 + 23);
          if (v16 >= 1)
          {
            v17 = *(v10 + 85);
            if (v17 >= 1)
            {
              for (j = 0; j < v16; ++j)
              {
                if (v17 >= 1)
                {
                  v19 = 0;
                  v20 = -1;
                  do
                  {
                    result = sub_1003C82D0(*&v12[2 * j], 0, *&v12[2 * j], v20, 1, *(v10 + 12));
                    v17 = *(v10 + 85);
                    ++v19;
                    --v20;
                  }

                  while (v19 < v17);
                  v16 = *(v10 + 23);
                }
              }
            }
          }
        }

        *a3 += v15;
        v21 = v11[25] + v15;
        v11[24] -= v15;
        v11[25] = v21;
        v22 = v11[27];
        v9 = a4;
      }

      v13 = *a6;
      if (v21 == v22)
      {
        goto LABEL_32;
      }
    }

    while (v13 < v7);
  }

  return result;
}

char *sub_1003A36A8(char *result, uint64_t a2, unsigned int *a3, unsigned int a4, uint64_t a5, unsigned int *a6, unsigned int a7)
{
  v7 = *a3;
  if (*a3 < a4)
  {
    v8 = a7;
    v9 = a6;
    v10 = a5;
    v12 = result;
    v13 = *(result + 62);
    v38 = a4;
    do
    {
      if (*v9 >= v8)
      {
        return result;
      }

      if (*(v12 + 85) - *(v13 + 100) >= a4 - v7)
      {
        v14 = a4 - v7;
      }

      else
      {
        v14 = *(v12 + 85) - *(v13 + 100);
      }

      result = (*(*(v12 + 65) + 8))(v12, a2 + 8 * v7, v13 + 16);
      *a3 += v14;
      v15 = *(v13 + 100) + v14;
      v16 = *(v13 + 96) == v14;
      *(v13 + 96) -= v14;
      *(v13 + 100) = v15;
      v17 = *(v12 + 85);
      if (v16 && v15 < v17)
      {
        v19 = *(v12 + 23);
        if (v19 >= 1)
        {
          for (i = 0; i < v19; ++i)
          {
            v21 = *(v13 + 100);
            v22 = *(v12 + 85);
            if (v21 < v22)
            {
              v23 = *(v13 + 16 + 8 * i);
              v24 = *(v12 + 12);
              v25 = v21 - 1;
              do
              {
                sub_1003C82D0(v23, v25, v23, v21++, 1, v24);
              }

              while (v22 != v21);
              v19 = *(v12 + 23);
            }
          }

          v17 = *(v12 + 85);
          v8 = a7;
          v10 = a5;
          v9 = a6;
        }

        *(v13 + 100) = v17;
      }

      else if (v15 != v17)
      {
        if (*(v13 + 96))
        {
          goto LABEL_3;
        }

        goto LABEL_25;
      }

      result = (*(*(v12 + 66) + 8))(v12, v13 + 16, 0, v10, *v9);
      *(v13 + 100) = 0;
      ++*v9;
      if (*(v13 + 96))
      {
        goto LABEL_3;
      }

LABEL_25:
      if (*v9 < v8)
      {
        v26 = *(v12 + 23);
        if (v26 >= 1)
        {
          v27 = 0;
          v28 = *(v12 + 13);
          do
          {
            v29 = v28[10] * v28[3] / *(v12 + 87);
            v30 = *v9 * v29;
            if (v30 < (v29 * v8))
            {
              v31 = *(a5 + 8 * v27);
              v32 = (v28[9] * v28[7]);
              v33 = v30 - 1;
              v34 = v29 * (v8 - *v9);
              do
              {
                result = sub_1003C82D0(v31, v33, v31, v30++, 1, v32);
                --v34;
              }

              while (v34);
              v26 = *(v12 + 23);
              v9 = a6;
            }

            ++v27;
            v28 += 24;
          }

          while (v27 < v26);
        }

        *v9 = v8;
        return result;
      }

LABEL_3:
      v7 = *a3;
      a4 = v38;
    }

    while (*a3 < v38);
  }

  return result;
}

uint64_t sub_1003A3920(uint64_t *a1)
{
  result = (*a1[1])();
  v3 = result;
  a1[66] = result;
  *result = nullsub_102;
  *(result + 8) = sub_1003A3B78;
  *(result + 16) = 0;
  if (*(a1 + 291))
  {
    v4 = *a1;
    *(v4 + 40) = 26;
    result = (*v4)(a1);
  }

  if (*(a1 + 23) >= 1)
  {
    v5 = 0;
    v6 = (a1[13] + 40);
    v7 = 1;
    while (1)
    {
      v10 = *(v6 - 1) * *(v6 - 8);
      v11 = *(a1 + 86);
      v12 = *v6 * *(v6 - 7) / *(a1 + 87);
      v13 = *(a1 + 84);
      v14 = *(a1 + 85);
      *(v3 + 4 * v5 + 104) = v12;
      v15 = v10 / v11;
      if (v13 == v15 && v14 == v12)
      {
        v8 = v3 + 8 * v5;
        if (*(a1 + 74))
        {
          v16 = sub_1003A3C24;
LABEL_12:
          *(v8 + 24) = v16;
          *(v3 + 16) = 1;
          goto LABEL_7;
        }

        v9 = sub_1003A4248;
      }

      else if (v13 == 2 * v15 && v14 == v12)
      {
        v7 = 0;
        v8 = v3 + 8 * v5;
        v9 = sub_1003A42DC;
      }

      else
      {
        if (v13 != 2 * v15 || v14 != 2 * v12)
        {
          v19 = v13 / v15;
          if (v13 % v15 || (v20 = v14 / v12, v14 % v12))
          {
            v21 = *a1;
            *(v21 + 40) = 39;
            result = (*v21)(a1);
          }

          else
          {
            v7 = 0;
            *(v3 + 8 * v5 + 24) = sub_1003A4EE0;
            v22 = v3 + v5;
            *(v22 + 144) = v19;
            *(v22 + 154) = v20;
          }

          goto LABEL_7;
        }

        v8 = v3 + 8 * v5;
        if (*(a1 + 74))
        {
          v16 = sub_1003A43C8;
          goto LABEL_12;
        }

        v9 = sub_1003A4DD4;
      }

      *(v8 + 24) = v9;
LABEL_7:
      v6 += 24;
      if (++v5 >= *(a1 + 23))
      {
        if (*(a1 + 74) && !v7)
        {
          v23 = *a1;
          *(v23 + 40) = 101;
          v24 = *(v23 + 8);

          return v24(a1, 0);
        }

        return result;
      }
    }
  }

  return result;
}

uint64_t sub_1003A3B78(uint64_t result, uint64_t a2, unsigned int a3, uint64_t a4, int a5)
{
  if (*(result + 92) >= 1)
  {
    v8 = result;
    v9 = 0;
    v10 = *(result + 104);
    v11 = a3;
    v12 = *(result + 528) + 104;
    do
    {
      result = (*(v12 + 8 * v9 - 80))(v8, v10, *(a2 + 8 * v9) + 8 * v11, *(a4 + 8 * v9) + 8 * (*(v12 + 4 * v9) * a5));
      ++v9;
      v10 += 96;
    }

    while (v9 < *(v8 + 92));
  }

  return result;
}

unint64_t sub_1003A3C24(unint64_t result, uint64_t a2, unsigned __int8 **a3, void *a4)
{
  v5 = a3;
  v6 = result;
  v7 = *(a2 + 36) * *(a2 + 28);
  v8 = *(result + 340);
  v9 = *(result + 48);
  if (v8 >= -1 && v7 - v9 >= 1)
  {
    v11 = a3 - 1;
    v12 = (v8 + 2);
    do
    {
      v13 = *v11++;
      result = memset((v13 + v9), *(v13 + v9 - 1), (v7 + ~v9) + 1);
      --v12;
    }

    while (v12);
    v8 = *(v6 + 340);
  }

  if (v8 >= 1)
  {
    v14 = *(v6 + 296);
    v15 = 0x10000 - (v14 << 9);
    v16 = (v14 << 6);
    v17 = (v7 - 2);
    if (v7 != 2)
    {
      v18 = 0;
      v19 = (v7 - 3);
      v20 = v19 + 3;
      v21 = v17 & 0xFFFFFFF0;
      v22 = vdupq_n_s64(v15);
      v23 = vdupq_n_s64(v16);
      v24 = vdupq_n_s64(0x8000uLL);
      while (1)
      {
        v25 = a4[v18];
        v26 = &v5[v18];
        v27 = *(v26 - 1);
        v28 = *v26;
        v29 = v5[++v18];
        v30 = v27 + 1;
        v31 = v29 + 1;
        v32 = **v26;
        v33 = *v29 + *v27 + v32;
        v34 = *v26;
        v36 = v34[1];
        v35 = v34 + 1;
        v37 = v29[1] + v27[1] + v36;
        *v25 = ((v37 - v32 + 2 * v33) * v16 + v15 * v32 + 0x8000) >> 16;
        v38 = (v25 + 1);
        if (v17 < 0x10)
        {
          break;
        }

        v50 = &v25[v19];
        v51 = &v25[v19 + 2];
        v52 = v38 >= &v27[v20] || v27 >= v50;
        v53 = !v52;
        v54 = v38 >= &v29[v20] || v29 >= v50;
        v55 = !v54;
        v56 = v35 >= v51 || v38 >= &v28[v20];
        if (!v56 || v53 || v55)
        {
          break;
        }

        v39 = (v38 + v21);
        v31 += v21;
        v30 += v21;
        v35 += v21;
        v57 = vdupq_n_s32(v33);
        v58 = vdupq_n_s32(v37);
        v59 = (v27 + 2);
        v60 = (v29 + 2);
        v61 = (v28 + 2);
        v62 = v17 & 0xFFFFFFF0;
        do
        {
          v63 = *(&v61[-1].u32[1] + 3);
          v64 = vmovl_high_u8(v63);
          v65 = vmovl_high_u16(v64);
          v66.i64[0] = v65.u32[2];
          v66.i64[1] = v65.u32[3];
          v67 = v66;
          v68 = vmovl_u16(*v64.i8);
          v66.i64[0] = v68.u32[2];
          v66.i64[1] = v68.u32[3];
          v69 = v66;
          v66.i64[0] = v65.u32[0];
          v66.i64[1] = v65.u32[1];
          v70 = v66;
          v66.i64[0] = v68.u32[0];
          v66.i64[1] = v68.u32[1];
          v71 = v66;
          v72 = vmovl_u8(*v63.i8);
          v73 = vmovl_high_u16(v72);
          v66.i64[0] = v73.u32[2];
          v66.i64[1] = v73.u32[3];
          v74 = v66;
          v66.i64[0] = v73.u32[0];
          v66.i64[1] = v73.u32[1];
          v75 = vmovl_u16(*v72.i8);
          v76 = *v59++;
          v77 = v76;
          v78 = *v60++;
          v79 = vaddl_u8(*v78.i8, *v77.i8);
          v80 = vaddl_high_u8(v78, v77);
          v81 = vmovl_u8(*v61);
          v82 = vmovl_high_u8(*v61->i8);
          v83 = vaddl_u16(*v79.i8, *v81.i8);
          v84 = vextq_s8(v58, v83, 0xCuLL);
          v85 = vuzp2q_s32(v57, v58);
          v58 = vaddl_high_u16(v80, v82);
          v86 = vaddl_u16(*v80.i8, *v82.i8);
          v87 = vaddl_high_u16(v79, v81);
          v88 = vextq_s8(v83, v87, 0xCuLL);
          v89 = vextq_s8(v87, v86, 0xCuLL);
          v82.i64[0] = vuzp2q_s32(v85, v57).u64[0];
          v57 = vextq_s8(v86, v58, 0xCuLL);
          v90 = vextq_s8(v86, v58, 8uLL);
          v91 = vextq_s8(v87, v86, 8uLL);
          v92 = vextq_s8(v83, v87, 8uLL);
          v93 = vaddl_high_u32(v90, v57);
          v94 = vaddl_high_u32(v91, v89);
          v95 = vaddl_u32(*v91.i8, *v89.i8);
          v96 = vaddl_high_u32(v92, v88);
          v97 = vsubw_u32(vaddl_u32(*v92.i8, *v88.i8), *v73.i8);
          v98 = vsubw_high_u32(v96, v73);
          v99 = vsubw_u32(v95, *v68.i8);
          v100 = vsubw_u32(vaddl_u32(*v90.i8, *v57.i8), *v65.i8);
          v101 = vsubw_high_u32(v94, v68);
          v102 = vsubw_u32(vaddl_u32(*v82.i8, *v84.i8), *v75.i8);
          v103 = vaddw_high_u32(v101, v86);
          v104 = vaddw_u32(v99, *v86.i8);
          v105 = vaddw_high_u32(v98, v87);
          v106 = vaddw_u32(v97, *v87.i8);
          v107 = vaddw_high_u32(vsubw_high_u32(v93, v65), v58);
          v108 = vaddw_u32(v100, *v58.i8);
          v65.i64[0] = v22.i64[0] * v75.u32[0];
          v109.i64[0] = v22.i64[0] * v75.u32[2];
          v110.i64[0] = v22.i64[0] * v66.i64[0];
          v74.i64[0] *= v22.i64[0];
          v71.i64[0] *= v22.i64[0];
          v65.i64[1] = v22.i64[1] * v75.u32[1];
          v109.i64[1] = v22.i64[1] * v75.u32[3];
          v70.i64[0] *= v22.i64[0];
          v110.i64[1] = v22.i64[1] * v66.i64[1];
          v69.i64[0] *= v22.i64[0];
          v74.i64[1] *= v22.i64[1];
          v71.i64[1] *= v22.i64[1];
          v70.i64[1] *= v22.i64[1];
          v67.i64[0] *= v22.i64[0];
          v69.i64[1] *= v22.i64[1];
          v67.i64[1] *= v22.i64[1];
          v111 = v104.i64[1];
          v112 = v104.i64[0];
          v104.i64[0] = v106.i64[0] * v23.i64[0];
          v105.i64[0] *= v23.i64[0];
          v106.i64[0] = v112 * v23.i64[0];
          v103.i64[0] *= v23.i64[0];
          v113 = v107.i64[0] * v23.i64[0];
          v107.i64[0] = v108.i64[0] * v23.i64[0];
          v114 = vaddw_u32(v102, *v83.i8);
          v108.i64[0] = v113;
          v104.i64[1] = v106.i64[1] * v23.i64[1];
          v105.i64[1] *= v23.i64[1];
          v114.i64[0] *= v23.i64[0];
          v66.i64[0] = v83.u32[0];
          v66.i64[1] = v83.u32[1];
          v106.i64[1] = v111 * v23.i64[1];
          v115 = vaddw_high_u32(vsubw_high_u32(vaddw_high_u32(v66, v84), v75), v83);
          v103.i64[1] *= v23.i64[1];
          v116 = v107.i64[1] * v23.i64[1];
          v114.i64[1] *= v23.i64[1];
          v107.i64[1] = v108.i64[1] * v23.i64[1];
          v108.i64[1] = v116;
          v115.i64[0] *= v23.i64[0];
          v115.i64[1] *= v23.i64[1];
          v117 = vaddq_s64(vaddq_s64(v74, v24), v105);
          v118 = vaddq_s64(vaddq_s64(v69, v24), v103);
          v119 = vaddq_s64(vaddq_s64(v65, v24), v114);
          v129.val[3] = vshrq_n_u64(vaddq_s64(vaddq_s64(v67, v24), v108), 0x10uLL);
          v129.val[1] = vshrq_n_u64(v118, 0x10uLL);
          v129.val[2] = vshrq_n_u64(vaddq_s64(vaddq_s64(v70, v24), v107), 0x10uLL);
          v129.val[0] = vshrq_n_u64(vaddq_s64(vaddq_s64(v71, v24), v106), 0x10uLL);
          v128.val[3] = vshrq_n_u64(v117, 0x10uLL);
          v128.val[2] = vshrq_n_u64(vaddq_s64(vaddq_s64(v110, v24), v104), 0x10uLL);
          v128.val[1] = vshrq_n_u64(vaddq_s64(vaddq_s64(v109, v24), v115), 0x10uLL);
          v128.val[0] = vshrq_n_u64(v119, 0x10uLL);
          v115.i64[0] = vqtbl4q_s8(v128, xmmword_1003E9AF0).u64[0];
          v115.i64[1] = vqtbl4q_s8(v129, xmmword_1003E9AF0).u64[0];
          *v38++ = v115;
          v61 += 2;
          v62 -= 16;
        }

        while (v62);
        v37 = v58.u32[3];
        if (v21 != v17)
        {
          v33 = v58.u32[2];
          v40 = v17 - (v17 & 0xFFFFFFF0);
LABEL_15:
          v41 = v31 + 1;
          v42 = v30 + 1;
          do
          {
            v43 = v35;
            v44 = v37;
            v46 = *++v35;
            v45 = v46;
            v48 = *v42++;
            v47 = v48;
            v49 = *v41++;
            v37 = v49 + v47 + v45;
            v39->i8[0] = ((v33 + v44 - *v43 + v37) * v16 + v15 * *v43 + 0x8000) >> 16;
            v39 = (v39 + 1);
            v33 = v44;
            --v40;
          }

          while (v40);
          result = v44;
          goto LABEL_12;
        }

        result = v57.u32[3];
LABEL_12:
        v39->i8[0] = ((result + 2 * v37 - *v35) * v16 + v15 * *v35 + 0x8000) >> 16;
        if (v18 >= *(v6 + 340))
        {
          return result;
        }
      }

      v39 = v38;
      v40 = v17;
      goto LABEL_15;
    }

    v120 = 0;
    do
    {
      v122 = *a4++;
      v121 = v122;
      v124 = *(v5 - 1);
      v123 = *v5;
      v125 = v5[1];
      ++v5;
      v126 = *v123;
      v127 = *v125 + *v124;
      LODWORD(v124) = v125[1] + v124[1] + v123[1];
      *v121 = ((v124 - v126 + 2 * (v127 + v126)) * v16 + v15 * v126 + 0x8000) >> 16;
      ++v120;
      v121[1] = ((v127 + v126 + 2 * v124 - v123[1]) * v16 + v15 * v123[1] + 0x8000) >> 16;
    }

    while (v120 < *(v6 + 340));
  }

  return result;
}

void *sub_1003A4248(uint64_t a1, uint64_t a2, char *a3, uint64_t a4)
{
  v4 = a4;
  result = sub_1003C82D0(a3, 0, a4, 0, *(a1 + 340), *(a1 + 48));
  v8 = *(a1 + 340);
  v9 = *(a1 + 48);
  v10 = *(a2 + 36) * *(a2 + 28);
  if (v8 >= 1 && v10 - v9 >= 1)
  {
    v12 = (v10 + ~v9);
    do
    {
      v13 = *v4++;
      result = memset((v13 + v9), *(v13 + v9 - 1), v12 + 1);
      --v8;
    }

    while (v8);
  }

  return result;
}

unsigned int *sub_1003A42DC(unsigned int *result, uint64_t a2, uint64_t *a3, uint64_t a4)
{
  v6 = result;
  v7 = *(a2 + 36) * *(a2 + 28);
  v8 = result[85];
  v9 = result[12];
  if (v8 >= 1 && 2 * v7 - v9 >= 1)
  {
    v11 = a3;
    do
    {
      v12 = *v11++;
      result = memset((v12 + v9), *(v12 + v9 - 1), (2 * v7 + ~v9) + 1);
      --v8;
    }

    while (v8);
    LODWORD(v8) = v6[85];
  }

  if (v8 >= 1 && v7 != 0)
  {
    v14 = 0;
    do
    {
      v15 = 0;
      v16 = *(a4 + 8 * v14);
      v17 = a3[v14];
      v18 = v7;
      do
      {
        *v16++ = (v15 + *v17 + v17[1]) >> 1;
        v15 ^= 1u;
        v17 += 2;
        --v18;
      }

      while (v18);
      ++v14;
    }

    while (v14 < v6[85]);
  }

  return result;
}

unsigned __int8 *sub_1003A43C8(unsigned __int8 *result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v5 = a3;
  v6 = result;
  v7 = *(a2 + 36) * *(a2 + 28);
  v8 = *(result + 85);
  v9 = *(result + 12);
  if (v8 >= -1 && 2 * v7 - v9 >= 1)
  {
    v11 = (a3 - 8);
    v12 = (v8 + 2);
    do
    {
      v13 = *v11++;
      result = memset((v13 + v9), *(v13 + v9 - 1), (2 * v7 + ~v9) + 1);
      --v12;
    }

    while (v12);
    v8 = *(v6 + 85);
  }

  if (v8 >= 1)
  {
    v14 = 0;
    v15 = 0;
    v16 = *(v6 + 74);
    v17 = (-80 * v16 + 0x4000);
    v18 = (16 * v16);
    v19 = v7 - 2;
    v20 = (v7 - 3);
    v200 = 2 * v20 + 5;
    v190 = 2 * ((v7 - 2) & 0xFFFFFFF0);
    v21 = xmmword_1003E3700;
    v22 = xmmword_1003E3730;
    v199 = (v7 - 2) & 0xFFFFFFF0;
    v189 = v19 - (v19 & 0xFFFFFFF0);
    v195 = v5;
    v196 = a4;
    v193 = -80 * v16 + 0x4000;
    v194 = v6;
    v192 = 16 * v16;
    v191 = v20;
    v203 = vdupq_n_s64(0x8000uLL);
    v204 = vdupq_n_s64(0x1FFFFFFFEuLL);
    v202 = vdupq_n_s64(v17);
    v201 = vdupq_n_s64(v18);
    do
    {
      v25 = *(a4 + 8 * v14);
      v26 = (v5 + 8 * v15);
      v28 = *v26;
      v27 = v26[1];
      v29 = *(v26 - 1);
      v15 += 2;
      v30 = *(v5 + 8 * v15);
      v31 = *v27 + *v28;
      result = v28 + 2;
      v32 = v27 + 2;
      v33 = v29 + 2;
      v34 = v30 + 2;
      *v25 = ((*v30 + *v29 + v29[2] + v30[2] + 2 * (v31 + *v29 + v29[1] + *v30 + v30[1] + v28[2] + v27[2])) * v18 + (v31 + v28[1] + v27[1]) * v17 + 0x8000) >> 16;
      v35 = (v25 + 1);
      if (v19)
      {
        if (v19 < 0x10 || ((v47 = &v25[v20 + 2], v35 < &v27[v200]) ? (v48 = (v27 + 1) >= v47) : (v48 = 1), v48 ? (v49 = 0) : (v49 = 1), v35 < &v29[v200] ? (v50 = (v29 + 1) >= v47) : (v50 = 1), v50 ? (v51 = 0) : (v51 = 1), v35 < &v30[v200] ? (v52 = (v30 + 1) >= v47) : (v52 = 1), v52 ? (v53 = 0) : (v53 = 1), (v28 + 1) < v47 ? (v54 = v35 >= &v28[v200]) : (v54 = 1), !v54 || (v49 & 1) != 0 || (v51 & 1) != 0 || (v53 & 1) != 0))
        {
          v23 = v35;
          v36 = v19;
        }

        else
        {
          v197 = v15;
          v198 = v14;
          v55 = (v7 - 2) & 0xFFFFFFF0;
          v23 = (v35 + v199);
          v34 += v190;
          v33 += v190;
          v32 += v190;
          result += v190;
          v56 = (v28 + 3);
          v57 = (v27 + 3);
          v58 = (v30 + 3);
          v59 = (v29 + 3);
          do
          {
            v216 = v55;
            v60 = v56 - 2;
            v222 = vld2q_s8(v60);
            v225 = vld2q_s8(v56);
            v56 += 32;
            v61 = vqtbl1q_s8(v222.val[1], xmmword_1003E3710);
            v62 = vqtbl1q_s8(v222.val[1], v21);
            v63 = vqtbl1q_s8(v222.val[1], v22);
            v64 = vqtbl1q_s8(v225.val[0], xmmword_1003E3710);
            v65 = vqtbl1q_s8(v222.val[1], xmmword_1003E3720);
            v66 = vqtbl1q_s8(v225.val[0], v21);
            v67 = vqtbl1q_s8(v225.val[0], v22);
            v68 = v21;
            v69 = vqtbl1q_s8(v225.val[0], xmmword_1003E3720);
            v70 = vaddl_high_u32(v64, v61);
            v71 = vaddl_high_u32(v66, v62);
            v72 = vaddl_u32(*v64.i8, *v61.i8);
            v73 = v57 - 2;
            v221 = vld2q_s8(v73);
            v74 = vaddl_u32(*v66.i8, *v62.i8);
            v75 = vaddl_high_u32(v67, v63);
            v76 = vaddl_high_u32(v69, v65);
            v77 = vaddl_u32(*v67.i8, *v63.i8);
            v78 = vqtbl1q_s8(v221.val[1], xmmword_1003E3720);
            v79 = vqtbl1q_s8(v221.val[1], v22);
            v80 = vaddl_u32(*v69.i8, *v65.i8);
            v81 = vqtbl1q_s8(v221.val[1], v68);
            v82 = vqtbl1q_s8(v221.val[1], xmmword_1003E3710);
            v218 = vaddw_u32(v80, *v78.i8);
            v208 = vaddw_u32(v77, *v79.i8);
            v83 = v22;
            v84 = vaddw_high_u32(v76, v78);
            v85 = vaddw_high_u32(v75, v79);
            v227 = vld2q_s8(v57);
            v86 = v57 + 32;
            v219 = v86;
            v87 = vaddw_u32(v74, *v81.i8);
            v88 = vaddw_u32(v72, *v82.i8);
            v89 = vqtbl1q_s8(v227.val[0], xmmword_1003E3710);
            v90 = vqtbl1q_s8(v227.val[0], v68);
            v91 = vqtbl1q_s8(v227.val[0], v83);
            v92 = v59 - 2;
            v93 = vaddw_high_u32(v71, v81);
            v220 = vld2q_s8(v92);
            v94 = vqtbl1q_s8(v220.val[1], xmmword_1003E3710);
            v223 = vld2q_s8(v59);
            v95 = v59 + 32;
            v212 = v223.val[1];
            v217 = v95;
            v215 = vaddw_high_u32(vaddw_high_u32(v70, v82), v89);
            v211 = v220.val[0];
            v96 = vqtbl1q_s8(v220.val[1], v68);
            v97 = vqtbl1q_s8(v220.val[1], v83);
            v98 = vqtbl1q_s8(v220.val[1], xmmword_1003E3720);
            v99 = vqtbl1q_s8(v223.val[0], xmmword_1003E3710);
            v220.val[0] = vqtbl1q_s8(v223.val[0], v68);
            v214 = vaddw_high_u32(v93, v90);
            v100 = vqtbl1q_s8(v223.val[0], v83);
            v220.val[1] = vqtbl1q_s8(v223.val[0], xmmword_1003E3720);
            v101 = vaddl_high_u32(v99, v94);
            v102 = vaddl_u32(*v99.i8, *v94.i8);
            v103 = vaddl_high_u32(v220.val[0], v96);
            v213 = vaddw_u32(v88, *v89.i8);
            v220.val[0] = vaddl_u32(*v220.val[0].i8, *v96.i8);
            v104 = vaddl_high_u32(v100, v97);
            v105 = vaddl_high_u32(v220.val[1], v98);
            v106 = vaddl_u32(*v100.i8, *v97.i8);
            v210 = vaddw_u32(v87, *v90.i8);
            v107 = v58 - 2;
            v224 = vld2q_s8(v107);
            v108 = vqtbl1q_s8(v224.val[1], xmmword_1003E3720);
            v109 = vaddw_u32(vaddl_u32(*v220.val[1].i8, *v98.i8), *v108.i8);
            v220.val[1] = vaddw_high_u32(v105, v108);
            v110 = vqtbl1q_s8(v227.val[0], xmmword_1003E3720);
            v111 = vaddw_high_u32(v85, v91);
            v112 = vaddw_high_u32(v84, v110);
            v113 = vaddw_u32(v208, *v91.i8);
            v114 = vqtbl1q_s8(v224.val[1], v83);
            v115 = vaddw_u32(v106, *v114.i8);
            v116 = vaddw_high_u32(v104, v114);
            v117 = vqtbl1q_s8(v224.val[1], v68);
            v118 = vaddw_u32(v220.val[0], *v117.i8);
            v119 = vaddw_u32(v218, *v110.i8);
            v120 = vaddw_high_u32(v103, v117);
            v22 = v83;
            v226 = vld2q_s8(v58);
            v58 += 32;
            v121 = vqtbl1q_s8(v224.val[1], xmmword_1003E3710);
            v122 = vaddw_u32(v102, *v121.i8);
            v123 = vaddw_high_u32(v101, v121);
            v124 = vqtbl1q_s8(v226.val[0], xmmword_1003E3710);
            v125 = vaddw_high_u32(v123, v124);
            v126 = vaddw_u32(v122, *v124.i8);
            v127 = vqtbl1q_s8(v226.val[0], v68);
            v128 = vaddw_high_u32(v120, v127);
            v129 = vaddw_u32(v118, *v127.i8);
            v130 = vqtbl1q_s8(v226.val[0], v83);
            v131 = vaddw_high_u32(v116, v130);
            v132 = vaddw_u32(v115, *v130.i8);
            v133 = vqtbl1q_s8(v226.val[0], xmmword_1003E3720);
            v220.val[1] = vaddw_high_u32(v220.val[1], v133);
            v134 = vaddw_u32(v109, *v133.i8);
            v135 = vqtbl1q_s8(v222.val[0], xmmword_1003E3720);
            v136 = vqtbl1q_s8(v222.val[0], v83);
            v220.val[0] = vqtbl1q_s8(v222.val[0], v68);
            v222.val[0] = vqtbl1q_s8(v222.val[0], xmmword_1003E3710);
            v137 = vaddw_u32(v132, *v136.i8);
            v138 = vaddw_high_u32(v131, v136);
            v139 = vaddw_u32(v129, *v220.val[0].i8);
            v222.val[1] = vaddw_u32(v126, *v222.val[0].i8);
            v220.val[0] = vaddw_high_u32(v128, v220.val[0]);
            v140 = vaddw_high_u32(v125, v222.val[0]);
            v141 = vqtbl1q_s8(v225.val[1], xmmword_1003E3710);
            v142 = vqtbl1q_s8(v225.val[1], v68);
            v143 = vqtbl1q_s8(v225.val[1], v83);
            v225.val[0] = vqtbl1q_s8(v225.val[1], xmmword_1003E3720);
            v222.val[0] = vaddw_high_u32(v140, v141);
            v222.val[1] = vaddw_u32(v222.val[1], *v141.i8);
            v220.val[0] = vaddw_high_u32(v220.val[0], v142);
            v144 = vaddw_u32(v139, *v142.i8);
            v220.val[1] = vaddw_high_u32(vaddw_high_u32(v220.val[1], v135), v225.val[0]);
            v145 = vaddw_u32(vaddw_u32(v134, *v135.i8), *v225.val[0].i8);
            v146 = vqtbl1q_s8(v221.val[0], xmmword_1003E3720);
            v147 = vqtbl1q_s8(v221.val[0], v83);
            v148 = vqtbl1q_s8(v221.val[0], v68);
            v225.val[0] = vqtbl1q_s8(v221.val[0], xmmword_1003E3710);
            v149 = vaddw_high_u32(v220.val[1], v146);
            v221.val[0] = vaddw_high_u32(vaddw_high_u32(v138, v143), v147);
            v209 = vaddw_u32(v144, *v148.i8);
            v150 = vaddw_high_u32(v220.val[0], v148);
            v151 = v119.i64[0];
            v206 = v113.i64[1];
            v207 = v119.i64[1];
            v222.val[1] = vaddw_u32(v222.val[1], *v225.val[0].i8);
            v205 = v113.i64[0];
            v152 = vqtbl1q_s8(v227.val[1], xmmword_1003E3710);
            v225.val[0] = vaddw_high_u32(v222.val[0], v225.val[0]);
            v222.val[0] = vqtbl1q_s8(v227.val[1], v68);
            v220.val[0] = vqtbl1q_s8(v227.val[1], v22);
            v227.val[0] = vqtbl1q_s8(v227.val[1], xmmword_1003E3720);
            v221.val[0] = vaddw_high_u32(v221.val[0], v220.val[0]);
            v220.val[0] = vaddw_u32(vaddw_u32(vaddw_u32(v137, *v143.i8), *v147.i8), *v220.val[0].i8);
            v220.val[1] = vaddw_u32(vaddw_u32(v145, *v146.i8), *v227.val[0].i8);
            v221.val[1] = vqtbl1q_s8(v211, xmmword_1003E3720);
            v227.val[1] = vqtbl1q_s8(v211, v22);
            v153 = v111.i64[1];
            v154 = v111.i64[0];
            v21 = v68;
            v155 = vqtbl1q_s8(v212, xmmword_1003E3720);
            v156 = vqtbl1q_s8(v212, v22);
            v157 = vqtbl1q_s8(v224.val[0], xmmword_1003E3720);
            v158 = vqtbl1q_s8(v226.val[1], xmmword_1003E3720);
            v220.val[1] = vaddw_u32(vaddq_s64(vaddw_u32(vaddl_u32(*v155.i8, *v221.val[1].i8), *v157.i8), vandq_s8(vaddq_s64(v220.val[1], v220.val[1]), v204)), *v158.i8);
            v159 = v220.val[1].i64[1];
            v160 = v220.val[1].i64[0];
            v220.val[1] = vqtbl1q_s8(v224.val[0], v22);
            v161 = vqtbl1q_s8(v226.val[1], v22);
            v220.val[0] = vaddw_u32(vaddq_s64(vaddw_u32(vaddl_u32(*v156.i8, *v227.val[1].i8), *v220.val[1].i8), vandq_s8(vaddq_s64(v220.val[0], v220.val[0]), v204)), *v161.i8);
            v162 = v220.val[0].i64[1];
            v163 = v220.val[0].i64[0];
            v220.val[0] = vaddw_high_u32(v149, v227.val[0]);
            v220.val[0] = vaddw_high_u32(vaddq_s64(vaddw_high_u32(vaddl_high_u32(v155, v221.val[1]), v157), vandq_s8(vaddq_s64(v220.val[0], v220.val[0]), v204)), v158);
            v164 = v220.val[0].i64[1];
            v165 = v220.val[0].i64[0];
            v220.val[0] = vaddw_high_u32(vaddq_s64(vaddw_high_u32(vaddl_high_u32(v156, v227.val[1]), v220.val[1]), vandq_s8(vaddq_s64(v221.val[0], v221.val[0]), v204)), v161);
            v166 = v220.val[0].i64[1];
            v220.val[1] = vaddw_high_u32(v225.val[0], v152);
            v167 = vaddw_high_u32(v150, v222.val[0]);
            v168 = vaddw_u32(v222.val[1], *v152.i8);
            v221.val[0] = vaddw_u32(v209, *v222.val[0].i8);
            v169 = v220.val[0].i64[0];
            v220.val[0] = vqtbl1q_s8(v211, v68);
            v221.val[1] = vqtbl1q_s8(v212, v68);
            v222.val[1] = vqtbl1q_s8(v224.val[0], v68);
            v170 = vqtbl1q_s8(v226.val[1], v68);
            v221.val[0] = vaddw_u32(vaddq_s64(vaddw_u32(vaddl_u32(*v221.val[1].i8, *v220.val[0].i8), *v222.val[1].i8), vandq_s8(vaddq_s64(v221.val[0], v221.val[0]), v204)), *v170.i8);
            v171 = v35;
            v172 = v221.val[0].i64[1];
            v173 = v221.val[0].i64[0];
            v221.val[0] = vqtbl1q_s8(v211, xmmword_1003E3710);
            v222.val[0] = vqtbl1q_s8(v212, xmmword_1003E3710);
            v220.val[0] = vaddl_high_u32(v221.val[1], v220.val[0]);
            v221.val[1] = vaddl_u32(*v222.val[0].i8, *v221.val[0].i8);
            v222.val[0] = vaddl_high_u32(v222.val[0], v221.val[0]);
            v174 = vqtbl1q_s8(v224.val[0], xmmword_1003E3710);
            v157.i64[0] = v151 * v202.i64[0];
            v220.val[0] = vaddw_high_u32(v220.val[0], v222.val[1]);
            v221.val[0].i64[0] = v205 * v202.i64[0];
            v175 = vaddw_high_u32(v222.val[0], v174);
            v222.val[1] = vaddw_u32(v221.val[1], *v174.i8);
            v221.val[1].i64[0] = v112.i64[0] * v202.i64[0];
            v176 = vqtbl1q_s8(v226.val[1], xmmword_1003E3710);
            v222.val[0].i64[0] = v154 * v202.i64[0];
            v177 = vaddq_s64(v222.val[1], vandq_s8(vaddq_s64(v168, v168), v204));
            v222.val[1].i64[0] = v210.i64[0] * v202.i64[0];
            v178 = vaddq_s64(v220.val[0], vandq_s8(vaddq_s64(v167, v167), v204));
            v161.i64[0] = v213.i64[0] * v202.i64[0];
            v220.val[0] = vaddq_s64(v175, vandq_s8(vaddq_s64(v220.val[1], v220.val[1]), v204));
            v175.i64[0] = v214.i64[0] * v202.i64[0];
            v157.i64[1] = v207 * v202.i64[1];
            v221.val[0].i64[1] = v206 * v202.i64[1];
            v221.val[1].i64[1] = v112.i64[1] * v202.i64[1];
            v222.val[0].i64[1] = v153 * v202.i64[1];
            v220.val[1] = vaddw_u32(v177, *v176.i8);
            v179 = v220.val[1].i64[1];
            v222.val[1].i64[1] = v210.i64[1] * v202.i64[1];
            v180 = v220.val[1].i64[0];
            v226.val[0].i64[0] = v215.i64[0] * v202.i64[0];
            v161.i64[1] = v213.i64[1] * v202.i64[1];
            v175.i64[1] = v214.i64[1] * v202.i64[1];
            v220.val[0] = vaddw_high_u32(v220.val[0], v176);
            v220.val[1].i64[0] = v160 * v201.i64[0];
            v181 = vaddw_high_u32(v178, v170);
            v226.val[0].i64[1] = v215.i64[1] * v202.i64[1];
            v177.i64[0] = v163 * v201.i64[0];
            v182 = v181.i64[1];
            v183 = v181.i64[0];
            v220.val[1].i64[1] = v159 * v201.i64[1];
            v181.i64[0] = v165 * v201.i64[0];
            v184 = v220.val[0].i64[1];
            v177.i64[1] = v162 * v201.i64[1];
            v185 = v220.val[0].i64[0];
            v220.val[0].i64[0] = v169 * v201.i64[0];
            v181.i64[1] = v164 * v201.i64[1];
            v220.val[1] = vaddq_s64(vaddq_s64(v157, v203), v220.val[1]);
            v176.i64[0] = v173 * v201.i64[0];
            v220.val[0].i64[1] = v166 * v201.i64[1];
            v176.i64[1] = v172 * v201.i64[1];
            v186 = vaddq_s64(vaddq_s64(v221.val[0], v203), v177);
            v221.val[0].i64[0] = v180 * v201.i64[0];
            v221.val[0].i64[1] = v179 * v201.i64[1];
            v187 = vaddq_s64(vaddq_s64(v221.val[1], v203), v181);
            v221.val[1].i64[0] = v183 * v201.i64[0];
            v221.val[1].i64[1] = v182 * v201.i64[1];
            v220.val[0] = vaddq_s64(vaddq_s64(v222.val[0], v203), v220.val[0]);
            v188 = v185 * v201.i64[0];
            v59 = v217;
            v222.val[0] = vaddq_s64(vaddq_s64(v222.val[1], v203), v176);
            v222.val[1].i64[0] = v188;
            v57 = v219;
            v222.val[1].i64[1] = v184 * v201.i64[1];
            v221.val[0] = vaddq_s64(vaddq_s64(v161, v203), v221.val[0]);
            v221.val[1] = vaddq_s64(vaddq_s64(v175, v203), v221.val[1]);
            v228.val[3] = vshrq_n_u64(v220.val[0], 0x10uLL);
            v228.val[1] = vshrq_n_u64(v187, 0x10uLL);
            v228.val[2] = vshrq_n_u64(v186, 0x10uLL);
            v228.val[0] = vshrq_n_u64(v220.val[1], 0x10uLL);
            v187.i64[0] = vqtbl4q_s8(v228, xmmword_1003E9AF0).u64[0];
            v228.val[3] = vshrq_n_u64(vaddq_s64(vaddq_s64(v226.val[0], v203), v222.val[1]), 0x10uLL);
            v228.val[1] = vshrq_n_u64(v221.val[1], 0x10uLL);
            v228.val[2] = vshrq_n_u64(v221.val[0], 0x10uLL);
            v228.val[0] = vshrq_n_u64(v222.val[0], 0x10uLL);
            v187.i64[1] = vqtbl4q_s8(v228, xmmword_1003E9AF0).u64[0];
            *v171 = v187;
            v35 = v171 + 1;
            v55 = v216 - 16;
          }

          while (v216 != 16);
          v36 = v189;
          v19 = v7 - 2;
          LODWORD(v18) = v192;
          v14 = v198;
          v5 = v195;
          a4 = v196;
          LODWORD(v17) = v193;
          v6 = v194;
          v15 = v197;
          v20 = v191;
          if (v199 == v7 - 2)
          {
            goto LABEL_11;
          }
        }

        do
        {
          v37 = result[1] + *result + *v32 + v32[1];
          v38 = *(result - 1);
          v39 = result[2];
          result += 2;
          v40 = v33[1] + *v33 + *v34 + v34[1] + v38 + v39 + *(v32 - 1);
          v41 = v32[2];
          v32 += 2;
          v42 = v40 + v41;
          v43 = *(v33 - 1);
          v44 = v33[2];
          v33 += 2;
          v45 = v44 + v43 + *(v34 - 1);
          v46 = v34[2];
          v34 += 2;
          v23->i8[0] = ((v45 + 2 * v42 + v46) * v18 + v37 * v17 + 0x8000) >> 16;
          v23 = (v23 + 1);
          --v36;
        }

        while (v36);
      }

      else
      {
        v23 = (v25 + 1);
      }

LABEL_11:
      v24 = v32[1] + result[1];
      v23->i8[0] = ((v34[1] + v33[1] + *(v33 - 1) + *(v34 - 1) + 2 * (v24 + *v33 + v33[1] + *v34 + v34[1] + *(result - 1) + *(v32 - 1))) * v18 + (v24 + *result + *v32) * v17 + 0x8000) >> 16;
      ++v14;
    }

    while (v15 < *(v6 + 85));
  }

  return result;
}

unsigned int *sub_1003A4DD4(unsigned int *result, uint64_t a2, uint64_t *a3, uint64_t a4)
{
  v6 = result;
  v7 = *(a2 + 36) * *(a2 + 28);
  v8 = result[85];
  v9 = result[12];
  if (v8 >= 1 && 2 * v7 - v9 >= 1)
  {
    v11 = a3;
    do
    {
      v12 = *v11++;
      result = memset((v12 + v9), *(v12 + v9 - 1), (2 * v7 + ~v9) + 1);
      --v8;
    }

    while (v8);
    LODWORD(v8) = v6[85];
  }

  if (v8 >= 1 && v7 != 0)
  {
    v14 = 0;
    v15 = 0;
    do
    {
      v16 = *(a4 + 8 * v14);
      v17 = &a3[v15];
      v18 = *v17;
      v19 = v17[1];
      v20 = 1;
      v21 = v7;
      do
      {
        result = v19[1];
        *v16++ = (v20 + *v18 + v18[1] + *v19 + result) >> 2;
        v20 ^= 3u;
        v18 += 2;
        v19 += 2;
        --v21;
      }

      while (v21);
      v15 += 2;
      ++v14;
    }

    while (v15 < v6[85]);
  }

  return result;
}

void *sub_1003A4EE0(void *result, int *a2, void *a3, uint64_t a4, double a5, double a6, double a7, double a8, double a9, double a10, double a11, int64x2_t a12)
{
  v13 = a3;
  v14 = result;
  v15 = a2[9] * a2[7];
  v16 = result[66] + a2[1];
  v17 = *(v16 + 144);
  v18 = *(v16 + 154);
  v19 = *(result + 85);
  v20 = *(result + 12);
  if (v19 >= 1 && v15 * v17 - v20 >= 1)
  {
    v22 = a3;
    do
    {
      v23 = *v22++;
      result = memset((v23 + v20), *(v23 + v20 - 1), (v15 * v17 + ~v20) + 1);
      --v19;
    }

    while (v19);
    LODWORD(v19) = *(v14 + 85);
  }

  if (v19 >= 1)
  {
    v24 = !v15 || v18 == 0;
    if (!v24 && v17 != 0)
    {
      v26 = (v18 * v17);
      v27 = v26 >> 1;
      if (v17 < 4)
      {
        v28 = 0;
        v29 = 0;
        do
        {
          v30 = 0;
          v31 = 0;
          v32 = *(a4 + 8 * v28);
          do
          {
            v33 = 0;
            v34 = v13;
            result = v18;
            do
            {
              v35 = (*v34 + v30);
              v33 += *v35;
              if (v17 != 1)
              {
                v33 += v35[1];
                if (v17 != 2)
                {
                  v33 += v35[2];
                }
              }

              ++v34;
              result = (result - 1);
            }

            while (result);
            *v32++ = (v33 + v27) / v26;
            ++v31;
            v30 += v17;
          }

          while (v31 != v15);
          v29 += v18;
          ++v28;
          v13 += v18;
        }

        while (v29 < *(v14 + 85));
        return result;
      }

      v36 = 0;
      v37 = 0;
      v38.i64[0] = 255;
      v38.i64[1] = 255;
LABEL_30:
      v39 = 0;
      v40 = 0;
      v41 = *(a4 + 8 * v36);
      result = &v13[v37];
LABEL_32:
      v42 = 0;
      v43 = 0;
      while (1)
      {
        v44 = result[v42] + v39;
        if (v17 < 0x10)
        {
          break;
        }

        v46 = 0uLL;
        v47 = v43;
        v48 = v17 & 0xF0;
        v49 = (result[v42] + v39);
        v50 = 0uLL;
        v51 = 0uLL;
        v52 = 0uLL;
        v53 = 0uLL;
        v54 = 0uLL;
        v55 = 0uLL;
        do
        {
          v56 = *v49++;
          v57 = vqtbl1q_s8(v56, xmmword_1003E3730);
          v58 = vqtbl1q_s8(v56, xmmword_1003E3720);
          v59 = vqtbl1q_s8(v56, xmmword_1003E3700);
          v60 = vqtbl1q_s8(v56, xmmword_1003E3710);
          v46 = vaddw_high_u32(v46, v58);
          v51 = vaddw_high_u32(v51, v57);
          v50 = vaddw_u32(v50, *v57.i8);
          v47 = vaddw_u32(v47, *v58.i8);
          v52 = vaddw_u32(v52, *v59.i8);
          v53 = vaddw_high_u32(v53, v59);
          v54 = vaddw_u32(v54, *v60.i8);
          v55 = vaddw_high_u32(v55, v60);
          v48 -= 16;
        }

        while (v48);
        a12 = vaddq_s64(v51, v55);
        v43 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v47, v52), vaddq_s64(v50, v54)), vaddq_s64(vaddq_s64(v46, v53), a12)));
        if ((v17 & 0xF0) == v17)
        {
          goto LABEL_33;
        }

        v45 = v17 & 0xF0;
        v61 = v45;
        if ((v17 & 0xC) != 0)
        {
          goto LABEL_40;
        }

LABEL_43:
        v70 = (v44 + v61);
        v71 = v17 - v61;
        do
        {
          v72 = *v70++;
          v43 += v72;
          --v71;
        }

        while (v71);
LABEL_33:
        if (++v42 == v18)
        {
          *v41++ = (v43 + v27) / v26;
          ++v40;
          v39 += v17;
          if (v40 == v15)
          {
            v37 += v18;
            ++v36;
            if (v37 >= *(v14 + 85))
            {
              return result;
            }

            goto LABEL_30;
          }

          goto LABEL_32;
        }
      }

      v45 = 0;
LABEL_40:
      v62 = 0uLL;
      v63 = v43;
      v64 = (v44 + v45);
      v65 = v45 - (v17 & 0xFC);
      do
      {
        v66 = *v64++;
        a12.i32[0] = v66;
        v67 = vmovl_u16(*&vmovl_u8(*a12.i8));
        v68.i64[0] = v67.u32[0];
        v68.i64[1] = v67.u32[1];
        v69 = vandq_s8(v68, v38);
        v68.i64[0] = v67.u32[2];
        v68.i64[1] = v67.u32[3];
        a12 = vandq_s8(v68, v38);
        v62 = vaddq_s64(v62, a12);
        v63 = vaddq_s64(v63, v69);
        v65 += 4;
      }

      while (v65);
      v43 = vaddvq_s64(vaddq_s64(v63, v62));
      v61 = v17 & 0xFC;
      if (v61 == v17)
      {
        goto LABEL_33;
      }

      goto LABEL_43;
    }
  }

  return result;
}

uint64_t sub_1003A522C(char *a1, int a2, uint64_t a3)
{
  *(a1 + 1) = 0;
  if (a2 != 90)
  {
    *(*a1 + 40) = 0x5A0000000DLL;
    *(*a1 + 48) = a2;
    (**a1)(a1);
  }

  if (a3 != 632)
  {
    *(*a1 + 40) = 0x27800000016;
    *(*a1 + 48) = a3;
    (**a1)(a1);
  }

  v5 = *a1;
  v6 = *(a1 + 3);
  bzero(a1, 0x278uLL);
  *a1 = v5;
  *(a1 + 3) = v6;
  a1[32] = 1;
  sub_1003C3918(a1);
  *(a1 + 2) = 0;
  *(a1 + 5) = 0;
  *(a1 + 47) = 0;
  *(a1 + 200) = 0u;
  *(a1 + 216) = 0u;
  *(a1 + 232) = 0u;
  *(a1 + 248) = 0u;
  *(a1 + 184) = 0u;
  *(a1 + 264) = 0u;
  sub_1003AFB9C(a1);
  result = sub_1003AE508(a1);
  *(a1 + 9) = 200;
  return result;
}

uint64_t sub_1003A532C(uint64_t a1, int a2)
{
  v4 = *(a1 + 36);
  if ((v4 & 0xFFFFFFFE) == 0xC8)
  {
    result = sub_1003A53E0(a1);
    if (result != 2)
    {
      return result;
    }
  }

  else
  {
    v6 = *a1;
    *(v6 + 40) = 21;
    *(v6 + 44) = v4;
    (**a1)(a1);
    result = sub_1003A53E0(a1);
    if (result != 2)
    {
      return result;
    }
  }

  v7 = result;
  if (a2)
  {
    v8 = *a1;
    *(v8 + 40) = 53;
    (*v8)(a1);
  }

  sub_10039D400(a1);
  return v7;
}

uint64_t sub_1003A53E0(uint64_t *a1)
{
  v1 = *(a1 + 9);
  if (v1 > 202)
  {
    if ((v1 - 203) >= 6 && v1 != 210)
    {
      goto LABEL_12;
    }

    v2 = *a1[72];

    return v2();
  }

  if (v1 == 200)
  {
    v5 = a1;
    (*(a1[72] + 8))();
    (*(v5[5] + 16))(v5);
    a1 = v5;
    *(v5 + 9) = 201;
    goto LABEL_14;
  }

  if (v1 == 201)
  {
LABEL_14:
    v6 = a1;
    result = (*a1[72])();
    if (result != 1)
    {
      return result;
    }

    v7 = v6;
    v8 = *(v6 + 14);
    if (v8 == 1)
    {
      v15 = 1;
      goto LABEL_53;
    }

    if (v8 == 4)
    {
      if (*(v6 + 360) && (v16 = *(v6 + 361), *(v6 + 361)))
      {
        if (v16 != 2)
        {
          v17 = *v6;
          *(v17 + 40) = 116;
          *(v17 + 44) = v16;
          (*(*v6 + 8))(v6, 0xFFFFFFFFLL);
          v7 = v6;
        }

        v15 = 4;
        v8 = 5;
      }

      else
      {
        v8 = 4;
        v15 = 4;
      }

      goto LABEL_53;
    }

    if (v8 != 3)
    {
      v8 = 0;
      v15 = 0;
      goto LABEL_53;
    }

    v9 = v6[36];
    v10 = *v9;
    v11 = v9[24];
    v12 = v9[48];
    if (v10 != 1 || v11 != 2 || v12 != 3)
    {
      if (v10 == 1 && v11 == 34 && v12 == 35)
      {
        v15 = 2;
        v8 = 7;
LABEL_53:
        *(v7 + 15) = v8;
        *(v7 + 16) = v15;
        v21 = *(v7 + 131);
        *(v7 + 17) = v21;
        *(v7 + 18) = v21;
        v7[10] = 0x3FF0000000000000;
        *(v7 + 44) = 0;
        *(v7 + 23) = 0;
        *(v7 + 48) = 257;
        *(v7 + 98) = 0;
        *(v7 + 25) = 2;
        result = 1;
        *(v7 + 104) = 1;
        *(v7 + 27) = 256;
        v7[18] = 0;
        *(v7 + 56) = 0;
        *(v7 + 114) = 0;
        *(v7 + 9) = 202;
        return result;
      }

      if (v10 == 82 && v11 == 71 && v12 == 66)
      {
LABEL_40:
        v8 = 2;
        v15 = 2;
        goto LABEL_53;
      }

      if (v10 == 114 && v11 == 103 && v12 == 98)
      {
        v15 = 2;
        v8 = 6;
        goto LABEL_53;
      }

      if (!*(v6 + 352))
      {
        if (!*(v6 + 360))
        {
          v20 = *v6;
          *(v20 + 48) = v11;
          *(v20 + 52) = v12;
          *(v20 + 40) = 113;
          *(v20 + 44) = v10;
          (*(v20 + 8))(v6, 1);
          goto LABEL_51;
        }

        v18 = *(v6 + 361);
        if (!*(v6 + 361))
        {
          goto LABEL_40;
        }

        if (v18 != 1)
        {
          v19 = *v6;
          *(v19 + 40) = 116;
          *(v19 + 44) = v18;
          (*(*v6 + 8))(v6, 0xFFFFFFFFLL);
LABEL_51:
          v7 = v6;
        }
      }
    }

    v15 = 2;
    v8 = 3;
    goto LABEL_53;
  }

  if (v1 != 202)
  {
LABEL_12:
    v4 = *a1;
    *(v4 + 10) = 21;
    *(v4 + 11) = v1;
    (**a1)(a1);
    return 0;
  }

  return 1;
}

uint64_t sub_1003A56A8(uint64_t a1)
{
  v2 = *(a1 + 36);
  if ((v2 - 205) > 1 || *(a1 + 88))
  {
    if (v2 == 210)
    {
      goto LABEL_10;
    }

    if (v2 != 207)
    {
      v3 = *a1;
      *(v3 + 10) = 21;
      *(v3 + 11) = v2;
      (**a1)(a1);
      goto LABEL_10;
    }
  }

  else
  {
    if (*(a1 + 152) < *(a1 + 120))
    {
      v4 = *a1;
      *(v4 + 10) = 69;
      (*v4)(a1);
    }

    (*(*(a1 + 544) + 8))(a1);
  }

  *(a1 + 36) = 210;
LABEL_10:
  while (1)
  {
    v5 = *(a1 + 576);
    if (*(v5 + 33))
    {
      break;
    }

    result = (*v5)(a1);
    if (!result)
    {
      return result;
    }
  }

  (*(*(a1 + 40) + 48))(a1);
  sub_10039D400(a1);
  return 1;
}

uint64_t sub_1003A5794(uint64_t a1)
{
  v2 = *(a1 + 36);
  if (v2 == 204)
  {
LABEL_8:
    if (*(*(a1 + 544) + 16))
    {
      v5 = *(a1 + 152);
      do
      {
        while (1)
        {
          v6 = *(a1 + 120);
          if (v5 < v6)
          {
            break;
          }

          (*(*(a1 + 544) + 8))(a1);
          (**(a1 + 544))(a1);
          v5 = 0;
          *(a1 + 152) = 0;
          if (!*(*(a1 + 544) + 16))
          {
            goto LABEL_18;
          }
        }

        v7 = *(a1 + 16);
        if (v7)
        {
          *(v7 + 8) = v5;
          *(v7 + 16) = v6;
          (*v7)(a1);
          v5 = *(a1 + 152);
        }

        (*(*(a1 + 552) + 8))(a1, 0, a1 + 152, 0);
        v10 = *(a1 + 152) == v5;
        v5 = *(a1 + 152);
      }

      while (!v10);
      return 0;
    }

    else
    {
LABEL_18:
      if (*(a1 + 89))
      {
        v8 = 206;
      }

      else
      {
        v8 = 205;
      }

      *(a1 + 36) = v8;
      return 1;
    }
  }

  if (v2 != 203)
  {
    if (v2 != 202)
    {
      v4 = *a1;
      *(v4 + 10) = 21;
      *(v4 + 11) = v2;
      (**a1)(a1);
      if (*(a1 + 36) == 204)
      {
        goto LABEL_8;
      }

      goto LABEL_7;
    }

    sub_1003B2D4C(a1);
    if (*(a1 + 88))
    {
      *(a1 + 36) = 207;
      return 1;
    }

    *(a1 + 36) = 203;
  }

  if (!*(*(a1 + 576) + 32))
  {
LABEL_35:
    *(a1 + 164) = *(a1 + 156);
    if (*(a1 + 36) == 204)
    {
      goto LABEL_8;
    }

LABEL_7:
    (**(a1 + 544))(a1);
    *(a1 + 152) = 0;
    *(a1 + 36) = 204;
    goto LABEL_8;
  }

  v9 = *(a1 + 16);
  while (1)
  {
    if (v9)
    {
      (*v9)(a1);
    }

    result = (**(a1 + 576))(a1);
    if (!result)
    {
      return result;
    }

    if (result == 2)
    {
      goto LABEL_35;
    }

    v9 = *(a1 + 16);
    v10 = (result & 0xFFFFFFFD) != 1 || v9 == 0;
    if (!v10)
    {
      v11 = *(v9 + 16);
      v12 = *(v9 + 8) + 1;
      *(v9 + 8) = v12;
      if (v12 >= v11)
      {
        *(v9 + 16) = v11 + *(a1 + 400);
      }
    }
  }
}

uint64_t sub_1003A59A8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v6 = *(a1 + 36);
  if (v6 != 205)
  {
    v7 = *a1;
    *(v7 + 10) = 21;
    *(v7 + 11) = v6;
    (**a1)(a1);
  }

  v8 = *(a1 + 152);
  v9 = *(a1 + 120);
  if (v8 >= v9)
  {
    v12 = *a1;
    *(v12 + 10) = 126;
    (v12[1])(a1, 0xFFFFFFFFLL);
    return 0;
  }

  else
  {
    v10 = *(a1 + 16);
    if (v10)
    {
      *(v10 + 8) = v8;
      *(v10 + 16) = v9;
      (*v10)(a1);
    }

    v13 = 0;
    (*(*(a1 + 552) + 8))(a1, a2, &v13, a3);
    result = v13;
    *(a1 + 152) += v13;
  }

  return result;
}

uint64_t sub_1003A5A94(uint64_t a1)
{
  result = (**(a1 + 8))();
  *(a1 + 592) = result;
  *result = sub_1003A5B84;
  *(result + 16) = nullsub_103;
  *(result + 304) = 0u;
  *(result + 320) = 0u;
  *(result + 272) = 0u;
  *(result + 288) = 0u;
  *(result + 240) = 0u;
  *(result + 256) = 0u;
  *(result + 208) = 0u;
  *(result + 224) = 0u;
  *(result + 176) = 0u;
  *(result + 192) = 0u;
  *(result + 144) = 0u;
  *(result + 160) = 0u;
  *(result + 112) = 0u;
  *(result + 128) = 0u;
  *(result + 80) = 0u;
  *(result + 96) = 0u;
  *(result + 336) = 113;
  if (*(a1 + 297))
  {
    result = (**(a1 + 8))(a1, 1, *(a1 + 56) << 8);
    *(a1 + 176) = result;
    if (*(a1 + 56) >= 1)
    {
      v3 = 0;
      *&v4 = -1;
      *(&v4 + 1) = -1;
      do
      {
        *(result + 224) = v4;
        *(result + 240) = v4;
        *(result + 192) = v4;
        *(result + 208) = v4;
        *(result + 160) = v4;
        *(result + 176) = v4;
        *(result + 128) = v4;
        *(result + 144) = v4;
        *(result + 96) = v4;
        *(result + 112) = v4;
        *(result + 64) = v4;
        *(result + 80) = v4;
        *(result + 32) = v4;
        *(result + 48) = v4;
        *result = v4;
        *(result + 16) = v4;
        result += 256;
        ++v3;
      }

      while (v3 < *(a1 + 56));
    }
  }

  return result;
}

uint64_t sub_1003A5B84(uint64_t result)
{
  v1 = result;
  v2 = *(result + 592);
  v3 = *(result + 508);
  if (!*(result + 297))
  {
    if (v3 || *(result + 516) || *(result + 520) || (v29 = *(result + 512), v29 <= 63) && v29 != *(result + 536))
    {
      v5 = *result;
      *(v5 + 40) = 125;
      result = (*(v5 + 8))(result, 0xFFFFFFFFLL);
    }

    *(v2 + 8) = sub_1003A6D98;
    if (*(v1 + 416) >= 1)
    {
      goto LABEL_40;
    }

    goto LABEL_58;
  }

  v4 = *(result + 512);
  if (v3)
  {
    if (v4 < v3 || v4 > *(result + 536) || *(result + 416) != 1)
    {
      goto LABEL_17;
    }
  }

  else if (v4)
  {
    goto LABEL_17;
  }

  v6 = *(result + 516);
  if (!v6)
  {
    if (*(result + 520) < 14)
    {
      goto LABEL_18;
    }

LABEL_17:
    v8 = *result;
    *(v8 + 40) = 17;
    *(v8 + 44) = v3;
    *(*result + 48) = *(result + 512);
    *(*result + 52) = *(result + 516);
    *(*result + 56) = *(result + 520);
    result = (**result)(result);
    goto LABEL_18;
  }

  v7 = v6 - 1;
  if (v7 != *(result + 520) || v7 >= 14)
  {
    goto LABEL_17;
  }

LABEL_18:
  LODWORD(v9) = *(v1 + 416);
  if (v9 >= 1)
  {
    for (i = 0; i < v9; ++i)
    {
      v11 = *(*(v1 + 424 + 8 * i) + 4);
      v12 = *(v1 + 176);
      v13 = *(v1 + 508);
      if (v13 && (*(v12 + (v11 << 8)) & 0x80000000) != 0)
      {
        v17 = *v1;
        *(v17 + 40) = 118;
        *(v17 + 44) = v11;
        *(*v1 + 48) = 0;
        result = (*(*v1 + 8))(v1, 0xFFFFFFFFLL);
        v13 = *(v1 + 508);
        if (v13 <= *(v1 + 512))
        {
LABEL_24:
          v14 = v13 - 1;
          v15 = (v12 + (v11 << 8) + 4 * v13);
          do
          {
            if (*(v1 + 516) != (*v15 & ~(*v15 >> 31)))
            {
              v16 = *v1;
              *(v16 + 40) = 118;
              *(v16 + 44) = v11;
              *(*v1 + 48) = v13;
              result = (*(*v1 + 8))(v1, 0xFFFFFFFFLL);
            }

            *v15++ = *(v1 + 520);
            ++v14;
            ++v13;
          }

          while (v14 < *(v1 + 512));
        }
      }

      else if (v13 <= *(v1 + 512))
      {
        goto LABEL_24;
      }

      v9 = *(v1 + 416);
    }
  }

  v18 = *(v1 + 508);
  if (*(v1 + 516))
  {
    if (v18)
    {
      *(v2 + 8) = sub_1003A6AE4;
      if (v9 < 1)
      {
        goto LABEL_58;
      }
    }

    else
    {
      *(v2 + 8) = sub_1003A694C;
      if (v9 < 1)
      {
        goto LABEL_58;
      }
    }

    goto LABEL_40;
  }

  if (v18)
  {
    *(v2 + 8) = sub_1003A64A0;
    if (v9 < 1)
    {
      goto LABEL_58;
    }

    goto LABEL_40;
  }

  *(v2 + 8) = sub_1003A5FB4;
  if (v9 >= 1)
  {
LABEL_40:
    v19 = v2 + 80;
    v20 = (v2 + 60);
    v21 = v2 + 208;
    v22 = 53;
    do
    {
      v24 = *(v1 + 8 * v22);
      if (!*(v1 + 297))
      {
        goto LABEL_48;
      }

      if (*(v1 + 508))
      {
        goto LABEL_56;
      }

      if (!*(v1 + 516))
      {
LABEL_48:
        v25 = *(v24 + 20);
        if (v25 >= 0x10)
        {
          v26 = *v1;
          *(v26 + 40) = 50;
          *(v26 + 44) = v25;
          (**v1)(v1);
        }

        result = *(v19 + 8 * v25);
        if (!result)
        {
          result = (**(v1 + 8))(v1, 1, 64);
          *(v19 + 8 * v25) = result;
        }

        *(result + 32) = 0u;
        *(result + 48) = 0u;
        *result = 0u;
        *(result + 16) = 0u;
        *(v20 - 4) = 0;
        *v20 = 0;
        if (*(v1 + 297))
        {
          if (*(v1 + 508))
          {
            goto LABEL_56;
          }
        }

        else if (*(v1 + 536))
        {
LABEL_56:
          v27 = *(v24 + 24);
          if (v27 >= 0x10)
          {
            v28 = *v1;
            *(v28 + 40) = 50;
            *(v28 + 44) = v27;
            (**v1)(v1);
          }

          result = *(v21 + 8 * v27);
          if (!result)
          {
            result = (**(v1 + 8))(v1, 1, 256);
            *(v21 + 8 * v27) = result;
          }

          *(result + 224) = 0u;
          *(result + 240) = 0u;
          *(result + 192) = 0u;
          *(result + 208) = 0u;
          *(result + 160) = 0u;
          *(result + 176) = 0u;
          *(result + 128) = 0u;
          *(result + 144) = 0u;
          *(result + 96) = 0u;
          *(result + 112) = 0u;
          *(result + 64) = 0u;
          *(result + 80) = 0u;
          *(result + 32) = 0u;
          *(result + 48) = 0u;
          *result = 0u;
          *(result + 16) = 0u;
        }
      }

      ++v20;
      v23 = v22 - 52;
      ++v22;
    }

    while (v23 < *(v1 + 416));
  }

LABEL_58:
  *(v2 + 24) = 0;
  *(v2 + 32) = 0;
  *(v2 + 40) = -16;
  *(v2 + 76) = *(v1 + 348);
  return result;
}

uint64_t sub_1003A5FB4(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 592);
  if (*(a1 + 348))
  {
    v4 = *(v3 + 76);
    if (!v4)
    {
      if (!(*(*(a1 + 584) + 16))(a1))
      {
        v5 = *a1;
        *(v5 + 40) = 25;
        (*v5)(a1);
      }

      if (*(a1 + 416) >= 1)
      {
        v6 = 0;
        v7 = (v3 + 60);
        do
        {
          v9 = *(a1 + 424 + 8 * v6);
          if (*(a1 + 297))
          {
            if (*(a1 + 508))
            {
              goto LABEL_8;
            }

            if (*(a1 + 516))
            {
              goto LABEL_9;
            }
          }

          v10 = *(v3 + 80 + 8 * *(v9 + 20));
          v10[2] = 0uLL;
          v10[3] = 0uLL;
          *v10 = 0uLL;
          v10[1] = 0uLL;
          *(v7 - 4) = 0;
          *v7 = 0;
          if (*(a1 + 297))
          {
            if (!*(a1 + 508))
            {
              goto LABEL_9;
            }

LABEL_8:
            v8 = *(v3 + 208 + 8 * *(v9 + 24));
            v8[14] = 0uLL;
            v8[15] = 0uLL;
            v8[12] = 0uLL;
            v8[13] = 0uLL;
            v8[10] = 0uLL;
            v8[11] = 0uLL;
            v8[8] = 0uLL;
            v8[9] = 0uLL;
            v8[6] = 0uLL;
            v8[7] = 0uLL;
            v8[4] = 0uLL;
            v8[5] = 0uLL;
            v8[2] = 0uLL;
            v8[3] = 0uLL;
            *v8 = 0uLL;
            v8[1] = 0uLL;
            goto LABEL_9;
          }

          if (*(a1 + 536))
          {
            goto LABEL_8;
          }

LABEL_9:
          ++v6;
          ++v7;
        }

        while (v6 < *(a1 + 416));
      }

      *(v3 + 24) = 0;
      *(v3 + 32) = 0;
      *(v3 + 40) = -16;
      v4 = *(a1 + 348);
    }

    *(v3 + 76) = v4 - 1;
  }

  v31 = v3;
  if (*(v3 + 40) != -1 && *(a1 + 464) >= 1)
  {
    v11 = 0;
    v12 = v3 + 80;
    v13 = v3 + 60;
    v32 = v3 + 80;
    v33 = v3 + 44;
    while (1)
    {
      v15 = *(a2 + 8 * v11);
      v16 = *(a1 + 468 + 4 * v11);
      v17 = *(*(a1 + 424 + 8 * v16) + 20);
      v18 = (*(v12 + 8 * v17) + *(v13 + 4 * v16));
      if (sub_1003A75A8(a1, v18))
      {
        break;
      }

      *(v13 + 4 * v16) = 0;
      v14 = *(v33 + 4 * v16);
LABEL_22:
      *v15 = v14 << *(a1 + 520);
      if (++v11 >= *(a1 + 464))
      {
        return 1;
      }
    }

    v19 = sub_1003A75A8(a1, v18 + 1);
    v20 = &v18[v19 + 2];
    if (sub_1003A75A8(a1, v20))
    {
      v21 = *(v12 + 8 * v17);
      v20 = v21 + 20;
      if (sub_1003A75A8(a1, v21 + 20))
      {
        v20 = v21 + 21;
        if (sub_1003A75A8(a1, v21 + 21))
        {
          v20 = v21 + 22;
          if (sub_1003A75A8(a1, v21 + 22))
          {
            v20 = v21 + 23;
            if (sub_1003A75A8(a1, v21 + 23))
            {
              v20 = v21 + 24;
              if (sub_1003A75A8(a1, v21 + 24))
              {
                v20 = v21 + 25;
                if (sub_1003A75A8(a1, v21 + 25))
                {
                  v20 = v21 + 26;
                  if (sub_1003A75A8(a1, v21 + 26))
                  {
                    v20 = v21 + 27;
                    if (sub_1003A75A8(a1, v21 + 27))
                    {
                      v20 = v21 + 28;
                      if (sub_1003A75A8(a1, v21 + 28))
                      {
                        v20 = v21 + 29;
                        if (sub_1003A75A8(a1, v21 + 29))
                        {
                          v20 = v21 + 30;
                          if (sub_1003A75A8(a1, v21 + 30))
                          {
                            v20 = v21 + 31;
                            if (sub_1003A75A8(a1, v21 + 31))
                            {
                              v20 = v21 + 32;
                              if (sub_1003A75A8(a1, v21 + 32))
                              {
                                v20 = v21 + 33;
                                if (sub_1003A75A8(a1, v21 + 33))
                                {
                                  v20 = v21 + 34;
                                  if (sub_1003A75A8(a1, v21 + 34))
                                  {
                                    v29 = *a1;
                                    *(v29 + 40) = 117;
                                    (*(v29 + 8))(a1, 0xFFFFFFFFLL);
                                    *(v31 + 40) = -1;
                                    return 1;
                                  }

                                  v22 = 0;
                                  v23 = 0x4000;
                                }

                                else
                                {
                                  v22 = 0;
                                  v23 = 0x2000;
                                }
                              }

                              else
                              {
                                v22 = 0;
                                v23 = 4096;
                              }
                            }

                            else
                            {
                              v22 = 0;
                              v23 = 2048;
                            }
                          }

                          else
                          {
                            v22 = 0;
                            v23 = 1024;
                          }
                        }

                        else
                        {
                          v22 = 0;
                          v23 = 512;
                        }
                      }

                      else
                      {
                        v22 = 0;
                        v23 = 256;
                      }
                    }

                    else
                    {
                      v22 = 0;
                      v23 = 128;
                    }
                  }

                  else
                  {
                    v22 = 0;
                    v23 = 64;
                  }
                }

                else
                {
                  v22 = 0;
                  v23 = 32;
                }
              }

              else
              {
                v22 = 0;
                v23 = 16;
              }
            }

            else
            {
              v22 = 0;
              v23 = 8;
            }
          }

          else
          {
            v22 = 0;
            v23 = 4;
          }
        }

        else
        {
          v22 = 0;
          v23 = 2;
        }
      }

      else
      {
        v22 = 1;
        v23 = 1;
      }
    }

    else
    {
      v23 = 0;
      v22 = 1;
    }

    if (v23 >= ((1 << *(a1 + 299 + v17)) >> 1))
    {
      v27 = 4 * v19 + 4;
      if (v23 > ((1 << *(a1 + 315 + v17)) >> 1))
      {
        v27 = 4 * v19 + 12;
      }

      *(v13 + 4 * v16) = v27;
      if ((v22 & 1) == 0)
      {
        goto LABEL_58;
      }
    }

    else
    {
      *(v13 + 4 * v16) = 0;
      if ((v22 & 1) == 0)
      {
LABEL_58:
        v24 = v23;
        do
        {
          if (sub_1003A75A8(a1, v20 + 14))
          {
            v25 = v23 >> 1;
          }

          else
          {
            v25 = 0;
          }

          v24 |= v25;
          v26 = v23 > 3;
          v23 >>= 1;
        }

        while (v26);
        goto LABEL_68;
      }
    }

    v24 = v23;
LABEL_68:
    v28 = ~v24;
    if (!v19)
    {
      v28 = v24 + 1;
    }

    v12 = v32;
    v14 = *(v33 + 4 * v16) + v28;
    *(v33 + 4 * v16) = v14;
    goto LABEL_22;
  }

  return 1;
}

uint64_t sub_1003A64A0(uint64_t a1, void *a2)
{
  v3 = *(a1 + 592);
  if (*(a1 + 348))
  {
    v4 = *(v3 + 76);
    if (!v4)
    {
      v5 = a2;
      if (!(*(*(a1 + 584) + 16))(a1))
      {
        v6 = *a1;
        *(v6 + 40) = 25;
        (*v6)(a1);
      }

      a2 = v5;
      if (*(a1 + 416) >= 1)
      {
        v7 = 0;
        v8 = (v3 + 60);
        do
        {
          v10 = *(a1 + 424 + 8 * v7);
          if (*(a1 + 297))
          {
            if (*(a1 + 508))
            {
              goto LABEL_8;
            }

            if (*(a1 + 516))
            {
              goto LABEL_9;
            }
          }

          v11 = *(v3 + 80 + 8 * *(v10 + 20));
          v11[2] = 0uLL;
          v11[3] = 0uLL;
          *v11 = 0uLL;
          v11[1] = 0uLL;
          *(v8 - 4) = 0;
          *v8 = 0;
          if (*(a1 + 297))
          {
            if (!*(a1 + 508))
            {
              goto LABEL_9;
            }

LABEL_8:
            v9 = *(v3 + 208 + 8 * *(v10 + 24));
            v9[14] = 0uLL;
            v9[15] = 0uLL;
            v9[12] = 0uLL;
            v9[13] = 0uLL;
            v9[10] = 0uLL;
            v9[11] = 0uLL;
            v9[8] = 0uLL;
            v9[9] = 0uLL;
            v9[6] = 0uLL;
            v9[7] = 0uLL;
            v9[4] = 0uLL;
            v9[5] = 0uLL;
            v9[2] = 0uLL;
            v9[3] = 0uLL;
            *v9 = 0uLL;
            v9[1] = 0uLL;
            goto LABEL_9;
          }

          if (*(a1 + 536))
          {
            goto LABEL_8;
          }

LABEL_9:
          ++v7;
          ++v8;
        }

        while (v7 < *(a1 + 416));
      }

      *(v3 + 24) = 0;
      *(v3 + 32) = 0;
      *(v3 + 40) = -16;
      v4 = *(a1 + 348);
    }

    *(v3 + 76) = v4 - 1;
  }

  if (*(v3 + 40) != -1)
  {
    v12 = *(a1 + 528);
    v34 = *a2;
    v13 = *(a1 + 508) - 1;
    v14 = *(*(a1 + 424) + 24);
    v15 = v3 + 208;
    do
    {
      v16 = (*(v15 + 8 * v14) + 3 * v13);
      if (sub_1003A75A8(a1, v16))
      {
        return 1;
      }

      v17 = v16 + 2;
      v18 = (v12 + 4 * (v13 + 1));
      while (1)
      {
        v19 = v13 + 1;
        if (sub_1003A75A8(a1, v17 - 1))
        {
          break;
        }

        v17 += 3;
        ++v18;
        ++v13;
        if (v19 >= *(a1 + 512))
        {
          goto LABEL_69;
        }
      }

      v33 = v15;
      v32 = sub_1003A75A8(a1, (v3 + 336));
      if (sub_1003A75A8(a1, v17))
      {
        if (sub_1003A75A8(a1, v17))
        {
          v20 = *(v15 + 8 * v14);
          v21 = 217;
          if (v13 < *(a1 + 331 + v14))
          {
            v21 = 189;
          }

          v22 = (v20 + v21);
          if (sub_1003A75A8(a1, (v20 + v21)))
          {
            v23 = v22 + 1;
            if (sub_1003A75A8(a1, v22 + 1))
            {
              v23 = v22 + 2;
              if (sub_1003A75A8(a1, v22 + 2))
              {
                v23 = v22 + 3;
                if (sub_1003A75A8(a1, v22 + 3))
                {
                  v23 = v22 + 4;
                  if (sub_1003A75A8(a1, v22 + 4))
                  {
                    v23 = v22 + 5;
                    if (sub_1003A75A8(a1, v22 + 5))
                    {
                      v23 = v22 + 6;
                      if (sub_1003A75A8(a1, v22 + 6))
                      {
                        v23 = v22 + 7;
                        if (sub_1003A75A8(a1, v22 + 7))
                        {
                          v23 = v22 + 8;
                          if (sub_1003A75A8(a1, v22 + 8))
                          {
                            v23 = v22 + 9;
                            if (sub_1003A75A8(a1, v22 + 9))
                            {
                              v23 = v22 + 10;
                              if (sub_1003A75A8(a1, v22 + 10))
                              {
                                v23 = v22 + 11;
                                if (sub_1003A75A8(a1, v22 + 11))
                                {
                                  v23 = v22 + 12;
                                  if (sub_1003A75A8(a1, v22 + 12))
                                  {
                                    v22 += 13;
                                    if (sub_1003A75A8(a1, v22))
                                    {
LABEL_69:
                                      v30 = *a1;
                                      *(v30 + 40) = 117;
                                      (*(v30 + 8))(a1, 0xFFFFFFFFLL);
                                      *(v3 + 40) = -1;
                                      return 1;
                                    }

                                    v24 = v12;
                                    v25 = 0x4000;
                                    goto LABEL_60;
                                  }

                                  v24 = v12;
                                  v25 = 0x2000;
                                }

                                else
                                {
                                  v24 = v12;
                                  v25 = 4096;
                                }
                              }

                              else
                              {
                                v24 = v12;
                                v25 = 2048;
                              }
                            }

                            else
                            {
                              v24 = v12;
                              v25 = 1024;
                            }
                          }

                          else
                          {
                            v24 = v12;
                            v25 = 512;
                          }
                        }

                        else
                        {
                          v24 = v12;
                          v25 = 256;
                        }
                      }

                      else
                      {
                        v24 = v12;
                        v25 = 128;
                      }
                    }

                    else
                    {
                      v24 = v12;
                      v25 = 64;
                    }
                  }

                  else
                  {
                    v24 = v12;
                    v25 = 32;
                  }
                }

                else
                {
                  v24 = v12;
                  v25 = 16;
                }
              }

              else
              {
                v24 = v12;
                v25 = 8;
              }
            }

            else
            {
              v24 = v12;
              v25 = 4;
            }

            v22 = v23;
          }

          else
          {
            v24 = v12;
            v25 = 2;
          }

LABEL_60:
          v26 = v25;
          do
          {
            if (sub_1003A75A8(a1, v22 + 14))
            {
              v27 = v25 >> 1;
            }

            else
            {
              v27 = 0;
            }

            v26 |= v27;
            v28 = v25 > 3;
            v25 >>= 1;
          }

          while (v28);
          goto LABEL_65;
        }

        v24 = v12;
        v26 = 1;
      }

      else
      {
        v24 = v12;
        v26 = 0;
      }

LABEL_65:
      v29 = ~v26;
      if (!v32)
      {
        v29 = v26 + 1;
      }

      *(v34 + 2 * *v18) = v29 << *(a1 + 520);
      v13 = v19;
      v12 = v24;
      v15 = v33;
    }

    while (v19 < *(a1 + 512));
  }

  return 1;
}

uint64_t sub_1003A694C(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 592);
  if (*(a1 + 348))
  {
    v5 = *(v4 + 76);
    if (!v5)
    {
      if (!(*(*(a1 + 584) + 16))(a1))
      {
        v6 = *a1;
        *(v6 + 40) = 25;
        (*v6)(a1);
      }

      if (*(a1 + 416) >= 1)
      {
        v7 = 0;
        v8 = (v4 + 60);
        do
        {
          v10 = *(a1 + 424 + 8 * v7);
          if (*(a1 + 297))
          {
            if (*(a1 + 508))
            {
              goto LABEL_8;
            }

            if (*(a1 + 516))
            {
              goto LABEL_9;
            }
          }

          v11 = *(v4 + 80 + 8 * *(v10 + 20));
          v11[2] = 0uLL;
          v11[3] = 0uLL;
          *v11 = 0uLL;
          v11[1] = 0uLL;
          *(v8 - 4) = 0;
          *v8 = 0;
          if (*(a1 + 297))
          {
            if (!*(a1 + 508))
            {
              goto LABEL_9;
            }

LABEL_8:
            v9 = *(v4 + 208 + 8 * *(v10 + 24));
            v9[14] = 0uLL;
            v9[15] = 0uLL;
            v9[12] = 0uLL;
            v9[13] = 0uLL;
            v9[10] = 0uLL;
            v9[11] = 0uLL;
            v9[8] = 0uLL;
            v9[9] = 0uLL;
            v9[6] = 0uLL;
            v9[7] = 0uLL;
            v9[4] = 0uLL;
            v9[5] = 0uLL;
            v9[2] = 0uLL;
            v9[3] = 0uLL;
            *v9 = 0uLL;
            v9[1] = 0uLL;
            goto LABEL_9;
          }

          if (*(a1 + 536))
          {
            goto LABEL_8;
          }

LABEL_9:
          ++v7;
          ++v8;
        }

        while (v7 < *(a1 + 416));
      }

      *(v4 + 24) = 0;
      *(v4 + 32) = 0;
      *(v4 + 40) = -16;
      v5 = *(a1 + 348);
    }

    *(v4 + 76) = v5 - 1;
  }

  if (*(a1 + 464) >= 1)
  {
    v12 = 0;
    v13 = 1 << *(a1 + 520);
    do
    {
      if (sub_1003A75A8(a1, (v4 + 336)))
      {
        **(a2 + 8 * v12) |= v13;
      }

      ++v12;
    }

    while (v12 < *(a1 + 464));
  }

  return 1;
}

uint64_t sub_1003A6AE4(uint64_t a1, void *a2)
{
  v3 = *(a1 + 592);
  if (*(a1 + 348))
  {
    v4 = *(v3 + 76);
    if (!v4)
    {
      v5 = a2;
      if (!(*(*(a1 + 584) + 16))(a1))
      {
        v6 = *a1;
        *(v6 + 40) = 25;
        (*v6)(a1);
      }

      a2 = v5;
      if (*(a1 + 416) >= 1)
      {
        v7 = 0;
        v8 = (v3 + 60);
        do
        {
          v10 = *(a1 + 424 + 8 * v7);
          if (*(a1 + 297))
          {
            if (*(a1 + 508))
            {
              goto LABEL_8;
            }

            if (*(a1 + 516))
            {
              goto LABEL_9;
            }
          }

          v11 = *(v3 + 80 + 8 * *(v10 + 20));
          v11[2] = 0uLL;
          v11[3] = 0uLL;
          *v11 = 0uLL;
          v11[1] = 0uLL;
          *(v8 - 4) = 0;
          *v8 = 0;
          if (*(a1 + 297))
          {
            if (!*(a1 + 508))
            {
              goto LABEL_9;
            }

LABEL_8:
            v9 = *(v3 + 208 + 8 * *(v10 + 24));
            v9[14] = 0uLL;
            v9[15] = 0uLL;
            v9[12] = 0uLL;
            v9[13] = 0uLL;
            v9[10] = 0uLL;
            v9[11] = 0uLL;
            v9[8] = 0uLL;
            v9[9] = 0uLL;
            v9[6] = 0uLL;
            v9[7] = 0uLL;
            v9[4] = 0uLL;
            v9[5] = 0uLL;
            v9[2] = 0uLL;
            v9[3] = 0uLL;
            *v9 = 0uLL;
            v9[1] = 0uLL;
            goto LABEL_9;
          }

          if (*(a1 + 536))
          {
            goto LABEL_8;
          }

LABEL_9:
          ++v7;
          ++v8;
        }

        while (v7 < *(a1 + 416));
      }

      *(v3 + 24) = 0;
      *(v3 + 32) = 0;
      *(v3 + 40) = -16;
      v4 = *(a1 + 348);
    }

    *(v3 + 76) = v4 - 1;
  }

  if (*(v3 + 40) != -1)
  {
    v12 = *(a1 + 528);
    v13 = *a2;
    v31 = *(*(a1 + 424) + 24);
    v14 = *(a1 + 520);
    v29 = -1 << v14;
    v30 = 1 << v14;
    v15 = *(a1 + 512);
    do
    {
      if (*(v13 + 2 * *(v12 + 4 * v15)))
      {
        break;
      }

      --v15;
    }

    while (v15);
    v16 = *(a1 + 508) - 1;
    v17 = v12 + 4;
    do
    {
      v18 = *(v3 + 208 + 8 * v31);
      v19 = v18 + 3 * v16;
      if (v16 >= v15 && sub_1003A75A8(a1, (v18 + 3 * v16)))
      {
        break;
      }

      v20 = v16++;
      for (i = (v19 + 2); ; i += 3)
      {
        v22 = *(v17 + 4 * v20);
        if (*(v13 + 2 * v22))
        {
          break;
        }

        if (sub_1003A75A8(a1, i - 1))
        {
          v23 = (v13 + 2 * v22);
          v26 = sub_1003A75A8(a1, (v3 + 336));
          v25 = v30;
          if (v26)
          {
            v25 = v29;
          }

          goto LABEL_36;
        }

        ++v20;
        ++v16;
        if (v20 >= *(a1 + 512))
        {
          v27 = *a1;
          *(v27 + 40) = 117;
          (*(v27 + 8))(a1, 0xFFFFFFFFLL);
          *(v3 + 40) = -1;
          return 1;
        }
      }

      if (!sub_1003A75A8(a1, i))
      {
        continue;
      }

      v23 = (v13 + 2 * v22);
      v24 = *v23;
      v25 = v24 < 0 ? v24 + v29 : v24 + v30;
LABEL_36:
      *v23 = v25;
    }

    while (*(a1 + 512) > v16);
  }

  return 1;
}

uint64_t sub_1003A6D98(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 592);
  if (*(a1 + 348))
  {
    v4 = *(v3 + 76);
    if (!v4)
    {
      v5 = a2;
      if (!(*(*(a1 + 584) + 16))(a1))
      {
        v6 = *a1;
        *(v6 + 40) = 25;
        (*v6)(a1);
      }

      a2 = v5;
      if (*(a1 + 416) >= 1)
      {
        v7 = 0;
        v8 = (v3 + 60);
        do
        {
          v10 = *(a1 + 424 + 8 * v7);
          if (*(a1 + 297))
          {
            if (*(a1 + 508))
            {
              goto LABEL_8;
            }

            if (*(a1 + 516))
            {
              goto LABEL_9;
            }
          }

          v11 = *(v3 + 80 + 8 * *(v10 + 20));
          v11[2] = 0uLL;
          v11[3] = 0uLL;
          *v11 = 0uLL;
          v11[1] = 0uLL;
          *(v8 - 4) = 0;
          *v8 = 0;
          if (*(a1 + 297))
          {
            if (!*(a1 + 508))
            {
              goto LABEL_9;
            }

LABEL_8:
            v9 = *(v3 + 208 + 8 * *(v10 + 24));
            v9[14] = 0uLL;
            v9[15] = 0uLL;
            v9[12] = 0uLL;
            v9[13] = 0uLL;
            v9[10] = 0uLL;
            v9[11] = 0uLL;
            v9[8] = 0uLL;
            v9[9] = 0uLL;
            v9[6] = 0uLL;
            v9[7] = 0uLL;
            v9[4] = 0uLL;
            v9[5] = 0uLL;
            v9[2] = 0uLL;
            v9[3] = 0uLL;
            *v9 = 0uLL;
            v9[1] = 0uLL;
            goto LABEL_9;
          }

          if (*(a1 + 536))
          {
            goto LABEL_8;
          }

LABEL_9:
          ++v7;
          ++v8;
        }

        while (v7 < *(a1 + 416));
      }

      *(v3 + 24) = 0;
      *(v3 + 32) = 0;
      *(v3 + 40) = -16;
      v4 = *(a1 + 348);
    }

    *(v3 + 76) = v4 - 1;
  }

  if (*(v3 + 40) != -1 && *(a1 + 464) >= 1)
  {
    v12 = 0;
    v13 = a1 + 468;
    v14 = a1 + 424;
    v15 = v3 + 80;
    v16 = v3 + 60;
    v52 = v3 + 44;
    v53 = v3 + 60;
    v54 = *(a1 + 528);
    v55 = v3 + 208;
    v50 = a2;
    do
    {
      v56 = *(a2 + 8 * v12);
      v17 = *(v13 + 4 * v12);
      v18 = *(v14 + 8 * v17);
      v19 = *(v18 + 20);
      v20 = (*(v15 + 8 * v19) + *(v16 + 4 * v17));
      if (!sub_1003A75A8(a1, v20))
      {
        *(v16 + 4 * v17) = 0;
        *v56 = *(v52 + 4 * v17);
        if (*(a1 + 536))
        {
          goto LABEL_71;
        }

        goto LABEL_120;
      }

      v21 = sub_1003A75A8(a1, v20 + 1);
      v22 = &v20[v21 + 2];
      if (sub_1003A75A8(a1, v22))
      {
        v23 = *(v15 + 8 * v19);
        v22 = v23 + 20;
        if (sub_1003A75A8(a1, v23 + 20))
        {
          v22 = v23 + 21;
          if (sub_1003A75A8(a1, v23 + 21))
          {
            v22 = v23 + 22;
            if (sub_1003A75A8(a1, v23 + 22))
            {
              v22 = v23 + 23;
              if (sub_1003A75A8(a1, v23 + 23))
              {
                v22 = v23 + 24;
                if (sub_1003A75A8(a1, v23 + 24))
                {
                  v22 = v23 + 25;
                  if (sub_1003A75A8(a1, v23 + 25))
                  {
                    v22 = v23 + 26;
                    if (sub_1003A75A8(a1, v23 + 26))
                    {
                      v22 = v23 + 27;
                      if (sub_1003A75A8(a1, v23 + 27))
                      {
                        v22 = v23 + 28;
                        if (sub_1003A75A8(a1, v23 + 28))
                        {
                          v22 = v23 + 29;
                          if (sub_1003A75A8(a1, v23 + 29))
                          {
                            v22 = v23 + 30;
                            if (sub_1003A75A8(a1, v23 + 30))
                            {
                              v22 = v23 + 31;
                              if (sub_1003A75A8(a1, v23 + 31))
                              {
                                v22 = v23 + 32;
                                if (sub_1003A75A8(a1, v23 + 32))
                                {
                                  v22 = v23 + 33;
                                  if (sub_1003A75A8(a1, v23 + 33))
                                  {
                                    v22 = v23 + 34;
                                    if (sub_1003A75A8(a1, v23 + 34))
                                    {
LABEL_122:
                                      v48 = *a1;
                                      *(v48 + 40) = 117;
                                      (*(v48 + 8))(a1, 0xFFFFFFFFLL);
                                      *(v3 + 40) = -1;
                                      return 1;
                                    }

                                    v24 = 0;
                                    v25 = 0x4000;
                                  }

                                  else
                                  {
                                    v24 = 0;
                                    v25 = 0x2000;
                                  }
                                }

                                else
                                {
                                  v24 = 0;
                                  v25 = 4096;
                                }
                              }

                              else
                              {
                                v24 = 0;
                                v25 = 2048;
                              }
                            }

                            else
                            {
                              v24 = 0;
                              v25 = 1024;
                            }
                          }

                          else
                          {
                            v24 = 0;
                            v25 = 512;
                          }
                        }

                        else
                        {
                          v24 = 0;
                          v25 = 256;
                        }
                      }

                      else
                      {
                        v24 = 0;
                        v25 = 128;
                      }
                    }

                    else
                    {
                      v24 = 0;
                      v25 = 64;
                    }
                  }

                  else
                  {
                    v24 = 0;
                    v25 = 32;
                  }
                }

                else
                {
                  v24 = 0;
                  v25 = 16;
                }
              }

              else
              {
                v24 = 0;
                v25 = 8;
              }
            }

            else
            {
              v24 = 0;
              v25 = 4;
            }
          }

          else
          {
            v24 = 0;
            v25 = 2;
          }
        }

        else
        {
          v24 = 1;
          v25 = 1;
        }
      }

      else
      {
        v25 = 0;
        v24 = 1;
      }

      if (v25 >= ((1 << *(a1 + 299 + v19)) >> 1))
      {
        v29 = 4 * v21 + 4;
        if (v25 > ((1 << *(a1 + 315 + v19)) >> 1))
        {
          v29 = 4 * v21 + 12;
        }

        *(v53 + 4 * v17) = v29;
        if (v24)
        {
LABEL_67:
          v26 = v25;
          goto LABEL_68;
        }
      }

      else
      {
        *(v53 + 4 * v17) = 0;
        if (v24)
        {
          goto LABEL_67;
        }
      }

      v26 = v25;
      do
      {
        if (sub_1003A75A8(a1, v22 + 14))
        {
          v27 = v25 >> 1;
        }

        else
        {
          v27 = 0;
        }

        v26 |= v27;
        v28 = v25 > 3;
        v25 >>= 1;
      }

      while (v28);
LABEL_68:
      v30 = ~v26;
      if (!v21)
      {
        v30 = v26 + 1;
      }

      v31 = *(v52 + 4 * v17) + v30;
      *(v52 + 4 * v17) = v31;
      *v56 = v31;
      if (*(a1 + 536))
      {
LABEL_71:
        v32 = 0;
        v33 = *(v18 + 24);
        do
        {
          v34 = (*(v55 + 8 * v33) + 3 * v32);
          if (sub_1003A75A8(a1, v34))
          {
            break;
          }

          v35 = v34 + 2;
          v36 = (v54 + 4 * (v32 + 1));
          while (1)
          {
            v37 = v32 + 1;
            if (sub_1003A75A8(a1, v35 - 1))
            {
              break;
            }

            v35 += 3;
            ++v36;
            ++v32;
            if (v37 >= *(a1 + 536))
            {
              goto LABEL_122;
            }
          }

          v38 = sub_1003A75A8(a1, (v3 + 336));
          v51 = v33;
          if (sub_1003A75A8(a1, v35))
          {
            if (sub_1003A75A8(a1, v35))
            {
              v39 = *(v55 + 8 * v33);
              v40 = 217;
              if (v32 < *(a1 + 331 + v33))
              {
                v40 = 189;
              }

              v41 = (v39 + v40);
              if (sub_1003A75A8(a1, (v39 + v40)))
              {
                v42 = v41 + 1;
                if (sub_1003A75A8(a1, v41 + 1))
                {
                  v42 = v41 + 2;
                  if (sub_1003A75A8(a1, v41 + 2))
                  {
                    v42 = v41 + 3;
                    if (sub_1003A75A8(a1, v41 + 3))
                    {
                      v42 = v41 + 4;
                      if (sub_1003A75A8(a1, v41 + 4))
                      {
                        v42 = v41 + 5;
                        if (sub_1003A75A8(a1, v41 + 5))
                        {
                          v42 = v41 + 6;
                          if (sub_1003A75A8(a1, v41 + 6))
                          {
                            v42 = v41 + 7;
                            if (sub_1003A75A8(a1, v41 + 7))
                            {
                              v42 = v41 + 8;
                              if (sub_1003A75A8(a1, v41 + 8))
                              {
                                v42 = v41 + 9;
                                if (sub_1003A75A8(a1, v41 + 9))
                                {
                                  v42 = v41 + 10;
                                  if (sub_1003A75A8(a1, v41 + 10))
                                  {
                                    v42 = v41 + 11;
                                    if (sub_1003A75A8(a1, v41 + 11))
                                    {
                                      v42 = v41 + 12;
                                      v43 = v38;
                                      if (sub_1003A75A8(a1, v41 + 12))
                                      {
                                        v41 += 13;
                                        if (sub_1003A75A8(a1, v41))
                                        {
                                          goto LABEL_122;
                                        }

                                        v44 = 0x4000;
                                        goto LABEL_112;
                                      }

                                      v44 = 0x2000;
                                    }

                                    else
                                    {
                                      v43 = v38;
                                      v44 = 4096;
                                    }
                                  }

                                  else
                                  {
                                    v43 = v38;
                                    v44 = 2048;
                                  }
                                }

                                else
                                {
                                  v43 = v38;
                                  v44 = 1024;
                                }
                              }

                              else
                              {
                                v43 = v38;
                                v44 = 512;
                              }
                            }

                            else
                            {
                              v43 = v38;
                              v44 = 256;
                            }
                          }

                          else
                          {
                            v43 = v38;
                            v44 = 128;
                          }
                        }

                        else
                        {
                          v43 = v38;
                          v44 = 64;
                        }
                      }

                      else
                      {
                        v43 = v38;
                        v44 = 32;
                      }
                    }

                    else
                    {
                      v43 = v38;
                      v44 = 16;
                    }
                  }

                  else
                  {
                    v43 = v38;
                    v44 = 8;
                  }
                }

                else
                {
                  v43 = v38;
                  v44 = 4;
                }

                v41 = v42;
              }

              else
              {
                v43 = v38;
                v44 = 2;
              }

LABEL_112:
              v45 = v44;
              do
              {
                if (sub_1003A75A8(a1, v41 + 14))
                {
                  v46 = v44 >> 1;
                }

                else
                {
                  LOWORD(v46) = 0;
                }

                v45 |= v46;
                v28 = v44 > 3;
                v44 >>= 1;
              }

              while (v28);
              goto LABEL_117;
            }

            v43 = v38;
            v45 = 1;
          }

          else
          {
            v43 = v38;
            v45 = 0;
          }

LABEL_117:
          v47 = ~v45;
          if (!v43)
          {
            v47 = v45 + 1;
          }

          v56[*v36] = v47;
          ++v32;
          v33 = v51;
        }

        while (v37 < *(a1 + 536));
      }

LABEL_120:
      ++v12;
      v13 = a1 + 468;
      a2 = v50;
      v15 = v3 + 80;
      v14 = a1 + 424;
      v16 = v3 + 60;
    }

    while (v12 < *(a1 + 464));
  }

  return 1;
}

uint64_t sub_1003A75A8(uint64_t *a1, _BYTE *a2)
{
  v3 = a1[74];
  v4 = *(v3 + 32);
  if (v4 >= 0x8000)
  {
    v6 = *(v3 + 40);
  }

  else
  {
    v6 = *(v3 + 40);
    do
    {
      v7 = v6--;
      *(v3 + 40) = v6;
      if (v7 <= 0)
      {
        if (*(a1 + 135))
        {
          v8 = 0;
        }

        else
        {
          v9 = a1[5];
          if (!v9[1] && !(v9[3])(a1))
          {
            v10 = *a1;
            *(v10 + 40) = 25;
            (*v10)(a1);
          }

          v11 = *v9;
          v12 = (v9[1] - 1);
          ++*v9;
          v9[1] = v12;
          v8 = *v11;
          if (v8 == 255)
          {
            do
            {
              v16 = a1[5];
              if (!*(v16 + 8) && !(*(v16 + 24))(a1))
              {
                v17 = *a1;
                *(v17 + 40) = 25;
                (*v17)(a1);
              }

              v13 = *v16;
              v14 = *(v16 + 8) - 1;
              ++*v16;
              *(v16 + 8) = v14;
              v15 = *v13;
            }

            while (v15 == 255);
            if (*v13)
            {
              v8 = 0;
              *(a1 + 135) = v15;
            }

            else
            {
              v8 = 255;
            }
          }

          v6 = *(v3 + 40);
        }

        *(v3 + 24) = v8 | (*(v3 + 24) << 8);
        *(v3 + 40) = v6 + 8;
        v20 = v6 + 9;
        v18 = v6 == -9;
        v19 = v6 <= -9;
        v6 += 8;
        if (v19)
        {
          *(v3 + 40) = v20;
          v6 = v20;
          if (v18)
          {
            v6 = 0;
            *(v3 + 32) = 0x8000;
          }
        }
      }

      v4 = 2 * *(v3 + 32);
      *(v3 + 32) = v4;
    }

    while (v4 < 0x8000);
  }

  v21 = *a2;
  v22 = qword_1003EBCC0[v21 & 0x7F];
  v23 = v22 >> 16;
  v24 = v4 - (v22 >> 16);
  *(v3 + 32) = v24;
  v25 = v24 << v6;
  v26 = *(v3 + 24);
  v27 = __OFSUB__(v26, v25);
  v28 = v26 - v25;
  if (v28 < 0 == v27)
  {
    *(v3 + 24) = v28;
    *(v3 + 32) = v23;
    v29 = v21 & 0x80;
    if (v24 >= v23)
    {
      goto LABEL_33;
    }

    goto LABEL_30;
  }

  if (v24 >= 0x8000)
  {
    return v21 >> 7;
  }

  v29 = v21 & 0x80;
  if (v24 >= v23)
  {
LABEL_30:
    *a2 = v29 ^ BYTE1(v22);
    return v21 >> 7;
  }

LABEL_33:
  *a2 = v29 ^ v22;
  return (v21 ^ 0x80) >> 7;
}

void *sub_1003A77AC(uint64_t a1, uint64_t a2)
{
  result = *(a1 + 40);
  if (!result)
  {
    result = (**(a1 + 8))(a1, 0, 56);
    *(a1 + 40) = result;
  }

  result[2] = sub_1003A7824;
  result[3] = sub_1003A7864;
  result[4] = sub_1003A78C8;
  result[5] = a2;
  return result;
}

uint64_t sub_1003A7824(uint64_t a1)
{
  v1 = *(a1 + 40);
  result = (**(a1 + 8))();
  v1[6] = result;
  *v1 = result;
  v1[1] = 4096;
  return result;
}

uint64_t sub_1003A7864(uint64_t *a1)
{
  v2 = a1[5];
  if (fwrite(*(v2 + 48), 1uLL, 0x1000uLL, *(v2 + 40)) != 4096)
  {
    v3 = *a1;
    *(v3 + 40) = 38;
    (*v3)(a1);
  }

  *v2 = *(v2 + 48);
  *(v2 + 8) = 4096;
  return 1;
}

uint64_t sub_1003A78C8(uint64_t *a1)
{
  v2 = a1[5];
  v3 = *(v2 + 8);
  if (v3 != 4096 && fwrite(*(v2 + 48), 1uLL, 4096 - v3, *(v2 + 40)) != 4096 - v3)
  {
    v4 = *a1;
    *(v4 + 40) = 38;
    (*v4)(a1);
  }

  fflush(*(v2 + 40));
  result = ferror(*(v2 + 40));
  if (result)
  {
    v6 = *a1;
    *(v6 + 40) = 38;
    v7 = *v6;

    return v7(a1);
  }

  return result;
}

uint64_t sub_1003A7980(uint64_t result, uint64_t a2)
{
  v3 = *(result + 40);
  if (!v3)
  {
    v4 = result;
    v5 = (**(result + 8))();
    *(v4 + 40) = v5;
    result = (**(v4 + 8))(v4, 0, 4096);
    *(v5 + 64) = result;
    v3 = *(v4 + 40);
  }

  v3[1] = 0;
  v3[2] = sub_1003A7A44;
  v3[3] = sub_1003A7A54;
  v3[4] = sub_1003A7AF4;
  v3[5] = sub_1003AF8F0;
  v3[6] = nullsub_104;
  v3[7] = a2;
  *v3 = 0;
  return result;
}

uint64_t sub_1003A7A54(uint64_t *a1)
{
  v2 = a1[5];
  v3 = fread(*(v2 + 64), 1uLL, 0x1000uLL, *(v2 + 56));
  if (!v3)
  {
    if (*(v2 + 72))
    {
      v4 = *a1;
      *(v4 + 40) = 43;
      (*v4)(a1);
    }

    v5 = *a1;
    *(v5 + 40) = 123;
    (*(v5 + 8))(a1, 0xFFFFFFFFLL);
    **(v2 + 64) = -1;
    *(*(v2 + 64) + 1) = -39;
    v3 = 2;
  }

  *v2 = *(v2 + 64);
  *(v2 + 8) = v3;
  *(v2 + 72) = 0;
  return 1;
}

uint64_t sub_1003A7AF4(uint64_t result, uint64_t a2)
{
  if (a2 >= 1)
  {
    v2 = a2;
    v3 = result;
    v4 = *(result + 40);
    v5 = *(v4 + 8);
    if (v5 < a2)
    {
      do
      {
        v2 -= v5;
        result = (*(v4 + 24))(v3);
        v5 = *(v4 + 8);
      }

      while (v2 > v5);
    }

    *v4 += v2;
    *(v4 + 8) = v5 - v2;
  }

  return result;
}

void sub_1003A7B6C(uint64_t a1, int a2)
{
  v4 = (**(a1 + 8))();
  *(a1 + 560) = v4;
  *v4 = sub_1003A7D24;
  v4[2] = sub_1003A7D78;
  v4[27] = 0;
  if (a2)
  {
    if (*(a1 + 56) >= 1)
    {
      v5 = 0;
      v6 = (*(a1 + 288) + 28);
      do
      {
        v7 = *(v6 - 4);
        if (*(a1 + 297))
        {
          v8 = 3 * v7;
        }

        else
        {
          v8 = v7;
        }

        v9 = *(*(a1 + 8) + 40);
        v10 = sub_1003C82BC(*v6, *(v6 - 5));
        v11 = sub_1003C82BC(v6[1], *(v6 - 4));
        v4[v5++ + 17] = v9(a1, 1, 1, v10, v11, v8);
        v6 += 24;
      }

      while (v5 < *(a1 + 56));
    }

    v4[1] = sub_1003A7F04;
    v4[3] = sub_1003A8264;
    v12 = (v4 + 17);
  }

  else
  {
    v13 = (*(*(a1 + 8) + 8))(a1, 1, 1280);
    v4[7] = v13;
    v4[8] = (v13 + 128);
    v4[9] = (v13 + 256);
    v4[10] = (v13 + 384);
    v4[11] = (v13 + 512);
    v4[12] = (v13 + 640);
    v4[13] = (v13 + 768);
    v4[14] = (v13 + 896);
    v4[15] = (v13 + 1024);
    v4[16] = (v13 + 1152);
    if (!*(a1 + 536))
    {
      bzero(v13, 0x500uLL);
    }

    v12 = 0;
    v4[1] = sub_1003A8448;
    v4[3] = sub_1003A8450;
  }

  v4[4] = v12;
}

uint64_t sub_1003A7D24(uint64_t result)
{
  *(result + 160) = 0;
  v1 = *(result + 560);
  if (*(result + 416) < 2)
  {
    v2 = *(result + 424);
    if (*(result + 400) == 1)
    {
      *(v1 + 48) = *(v2 + 76);
    }

    else
    {
      *(v1 + 48) = *(v2 + 12);
    }

    *(v1 + 40) = 0;
  }

  else
  {
    *(v1 + 48) = 1;
    *(v1 + 40) = 0;
  }

  return result;
}

uint64_t sub_1003A7D78(uint64_t result)
{
  v1 = *(result + 560);
  if (!v1[4])
  {
    goto LABEL_24;
  }

  if (*(result + 97) && *(result + 297) && *(result + 176))
  {
    v2 = v1[27];
    if (v2)
    {
      if (*(result + 56) < 1)
      {
        goto LABEL_22;
      }
    }

    else
    {
      v3 = result;
      v2 = (**(result + 8))();
      result = v3;
      v1[27] = v2;
      if (*(v3 + 56) < 1)
      {
        goto LABEL_22;
      }
    }

    v4 = 0;
    v5 = 0;
    v6 = 0;
    v7 = (*(result + 288) + 80);
    v8 = (v2 + 12);
    while (1)
    {
      v9 = *v7;
      if (!*v7)
      {
        break;
      }

      if (!*v9)
      {
        break;
      }

      if (!v9[1])
      {
        break;
      }

      if (!v9[8])
      {
        break;
      }

      if (!v9[16])
      {
        break;
      }

      if (!v9[9])
      {
        break;
      }

      if (!v9[2])
      {
        break;
      }

      v10 = *(result + 176);
      if ((*(v10 + v4) & 0x80000000) != 0)
      {
        break;
      }

      v11 = (v10 + v4);
      v12 = v11[1];
      *(v8 - 2) = v12;
      v13 = v11[2];
      *(v8 - 1) = v13;
      v14 = v11[3];
      *v8 = v14;
      v15 = v11[4];
      v8[1] = v15;
      LODWORD(v11) = v11[5];
      v8[2] = v11;
      v16.i64[0] = __PAIR64__(v14, v13);
      v16.i64[1] = __PAIR64__(v11, v15);
      *v16.i8 = vmovn_s32(vtstq_s32(v16, v16));
      v16.i16[0] = vmaxv_u16(*v16.i8);
      if (((v12 == 0) & ~v16.i32[0]) == 0)
      {
        v6 = 1;
      }

      ++v5;
      v4 += 256;
      v7 += 12;
      v8 += 6;
      if (v5 >= *(result + 56))
      {
        v17 = sub_1003A8754;
        if (v6)
        {
          goto LABEL_23;
        }

        break;
      }
    }
  }

LABEL_22:
  v17 = sub_1003A8264;
LABEL_23:
  v1[3] = v17;
LABEL_24:
  *(result + 168) = 0;
  return result;
}

uint64_t sub_1003A7F04(uint64_t a1)
{
  v2 = *(a1 + 560);
  memset(v50, 0, sizeof(v50));
  if (*(a1 + 416) >= 1)
  {
    v3 = 0;
    do
    {
      *(v50 + v3) = (*(*(a1 + 8) + 64))(a1, *&v2[2 * *(*(a1 + 8 * v3 + 424) + 4) + 34], (*(*(a1 + 8 * v3 + 424) + 12) * *(a1 + 160)), *(*(a1 + 8 * v3 + 424) + 12), 1);
      ++v3;
    }

    while (v3 < *(a1 + 416));
  }

  v4 = v2[12];
  v5 = v2[11];
  if (v5 >= v4)
  {
LABEL_37:
    v44 = *(a1 + 160) + 1;
    *(a1 + 160) = v44;
    v45 = *(a1 + 400);
    if (v44 >= v45)
    {
      (*(*(a1 + 576) + 24))(a1);
      return 4;
    }

    else
    {
      v46 = *(a1 + 560);
      if (*(a1 + 416) < 2)
      {
        v48 = v45 - 1;
        v49 = *(a1 + 424);
        if (v44 >= v48)
        {
          v47 = *(v49 + 76);
        }

        else
        {
          v47 = *(v49 + 12);
        }
      }

      else
      {
        v47 = 1;
      }

      *(v46 + 48) = v47;
      *(v46 + 40) = 0;
      return 3;
    }
  }

  else
  {
    v6 = v2 + 14;
    v7 = v2[10];
    v8 = *(a1 + 456);
    v9 = v2 + 18;
    v10 = 8 * v5;
    v11 = xmmword_1003EC090;
    v12 = xmmword_1003EC0A0;
    while (v7 >= v8)
    {
LABEL_6:
      v7 = 0;
      v2[10] = 0;
      ++v5;
      v10 += 8;
      if (v5 >= v4)
      {
        goto LABEL_37;
      }
    }

    while (1)
    {
      v13 = *(a1 + 416);
      if (v13 >= 1)
      {
        v14 = 0;
        v15 = 0;
        do
        {
          v16 = *(a1 + 424 + 8 * v14);
          v17 = *(v16 + 56);
          v18 = *(v16 + 60);
          if (v18 >= 1 && v17 >= 1)
          {
            v20 = v17 * v7;
            v21 = *(v50 + v14);
            if (v17 > 3)
            {
              v25 = v21 + 8 * v5;
              if ((v17 & 0x7FFFFFFC) == v17)
              {
                v26 = 0;
                do
                {
                  v27 = &v9[2 * v15];
                  v28 = *(v25 + 8 * v26) + (v20 << 7);
                  v15 += v17;
                  v29 = v17 & 0x7FFFFFFC;
                  do
                  {
                    v30 = vdupq_n_s64(v28);
                    v27[-1] = vaddq_s64(v30, v11);
                    *v27 = vaddq_s64(v30, v12);
                    v28 += 512;
                    v27 += 2;
                    v29 -= 4;
                  }

                  while (v29);
                  ++v26;
                }

                while (v26 != v18);
              }

              else
              {
                v31 = 0;
                v32 = (v17 >> 2) & 0x1FFFFFFF;
                v33 = &v6[8 * v32];
                v34 = v17 - 4 * v32;
                do
                {
                  v35 = 2 * v15;
                  v36 = &v33[v35];
                  v37 = &v9[v35];
                  v38 = *(v25 + 8 * v31) + (v20 << 7);
                  v15 += v17;
                  v39 = v38 + ((v17 & 0x7FFFFFFC) << 7);
                  v40 = v17 & 0x7FFFFFFC;
                  do
                  {
                    v41 = vdupq_n_s64(v38);
                    v37[-1] = vaddq_s64(v41, v11);
                    *v37 = vaddq_s64(v41, v12);
                    v38 += 512;
                    v37 += 2;
                    v40 -= 4;
                  }

                  while (v40);
                  v42 = v34;
                  do
                  {
                    *v36++ = v39;
                    v39 += 128;
                    --v42;
                  }

                  while (v42);
                  ++v31;
                }

                while (v31 != v18);
              }
            }

            else
            {
              v22 = (v21 + v10);
              do
              {
                v23 = *v22 + (v20 << 7);
                v24 = v15 + 1;
                *&v6[2 * v15] = v23;
                if (v17 + v15 != v24)
                {
                  *&v6[2 * v24] = v23 + 128;
                  if (v17 + v15 != v15 + 2)
                  {
                    *&v6[2 * v15 + 4] = v23 + 256;
                  }
                }

                ++v22;
                v15 += v17;
                --v18;
              }

              while (v18);
            }
          }

          ++v14;
        }

        while (v14 != v13);
      }

      result = (*(*(a1 + 592) + 8))(a1, v2 + 14);
      if (!result)
      {
        break;
      }

      ++v7;
      v8 = *(a1 + 456);
      v12 = xmmword_1003EC0A0;
      v11 = xmmword_1003EC090;
      if (v7 >= v8)
      {
        v4 = v2[12];
        goto LABEL_6;
      }
    }

    v2[10] = v7;
    v2[11] = v5;
  }

  return result;
}

uint64_t sub_1003A8264(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 560);
  v20 = *(a1 + 400) - 1;
  while (1)
  {
    v5 = *(a1 + 156);
    v6 = *(a1 + 164);
    if (v5 >= v6 && (v5 != v6 || *(a1 + 160) > *(a1 + 168)))
    {
      break;
    }

    result = (**(a1 + 576))(a1);
    if (!result)
    {
      return result;
    }
  }

  if (*(a1 + 56) >= 1)
  {
    v7 = 0;
    v8 = *(a1 + 288);
    v19 = v3 + 136;
    do
    {
      if (*(v8 + 52))
      {
        v21 = (*(*(a1 + 8) + 64))(a1, *(v19 + 8 * v7), (*(v8 + 12) * *(a1 + 168)), *(v8 + 12), 0);
        if (*(a1 + 168) >= v20)
        {
          if (*(v8 + 32) == (*(v8 + 32) / *(v8 + 12)) * *(v8 + 12))
          {
            v9 = *(v8 + 12);
          }

          else
          {
            v9 = *(v8 + 32) - (*(v8 + 32) / *(v8 + 12)) * *(v8 + 12);
          }

          if (v9 >= 1)
          {
LABEL_17:
            if (*(v8 + 28))
            {
              v10 = 0;
              v11 = *(*(a1 + 600) + 8 * v7 + 8);
              v12 = *(a2 + 8 * v7);
              v13 = 1;
              do
              {
                if (v13)
                {
                  v14 = 0;
                  v15 = 0;
                  v16 = *(v21 + 8 * v10);
                  do
                  {
                    v11(a1, v8, v16, v12, v14);
                    v16 += 128;
                    v14 = (*(v8 + 36) + v14);
                    ++v15;
                    v13 = *(v8 + 28);
                  }

                  while (v15 < v13);
                }

                v12 += 8 * *(v8 + 40);
                ++v10;
              }

              while (v10 != v9);
            }
          }
        }

        else
        {
          v9 = *(v8 + 12);
          if (v9 >= 1)
          {
            goto LABEL_17;
          }
        }
      }

      ++v7;
      v8 += 96;
    }

    while (v7 < *(a1 + 56));
  }

  v17 = *(a1 + 168) + 1;
  *(a1 + 168) = v17;
  if (v17 < *(a1 + 400))
  {
    return 3;
  }

  else
  {
    return 4;
  }
}

uint64_t sub_1003A8450(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 560);
  v4 = *(a1 + 400);
  v5 = v3[12];
  v40 = v3[11];
  if (v40 < v5)
  {
    v6 = *(a1 + 456) - 1;
    v43 = v4 - 1;
    v7 = (v3 + 14);
    v8 = a1 + 424;
    v9 = v3[10];
    v34 = *(a1 + 560);
    v35 = a1 + 424;
    v36 = v6;
    while (v9 > v6)
    {
LABEL_4:
      v9 = 0;
      v3[10] = 0;
      if (++v40 >= v5)
      {
        v4 = *(a1 + 400);
        goto LABEL_34;
      }
    }

    v10 = v9;
    while (1)
    {
      v38 = v10;
      if (*(a1 + 536))
      {
        bzero(*v7, *(a1 + 464) << 7);
      }

      result = (*(*(a1 + 592) + 8))(a1, v7);
      if (!result)
      {
        v34[10] = v38;
        v34[11] = v40;
        return result;
      }

      v12 = *(a1 + 416);
      v13 = v38;
      if (v12 >= 1)
      {
        break;
      }

LABEL_7:
      v10 = v13 + 1;
      if (v10 > v6)
      {
        v3 = v34;
        v5 = v34[12];
        goto LABEL_4;
      }
    }

    v14 = 0;
    v15 = 0;
    while (1)
    {
      while (1)
      {
        while (1)
        {
          v16 = *(v8 + 8 * v14);
          if (*(v16 + 52))
          {
            break;
          }

          v15 += *(v16 + 64);
          if (++v14 >= v12)
          {
            goto LABEL_7;
          }
        }

        v39 = v14;
        v17 = v13 >= v6 ? 72 : 56;
        v18 = *(v16 + 60);
        if (v18 >= 1)
        {
          break;
        }

LABEL_14:
        v14 = v39 + 1;
        if (v39 + 1 >= v12)
        {
          goto LABEL_7;
        }
      }

      v42 = *(v16 + v17);
      if (v42 >= 1)
      {
        v19 = 0;
        v20 = *(v16 + 4);
        v21 = *(*(a1 + 600) + 8 * v20 + 8);
        v41 = *(v16 + 68) * v13;
        v22 = *(v16 + 40);
        v23 = *(a2 + 8 * v20) + 8 * v22 * v40;
        do
        {
          if (*(a1 + 160) < v43 || v19 + v40 < *(v16 + 76))
          {
            v24 = v7;
            v25 = &v7[v15];
            v26 = v42;
            v27 = v41;
            do
            {
              v28 = *v25++;
              v21(a1, v16, v28, v23, v27);
              v27 = (*(v16 + 36) + v27);
              --v26;
            }

            while (v26);
            v22 = *(v16 + 40);
            v18 = *(v16 + 60);
            v7 = v24;
          }

          v15 += *(v16 + 56);
          v23 += 8 * v22;
          ++v19;
        }

        while (v19 < v18);
        v12 = *(a1 + 416);
        v6 = v36;
        v8 = v35;
        v13 = v38;
        goto LABEL_14;
      }

      v15 += *(v16 + 56) * v18;
      v14 = v39 + 1;
      if (v39 + 1 >= v12)
      {
        goto LABEL_7;
      }
    }
  }

LABEL_34:
  ++*(a1 + 168);
  v29 = *(a1 + 160) + 1;
  *(a1 + 160) = v29;
  if (v29 >= v4)
  {
    (*(*(a1 + 576) + 24))(a1);
    return 4;
  }

  else
  {
    v30 = *(a1 + 560);
    if (*(a1 + 416) < 2)
    {
      v32 = v4 - 1;
      v33 = *(a1 + 424);
      if (v29 >= v32)
      {
        v31 = *(v33 + 76);
      }

      else
      {
        v31 = *(v33 + 12);
      }
    }

    else
    {
      v31 = 1;
    }

    *(v30 + 48) = v31;
    *(v30 + 40) = 0;
    return 3;
  }
}

uint64_t sub_1003A8754(uint64_t a1, uint64_t a2)
{
  v2 = a1;
  v69 = *(a1 + 560);
  v76 = *(a1 + 400) - 1;
  v108 = 0u;
  v109 = 0u;
  v106 = 0u;
  v107 = 0u;
  v104 = 0u;
  v105 = 0u;
  __dst = 0u;
  v103 = 0u;
  while (1)
  {
    v4 = *(v2 + 156);
    v5 = *(v2 + 164);
    if (v4 > v5)
    {
      break;
    }

    v6 = *(v2 + 576);
    if (*(v6 + 33))
    {
      break;
    }

    if (v4 == v5)
    {
      v7 = *(v2 + 168);
      if (!*(v2 + 508))
      {
        ++v7;
      }

      if (*(v2 + 160) > v7)
      {
        break;
      }
    }

    result = (*v6)(v2);
    if (!result)
    {
      return result;
    }
  }

  if (*(v2 + 56) >= 1)
  {
    v8 = *(v2 + 288);
    v70 = v69 + 136;
    v71 = 0;
    v89 = v2;
    do
    {
      if (!*(v8 + 52))
      {
        goto LABEL_11;
      }

      v9 = *(v2 + 168);
      if (v9 < v76)
      {
        v10 = *(v8 + 12);
        v13 = 2 * v10;
        LODWORD(v12) = v10;
        if (v9)
        {
          goto LABEL_18;
        }
      }

      else
      {
        v10 = *(v8 + 12);
        v11 = *(v8 + 32) % v10;
        if (v11)
        {
          v12 = v11;
        }

        else
        {
          v12 = v10;
        }

        v13 = v12;
        if (v9)
        {
LABEL_18:
          v75 = (*(*(v2 + 8) + 64))(v2, *(v70 + 8 * v71), v10 * (v9 - 1), v10 + v13, 0) + 8 * *(v8 + 12);
          v72 = (v12 - 1);
          if (v12 >= 1)
          {
            goto LABEL_22;
          }

          goto LABEL_11;
        }
      }

      v75 = (*(*(v2 + 8) + 64))(v2, *(v70 + 8 * v71), 0, v13, 0);
      v72 = (v12 - 1);
      if (v12 >= 1)
      {
LABEL_22:
        v14 = 0;
        v95 = *(a2 + 8 * v71);
        v93 = *(*(v2 + 600) + 8 * v71 + 8);
        v15 = *(v8 + 80);
        v16 = v15[2];
        v17 = v15[9];
        v18 = v15[16];
        v19 = v15[8];
        v20 = v15[1];
        LODWORD(v15) = *v15;
        v92 = 9 * v15;
        v91 = 36 * v15;
        v87 = v20 << 8;
        v88 = v20 << 7;
        v85 = v19 << 8;
        v86 = v19 << 7;
        v83 = v18 << 8;
        v84 = v18 << 7;
        v81 = v17 << 7;
        v82 = 5 * v15;
        v79 = v16 << 7;
        v80 = v17 << 8;
        v78 = v16 << 8;
        v73 = v12;
        v94 = v8;
        v74 = v9;
        v90 = (*(v69 + 216) + 24 * v71);
        do
        {
          v21 = *(v75 + 8 * v14);
          v22 = v75 + 8 * v14;
          v23 = v21;
          if (v9 | v14)
          {
            v23 = *(v22 - 8);
          }

          if (v9 < v76 || (v24 = *(v75 + 8 * v14), v14 != v72))
          {
            v24 = *(v22 + 8);
          }

          v77 = v14;
          v25 = 0;
          v26 = 0;
          v29 = *v23;
          v27 = v23 + 64;
          v28 = v29;
          v32 = *v24;
          v30 = v24 + 64;
          v31 = v32;
          v33 = *(v8 + 28) - 1;
          v34 = v32;
          v99 = *v21;
          v101 = v99;
          v98 = v28;
          v100 = v28;
          do
          {
            v97 = v100;
            v35 = v101;
            v100 = v98;
            v101 = v99;
            v96 = v34;
            v34 = v31;
            sub_1003C832C(v21, &__dst, 1u);
            if (v26 < v33)
            {
              v98 = *v27;
              v99 = v21[64];
              v31 = *v30;
            }

            v36 = v90[1];
            if (v36)
            {
              v37 = WORD1(__dst) == 0;
            }

            else
            {
              v37 = 0;
            }

            if (v37)
            {
              v38 = v91 * (v35 - v99);
              v39 = (v88 - v38) / v87;
              if (1 << v36 <= v39)
              {
                v40 = (1 << v36) - 1;
              }

              else
              {
                v40 = (v88 - v38) / v87;
              }

              if (v36 > 0)
              {
                LODWORD(v39) = v40;
              }

              if (1 << v36 <= ((v38 + v88) / v87))
              {
                v41 = (1 << v36) - 1;
              }

              else
              {
                LOWORD(v41) = (v38 + v88) / v87;
              }

              if (v36 >= 1)
              {
                LOWORD(v42) = v41;
              }

              else
              {
                LOWORD(v42) = (v38 + v88) / v87;
              }

              if (v38 < 0)
              {
                v42 = -v39;
              }

              WORD1(__dst) = v42;
            }

            v43 = v90[2];
            if (v43 && !v103)
            {
              v44 = v91 * (v100 - v34);
              v45 = (v86 - v44) / v85;
              if (1 << v43 <= v45)
              {
                v46 = (1 << v43) - 1;
              }

              else
              {
                v46 = (v86 - v44) / v85;
              }

              if (v43 > 0)
              {
                LODWORD(v45) = v46;
              }

              if (1 << v43 <= ((v44 + v86) / v85))
              {
                v47 = (1 << v43) - 1;
              }

              else
              {
                LOWORD(v47) = (v44 + v86) / v85;
              }

              if (v43 >= 1)
              {
                LOWORD(v48) = v47;
              }

              else
              {
                LOWORD(v48) = (v44 + v86) / v85;
              }

              if (v44 < 0)
              {
                v48 = -v45;
              }

              LOWORD(v103) = v48;
            }

            v49 = v90[3];
            if (v49 && !v104)
            {
              v50 = v92 * (v100 - 2 * v101 + v34);
              v51 = (v84 - v50) / v83;
              if (1 << v49 <= v51)
              {
                v52 = (1 << v49) - 1;
              }

              else
              {
                v52 = (v84 - v50) / v83;
              }

              if (v49 > 0)
              {
                LODWORD(v51) = v52;
              }

              if (1 << v49 <= ((v50 + v84) / v83))
              {
                v53 = (1 << v49) - 1;
              }

              else
              {
                LOWORD(v53) = (v50 + v84) / v83;
              }

              if (v49 >= 1)
              {
                LOWORD(v54) = v53;
              }

              else
              {
                LOWORD(v54) = (v50 + v84) / v83;
              }

              if (v50 < 0)
              {
                v54 = -v51;
              }

              LOWORD(v104) = v54;
            }

            v55 = v90[4];
            if (v55 && !WORD1(v103))
            {
              v56 = v82 * (v97 - (v96 + v98) + v31);
              v57 = (v81 - v56) / v80;
              if (1 << v55 <= v57)
              {
                v58 = (1 << v55) - 1;
              }

              else
              {
                v58 = (v81 - v56) / v80;
              }

              if (v55 > 0)
              {
                LODWORD(v57) = v58;
              }

              if (1 << v55 <= ((v56 + v81) / v80))
              {
                v59 = (1 << v55) - 1;
              }

              else
              {
                LOWORD(v59) = (v56 + v81) / v80;
              }

              if (v55 >= 1)
              {
                LOWORD(v60) = v59;
              }

              else
              {
                LOWORD(v60) = (v56 + v81) / v80;
              }

              if (v56 < 0)
              {
                v60 = -v57;
              }

              WORD1(v103) = v60;
            }

            v61 = v90[5];
            if (v61 && !WORD2(__dst))
            {
              v62 = v92 * (v35 - 2 * v101 + v99);
              v63 = (v79 - v62) / v78;
              if (1 << v61 <= v63)
              {
                v64 = (1 << v61) - 1;
              }

              else
              {
                v64 = (v79 - v62) / v78;
              }

              if (v61 > 0)
              {
                LODWORD(v63) = v64;
              }

              if (1 << v61 <= ((v62 + v79) / v78))
              {
                v65 = (1 << v61) - 1;
              }

              else
              {
                LOWORD(v65) = (v62 + v79) / v78;
              }

              if (v61 >= 1)
              {
                LOWORD(v66) = v65;
              }

              else
              {
                LOWORD(v66) = (v62 + v79) / v78;
              }

              if (v62 < 0)
              {
                v66 = -v63;
              }

              WORD2(__dst) = v66;
            }

            v2 = v89;
            v93(v89, v94, &__dst, v95, v25);
            v21 += 64;
            v25 = (*(v94 + 36) + v25);
            ++v26;
            v30 += 64;
            v27 += 64;
          }

          while (v26 <= v33);
          v8 = v94;
          v95 += 8 * *(v94 + 40);
          v14 = v77 + 1;
          v9 = v74;
        }

        while (v77 + 1 != v73);
      }

LABEL_11:
      v8 += 96;
      ++v71;
    }

    while (v71 < *(v2 + 56));
  }

  v67 = *(v2 + 168) + 1;
  *(v2 + 168) = v67;
  if (v67 < *(v2 + 400))
  {
    return 3;
  }

  else
  {
    return 4;
  }
}

void *sub_1003A8D84(uint64_t *a1)
{
  result = (*a1[1])();
  v3 = result;
  a1[77] = result;
  *result = nullsub_105;
  v4 = *(a1 + 15);
  if (v4 > 7)
  {
    goto LABEL_43;
  }

  if (((1 << v4) & 0xCC) == 0)
  {
    if (((1 << v4) & 0x30) != 0)
    {
      if (*(a1 + 14) == 4)
      {
        goto LABEL_5;
      }

      goto LABEL_4;
    }

    if (v4 == 1)
    {
      if (*(a1 + 14) == 1)
      {
        goto LABEL_5;
      }

      goto LABEL_4;
    }

LABEL_43:
    if (*(a1 + 14) > 0)
    {
      goto LABEL_5;
    }

    goto LABEL_4;
  }

  if (*(a1 + 14) != 3)
  {
LABEL_4:
    v5 = *a1;
    *(v5 + 40) = 11;
    result = (*v5)(a1);
  }

LABEL_5:
  if (!*(a1 + 91) || (*(a1 + 15) | 4) == 6)
  {
    v6 = *(a1 + 16);
    if (v6 <= 3)
    {
      goto LABEL_8;
    }

LABEL_19:
    if (v6 == 4)
    {
      *(a1 + 31) = 4;
      v13 = *(a1 + 15);
      if (v13 != 4)
      {
        if (v13 == 5)
        {
          v14 = -11728000;
          v15 = -14831872;
          v16 = 5990656;
          v17 = 2919552;
          v3[1] = sub_1003A9FEC;
          v18 = a1[77];
          v18[2] = (*a1[1])(a1, 1, 1024);
          v18[3] = (*a1[1])(a1, 1, 1024);
          v18[4] = (*a1[1])(a1, 1, 2048);
          result = (*a1[1])(a1, 1, 2048);
          v19 = 0;
          v18[5] = result;
          v20 = v18[2];
          v21 = v18[3];
          v22 = v18[4];
          do
          {
            *(v20 + 4 * v19) = v14 >> 16;
            *(v21 + 4 * v19) = v15 >> 16;
            *(v22 + 8 * v19) = v16;
            result[v19++] = v17;
            v17 -= 22553;
            v16 -= 46802;
            v15 += 116130;
            v14 += 91881;
          }

          while (v19 != 256);
          goto LABEL_56;
        }

        goto LABEL_55;
      }

      goto LABEL_41;
    }

    if (v6 == 6)
    {
      *(a1 + 31) = 3;
      if (*(a1 + 15) == 6)
      {
        v8 = *(a1 + 91);
        if (v8 == 1)
        {
          goto LABEL_14;
        }

LABEL_23:
        if (!v8)
        {
          v9 = sub_1003A99EC;
          goto LABEL_42;
        }
      }

LABEL_55:
      v35 = *a1;
      *(v35 + 40) = 28;
      result = (*v35)(a1);
      goto LABEL_56;
    }

LABEL_25:
    if (v6 != *(a1 + 15))
    {
      goto LABEL_55;
    }

    *(a1 + 31) = *(a1 + 14);
LABEL_41:
    v9 = sub_1003AA0B8;
    goto LABEL_42;
  }

  v10 = *a1;
  *(v10 + 40) = 28;
  result = (*v10)(a1);
  v6 = *(a1 + 16);
  if (v6 > 3)
  {
    goto LABEL_19;
  }

LABEL_8:
  if (v6 != 1)
  {
    if (v6 == 2)
    {
      *(a1 + 31) = 3;
      v7 = *(a1 + 15);
      if (v7 > 2)
      {
        if (v7 == 3)
        {
          v37 = -11728000;
          v38 = -14831872;
          v39 = 5990656;
          v40 = 2919552;
          v3[1] = sub_1003A9938;
          v41 = a1[77];
          v41[2] = (*a1[1])(a1, 1, 1024);
          v41[3] = (*a1[1])(a1, 1, 1024);
          v41[4] = (*a1[1])(a1, 1, 2048);
          result = (*a1[1])(a1, 1, 2048);
          v42 = 0;
          v41[5] = result;
          v43 = v41[2];
          v44 = v41[3];
          v45 = v41[4];
          do
          {
            *(v43 + 4 * v42) = v37 >> 16;
            *(v44 + 4 * v42) = v38 >> 16;
            *(v45 + 8 * v42) = v39;
            result[v42++] = v40;
            v40 -= 22553;
            v39 -= 46802;
            v38 += 116130;
            v37 += 91881;
          }

          while (v42 != 256);
          goto LABEL_56;
        }

        if (v7 == 7)
        {
          v3[1] = sub_1003A9938;
          v23 = a1[77];
          v23[2] = (*a1[1])(a1, 1, 1024);
          v23[3] = (*a1[1])(a1, 1, 1024);
          v23[4] = (*a1[1])(a1, 1, 2048);
          result = (*a1[1])(a1, 1, 2048);
          v24 = 0;
          v23[5] = result;
          v25 = v23[2];
          v26 = v23[3];
          v27 = -29696512;
          v28 = -23488896;
          v29 = 5806464;
          v30 = 11981184;
          v31 = v23[4];
          do
          {
            *(v25 + 4 * v24) = v28 >> 16;
            *(v26 + 4 * v24) = v27 >> 16;
            *(v31 + 8 * v24) = v30;
            result[v24++] = v29;
            v29 -= 45107;
            v30 -= 93603;
            v27 += 232260;
            v28 += 183763;
          }

          while (v24 != 256);
          goto LABEL_56;
        }
      }

      else
      {
        if (v7 == 1)
        {
          v9 = sub_1003A95D0;
          goto LABEL_42;
        }

        if (v7 == 2)
        {
          v8 = *(a1 + 91);
          if (v8 == 1)
          {
LABEL_14:
            v9 = sub_1003A9CA8;
LABEL_42:
            v3[1] = v9;
            goto LABEL_56;
          }

          goto LABEL_23;
        }
      }

      goto LABEL_55;
    }

    goto LABEL_25;
  }

  *(a1 + 31) = 1;
  v11 = *(a1 + 15);
  if (v11 > 2)
  {
    if (v11 != 7 && v11 != 3)
    {
      goto LABEL_55;
    }

    goto LABEL_52;
  }

  if (v11 == 1)
  {
LABEL_52:
    v3[1] = sub_1003A9490;
    v32 = *(a1 + 14);
    if (v32 >= 2)
    {
      v33 = a1[36];
      if (v32 == 2)
      {
        v34 = 1;
      }

      else
      {
        v34 = (v32 - 1) | 1;
        v46 = (v33 + 244);
        v47 = (v32 - 1) & 0xFFFFFFFFFFFFFFFELL;
        do
        {
          *(v46 - 96) = 0;
          *v46 = 0;
          v46 += 192;
          v47 -= 2;
        }

        while (v47);
        if (v32 - 1 == ((v32 - 1) & 0xFFFFFFFFFFFFFFFELL))
        {
          goto LABEL_56;
        }
      }

      v48 = (v33 + 96 * v34 + 52);
      v49 = v32 - v34;
      do
      {
        *v48 = 0;
        v48 += 96;
        --v49;
      }

      while (v49);
    }

    goto LABEL_56;
  }

  if (v11 != 2)
  {
    goto LABEL_55;
  }

  v12 = *(a1 + 91);
  if (v12 == 1)
  {
    v3[1] = sub_1003A9534;
  }

  else if (v12)
  {
    v50 = *a1;
    *(v50 + 40) = 28;
    (*v50)(a1);
  }

  else
  {
    v3[1] = sub_1003A94AC;
  }

  v51 = a1[77];
  result = (*a1[1])(a1, 1, 6144);
  v52 = 0;
  v53 = 0;
  v54 = 0;
  v55 = 0;
  *(v51 + 48) = result;
  v56 = 19595;
  v57 = result;
  do
  {
    *v57 = v52;
    v57[1] = v56;
    v57[256] = v54;
    *(result + ((8 * v55) | 0x808)) = v54 + 38470;
    v57[512] = v53 + 0x8000;
    *(result + ((8 * v55) | 0x1008)) = v53 + 40239;
    v55 += 2;
    v56 += 39190;
    v54 += 76940;
    v53 += 14942;
    v52 += 39190;
    v57 += 2;
  }

  while (v55 != 256);
LABEL_56:
  if (*(a1 + 98))
  {
    v36 = 1;
  }

  else
  {
    v36 = *(a1 + 31);
  }

  *(a1 + 32) = v36;
  return result;
}

uint64_t sub_1003A94AC(uint64_t result, void *a2, unsigned int a3, void *a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 116);
    if (v5)
    {
      v6 = *(*(result + 616) + 48);
      do
      {
        v7 = *(*a2 + 8 * a3);
        v8 = *(a2[1] + 8 * a3);
        v9 = *(a2[2] + 8 * a3++);
        v10 = *a4;
        v11 = v5;
        do
        {
          v13 = *v7++;
          v12 = v13;
          v15 = *v8++;
          v14 = v15;
          v16 = *v9++;
          result = v16;
          *v10++ = (*(v6 + 8 * v14 + 2048) + *(v6 + 8 * v12) + *(v6 + 8 * v16 + 4096)) >> 16;
          --v11;
        }

        while (v11);
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

uint64_t sub_1003A9534(uint64_t result, void *a2, unsigned int a3, void *a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 116);
    if (v5)
    {
      v6 = *(*(result + 616) + 48);
      do
      {
        v7 = *(*a2 + 8 * a3);
        v8 = *(a2[1] + 8 * a3);
        v9 = *(a2[2] + 8 * a3++);
        v10 = *a4;
        v11 = v5;
        do
        {
          v13 = *v7++;
          v12 = v13;
          v15 = *v8++;
          v14 = v15;
          v16 = *v9++;
          result = (v16 + v14) ^ 0x80u;
          *v10++ = (*(v6 + 8 * v14 + 2048) + *(v6 + 8 * ((v14 + v12) ^ 0x80u)) + *(v6 + 8 * ((v16 + v14) ^ 0x80u) + 4096)) >> 16;
          --v11;
        }

        while (v11);
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

char *sub_1003A95D0(char *result, void *a2, unsigned int a3, char **a4, int a5)
{
  if (a5 < 1)
  {
    return result;
  }

  v5 = *(result + 29);
  if (!v5)
  {
    return result;
  }

  if (v5 > 7)
  {
    v16 = 3 * *(result + 29);
    v17 = v5 & 0xFFFFFFF8;
    v18 = 3 * v17;
    if (v5 > 0x1F)
    {
      v19 = v5 & 0xFFFFFFE0;
      if (v19 == v5)
      {
        do
        {
          v33 = *(*a2 + 8 * a3);
          v34 = *a4;
          if (*a4 >= &v33->i8[v5] || v33 >= &(*a4)[v16])
          {
            v36 = v33 + 1;
            v37 = v5 & 0xFFFFFFE0;
            do
            {
              v62.val[0] = v36[-1];
              v64.val[0] = *v36;
              v62.val[1] = v62.val[0];
              v62.val[2] = v62.val[0];
              v64.val[1] = *v36;
              v64.val[2] = *v36;
              v38 = v34 + 96;
              vst3q_s8(v34, v62);
              v39 = v34 + 48;
              vst3q_s8(v39, v64);
              v36 += 2;
              v34 = v38;
              v37 -= 32;
            }

            while (v37);
          }

          else
          {
            v40 = v34 + 2;
            v41 = v5;
            do
            {
              v42 = v33->i8[0];
              v33 = (v33 + 1);
              *v40 = v42;
              *(v40 - 1) = v42;
              *(v40 - 2) = v42;
              v40 += 3;
              --v41;
            }

            while (v41);
          }

          ++a3;
          ++a4;
          v20 = a5-- <= 1;
        }

        while (!v20);
        return result;
      }

      while (1)
      {
        v43 = *(*a2 + 8 * a3);
        v44 = *a4;
        if (*a4 >= &v43->i8[v5] || v43 >= &(*a4)[v16])
        {
          v46 = v43 + 1;
          v47 = *a4;
          v48 = v5 & 0xFFFFFFE0;
          do
          {
            v63.val[0] = v46[-1];
            v65.val[0] = *v46;
            v63.val[1] = v63.val[0];
            v63.val[2] = v63.val[0];
            v65.val[1] = *v46;
            v65.val[2] = *v46;
            v49 = v47 + 96;
            vst3q_s8(v47, v63);
            v50 = v47 + 48;
            vst3q_s8(v50, v65);
            v46 += 2;
            v47 = v49;
            v48 -= 32;
          }

          while (v48);
          result = &v44[3 * v19];
          if ((v5 & 0x18) != 0)
          {
            v44 += v18;
            v51 = &v43->i8[v19];
            v52 = v17 - v19;
            do
            {
              v53 = *v51++;
              v61.val[0] = v53;
              v61.val[1] = v53;
              v61.val[2] = v53;
              vst3_s8(result, v61);
              result += 24;
              v52 -= 8;
            }

            while (v52);
            v54 = v5 & 0xFFFFFFF8;
            if (v17 == v5)
            {
              goto LABEL_40;
            }
          }

          else
          {
            v54 = v5 & 0xFFFFFFE0;
            v44 += 3 * v19;
          }
        }

        else
        {
          v54 = 0;
        }

        v55 = &v43->i8[v54];
        result = (v5 - v54);
        v56 = v44 + 2;
        do
        {
          v57 = *v55++;
          *v56 = v57;
          *(v56 - 1) = v57;
          *(v56 - 2) = v57;
          v56 += 3;
          --result;
        }

        while (result);
LABEL_40:
        ++a3;
        ++a4;
        v20 = a5-- <= 1;
        if (v20)
        {
          return result;
        }
      }
    }

    while (1)
    {
      v21 = *(*a2 + 8 * a3);
      v22 = *a4;
      if (*a4 >= v21 + v5 || v21 >= &(*a4)[v16])
      {
        v58.val[0] = *v21;
        v58.val[1] = *v21;
        v58.val[2] = *v21;
        v24 = *a4;
        vst3_s8(v24, v58);
        v25 = &v24[v18];
        if (v17 != 8)
        {
          v26 = v22 + 24;
          v59.val[0] = v21[1];
          v59.val[1] = v59.val[0];
          v59.val[2] = v59.val[0];
          vst3_s8(v26, v59);
          if (v17 != 16)
          {
            v27 = v22 + 48;
            v60.val[0] = v21[2];
            v60.val[1] = v60.val[0];
            v60.val[2] = v60.val[0];
            vst3_s8(v27, v60);
          }
        }

        v28 = v5 & 0x18;
        v22 = v25;
        if (v17 == v5)
        {
          goto LABEL_16;
        }
      }

      else
      {
        v28 = 0;
      }

      v29 = v5 - v28;
      v30 = v21 + v28;
      v31 = v22 + 2;
      do
      {
        v32 = *v30++;
        *v31 = v32;
        *(v31 - 1) = v32;
        *(v31 - 2) = v32;
        v31 += 3;
        --v29;
      }

      while (v29);
LABEL_16:
      ++a3;
      ++a4;
      v20 = a5-- <= 1;
      if (v20)
      {
        return result;
      }
    }
  }

  v6 = a5 + 1;
  do
  {
    v7 = *(*a2 + 8 * a3);
    v8 = *a4;
    v9 = *v7;
    v8[2] = *v7;
    v8[1] = v9;
    *v8 = v9;
    if (v5 != 1)
    {
      v10 = v7[1];
      v8[5] = v10;
      v8[4] = v10;
      v8[3] = v10;
      if (v5 != 2)
      {
        v11 = v7[2];
        v8[8] = v11;
        v8[7] = v11;
        v8[6] = v11;
        if (v5 != 3)
        {
          v12 = v7[3];
          v8[11] = v12;
          v8[10] = v12;
          v8[9] = v12;
          if (v5 != 4)
          {
            v13 = v7[4];
            v8[14] = v13;
            v8[13] = v13;
            v8[12] = v13;
            if (v5 != 5)
            {
              v14 = v7[5];
              v8[17] = v14;
              v8[16] = v14;
              v8[15] = v14;
              if (v5 != 6)
              {
                v15 = v7[6];
                v8[20] = v15;
                v8[19] = v15;
                v8[18] = v15;
              }
            }
          }
        }
      }
    }

    ++a3;
    ++a4;
    --v6;
  }

  while (v6 > 1);
  return result;
}

uint64_t sub_1003A9938(uint64_t result, void *a2, unsigned int a3, uint64_t *a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 116);
    if (v5)
    {
      v6 = *(result + 616);
      v7 = *(result + 408);
      v8 = v6[2];
      v9 = v6[3];
      v10 = v6[4];
      v11 = v6[5];
      do
      {
        v12 = *(*a2 + 8 * a3);
        v13 = *(a2[1] + 8 * a3);
        v14 = *(a2[2] + 8 * a3++);
        result = *a4;
        v15 = v5;
        do
        {
          v17 = *v12++;
          v16 = v17;
          v19 = *v13++;
          v18 = v19;
          v20 = *v14++;
          *result = *(v7 + *(v8 + 4 * v20) + v16);
          *(result + 1) = *(v7 + v16 + ((*(v10 + 8 * v20) + *(v11 + 8 * v18)) >> 16));
          *(result + 2) = *(v7 + *(v9 + 4 * v18) + v16);
          result += 3;
          --v15;
        }

        while (v15);
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

int8x16_t *sub_1003A99EC(int8x16_t *result, void *a2, unsigned int a3, char **a4, int a5)
{
  if (a5 < 1)
  {
    return result;
  }

  v5 = result[7].u32[1];
  if (!v5)
  {
    return result;
  }

  if (v5 >= 8)
  {
    while (1)
    {
      v12 = 0;
      result = *(*a2 + 8 * a3);
      v13 = *(a2[1] + 8 * a3);
      v14 = *(a2[2] + 8 * a3);
      v15 = *a4;
      v16 = &(*a4)[3 * v5];
      v18 = *a4 < &v13->i8[v5] && v13 < v16;
      v20 = v15 < &v14->i8[v5] && v14 < v16;
      v21 = result >= v16 || v15 >= &result->i8[v5];
      if (!v21 || v18 || v20)
      {
        v23 = *a4;
      }

      else
      {
        if (v5 < 0x20)
        {
          v22 = 0;
LABEL_41:
          v23 = &v15[3 * (v5 & 0xFFFFFFF8)];
          v31 = &result->i8[v22];
          v32 = &v13->i8[v22];
          v33 = &v14->i8[v22];
          v34 = v22 - (v5 & 0xFFFFFFF8);
          v35 = &v15[3 * v22];
          do
          {
            v36 = *v31++;
            v45.val[0] = v36;
            v37 = *v32++;
            v45.val[1] = v37;
            v38 = *v33++;
            v45.val[2] = v38;
            vst3_s8(v35, v45);
            v35 += 24;
            v34 += 8;
          }

          while (v34);
          v12 = v5 & 0xFFFFFFF8;
          if (v12 == v5)
          {
            goto LABEL_14;
          }

          goto LABEL_46;
        }

        v24 = result + 1;
        v25 = v13 + 1;
        v26 = v14 + 1;
        v27 = v5 & 0xFFFFFFE0;
        v28 = *a4;
        do
        {
          v46.val[0] = v24[-1];
          v47.val[0] = *v24;
          v46.val[1] = v25[-1];
          v47.val[1] = *v25;
          v46.val[2] = v26[-1];
          v47.val[2] = *v26;
          v29 = v28 + 96;
          vst3q_s8(v28, v46);
          v30 = v28 + 48;
          vst3q_s8(v30, v47);
          v24 += 2;
          v25 += 2;
          v26 += 2;
          v28 = v29;
          v27 -= 32;
        }

        while (v27);
        if ((v5 & 0xFFFFFFE0) == v5)
        {
          goto LABEL_14;
        }

        v22 = v5 & 0xFFFFFFE0;
        if ((v5 & 0x18) != 0)
        {
          goto LABEL_41;
        }

        v23 = &v15[3 * (v5 & 0xFFFFFFE0)];
        v12 = v5 & 0xFFFFFFE0;
      }

LABEL_46:
      result = (result + v12);
      v39 = &v13->i8[v12];
      v40 = &v14->i8[v12];
      v41 = v5 - v12;
      do
      {
        v42 = result->i8[0];
        result = (result + 1);
        *v23 = v42;
        v43 = *v39++;
        v23[1] = v43;
        v44 = *v40++;
        v23[2] = v44;
        v23 += 3;
        --v41;
      }

      while (v41);
LABEL_14:
      ++a3;
      ++a4;
      if (a5-- <= 1)
      {
        return result;
      }
    }
  }

  v6 = a5 + 1;
  do
  {
    v7 = *(*a2 + 8 * a3);
    v8 = *(a2[1] + 8 * a3);
    v9 = *(a2[2] + 8 * a3);
    v10 = *a4;
    *v10 = *v7;
    v10[1] = *v8;
    v10[2] = *v9;
    if (v5 != 1)
    {
      v10[3] = v7[1];
      v10[4] = v8[1];
      v10[5] = v9[1];
      if (v5 != 2)
      {
        v10[6] = v7[2];
        v10[7] = v8[2];
        v10[8] = v9[2];
        if (v5 != 3)
        {
          v10[9] = v7[3];
          v10[10] = v8[3];
          v10[11] = v9[3];
          if (v5 != 4)
          {
            v10[12] = v7[4];
            v10[13] = v8[4];
            v10[14] = v9[4];
            if (v5 != 5)
            {
              v10[15] = v7[5];
              v10[16] = v8[5];
              v10[17] = v9[5];
              if (v5 != 6)
              {
                v10[18] = v7[6];
                v10[19] = v8[6];
                v10[20] = v9[6];
              }
            }
          }
        }
      }
    }

    ++a4;
    --v6;
    ++a3;
  }

  while (v6 > 1);
  return result;
}

char *sub_1003A9CA8(char *result, void *a2, unsigned int a3, char **a4, int a5)
{
  if (a5 < 1)
  {
    return result;
  }

  v5 = *(result + 29);
  if (!v5)
  {
    return result;
  }

  if (v5 >= 8)
  {
    v25.i64[0] = 0x8080808080808080;
    v25.i64[1] = 0x8080808080808080;
    while (1)
    {
      v27 = 0;
      v28 = *(*a2 + 8 * a3);
      v29 = *(a2[1] + 8 * a3);
      v30 = *(a2[2] + 8 * a3);
      v31 = *a4;
      v32 = &(*a4)[3 * v5];
      v34 = *a4 < v29 + v5 && v29 < v32;
      v36 = v31 < v30 + v5 && v30 < v32;
      v37 = v28 >= v32 || v31 >= v28 + v5;
      if (!v37 || v34 || v36)
      {
        result = *a4;
      }

      else
      {
        if (v5 < 0x10)
        {
          v38 = 0;
LABEL_36:
          result = &v31[3 * (v5 & 0xFFFFFFF8)];
          v39 = (v28 + v38);
          v40 = (v29 + v38);
          v41 = (v30 + v38);
          v42 = v38 - (v5 & 0xFFFFFFF8);
          v43 = &v31[3 * v38];
          do
          {
            v44 = *v39++;
            v45 = v44;
            v46 = *v40++;
            v65.val[1] = v46;
            v47 = *v41++;
            v65.val[0] = veor_s8(vadd_s8(v65.val[1], v45), 0x8080808080808080);
            v65.val[2] = veor_s8(vadd_s8(v47, v65.val[1]), 0x8080808080808080);
            vst3_s8(v43, v65);
            v43 += 24;
            v42 += 8;
          }

          while (v42);
          v27 = v5 & 0xFFFFFFF8;
          if (v27 == v5)
          {
            goto LABEL_14;
          }

          goto LABEL_41;
        }

        result = *a4;
        v57 = v5 & 0xFFFFFFF0;
        v58 = *(a2[2] + 8 * a3);
        v59 = *(a2[1] + 8 * a3);
        v60 = *(*a2 + 8 * a3);
        do
        {
          v61 = *v60++;
          v62 = v61;
          v63 = *v59++;
          v66.val[1] = v63;
          v64 = *v58++;
          v66.val[0] = veorq_s8(vaddq_s8(v66.val[1], v62), v25);
          v66.val[2] = veorq_s8(vaddq_s8(v64, v66.val[1]), v25);
          vst3q_s8(result, v66);
          result += 48;
          v57 -= 16;
        }

        while (v57);
        if ((v5 & 0xFFFFFFF0) == v5)
        {
          goto LABEL_14;
        }

        v38 = v5 & 0xFFFFFFF0;
        if ((v5 & 8) != 0)
        {
          goto LABEL_36;
        }

        result = &v31[3 * (v5 & 0xFFFFFFF0)];
        v27 = v5 & 0xFFFFFFF0;
      }

LABEL_41:
      v48 = (v28 + v27);
      v49 = (v29 + v27);
      v50 = (v30 + v27);
      v51 = v5 - v27;
      do
      {
        v53 = *v48++;
        v52 = v53;
        v55 = *v49++;
        v54 = v55;
        v56 = *v50++;
        *result = (v54 + v52) ^ 0x80;
        result[1] = v54;
        result[2] = (v56 + v54) ^ 0x80;
        result += 3;
        --v51;
      }

      while (v51);
LABEL_14:
      ++a3;
      ++a4;
      if (a5-- <= 1)
      {
        return result;
      }
    }
  }

  v6 = a5 + 1;
  do
  {
    v7 = *(*a2 + 8 * a3);
    v8 = *(a2[1] + 8 * a3);
    v9 = *(a2[2] + 8 * a3);
    v10 = *a4;
    v11 = *v8;
    v12 = *v9;
    *v10 = (*v8 + *v7) ^ 0x80;
    v10[1] = v11;
    v10[2] = (v12 + v11) ^ 0x80;
    if (v5 != 1)
    {
      v13 = v8[1];
      v14 = v9[1];
      v10[3] = (v13 + v7[1]) ^ 0x80;
      v10[4] = v13;
      v10[5] = (v14 + v13) ^ 0x80;
      if (v5 != 2)
      {
        v15 = v8[2];
        v16 = v9[2];
        v10[6] = (v15 + v7[2]) ^ 0x80;
        v10[7] = v15;
        v10[8] = (v16 + v15) ^ 0x80;
        if (v5 != 3)
        {
          v17 = v8[3];
          v18 = v9[3];
          v10[9] = (v17 + v7[3]) ^ 0x80;
          v10[10] = v17;
          v10[11] = (v18 + v17) ^ 0x80;
          if (v5 != 4)
          {
            v19 = v8[4];
            v20 = v9[4];
            v10[12] = (v19 + v7[4]) ^ 0x80;
            v10[13] = v19;
            v10[14] = (v20 + v19) ^ 0x80;
            if (v5 != 5)
            {
              v21 = v8[5];
              v22 = v9[5];
              v10[15] = (v21 + v7[5]) ^ 0x80;
              v10[16] = v21;
              v10[17] = (v22 + v21) ^ 0x80;
              if (v5 != 6)
              {
                v23 = v8[6];
                v24 = v9[6];
                v10[18] = (v23 + v7[6]) ^ 0x80;
                v10[19] = v23;
                v10[20] = (v24 + v23) ^ 0x80;
              }
            }
          }
        }
      }
    }

    ++a4;
    --v6;
    ++a3;
  }

  while (v6 > 1);
  return result;
}

_BYTE *sub_1003A9FEC(_BYTE *result, void *a2, unsigned int a3, _BYTE **a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 29);
    if (v5)
    {
      v6 = *(result + 77);
      v7 = *(result + 51);
      v8 = v6[2];
      v9 = v6[3];
      v10 = v6[4];
      v11 = v6[5];
      do
      {
        v12 = *(*a2 + 8 * a3);
        v13 = *(a2[1] + 8 * a3);
        v14 = *(a2[2] + 8 * a3);
        result = *(a2[3] + 8 * a3++);
        v15 = v5;
        v16 = *a4;
        do
        {
          v18 = *v12++;
          v17 = v18;
          v20 = *v13++;
          v19 = v20;
          v21 = *v14++;
          v17 ^= 0xFFu;
          *v16 = *(v7 + v17 - *(v8 + 4 * v21));
          v16[1] = *(v7 + (v17 - ((*(v10 + 8 * v21) + *(v11 + 8 * v19)) >> 16)));
          v16[2] = *(v7 + v17 - *(v9 + 4 * v19));
          LOBYTE(v21) = *result++;
          v16[3] = v21;
          v16 += 4;
          --v15;
        }

        while (v15);
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

uint64_t sub_1003AA0B8(uint64_t result, uint64_t a2, unsigned int a3, uint64_t *a4, int a5)
{
  if (a5 >= 1)
  {
    v5 = *(result + 56);
    v6 = *(result + 116);
    if (v5 >= 1 && v6 != 0)
    {
      do
      {
        v8 = 0;
        do
        {
          v9 = *(*(a2 + 8 * v8) + 8 * a3);
          v10 = *a4;
          v11 = v6;
          do
          {
            v12 = *v9++;
            *(v10 + v8) = v12;
            v10 += v5;
            --v11;
          }

          while (v11);
          ++v8;
        }

        while (v8 != v5);
        ++a3;
        ++a4;
      }

      while (a5-- > 1);
    }
  }

  return result;
}

__n128 sub_1003AA128(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  *(a1 + 600) = v2;
  *v2 = sub_1003AA1F4;
  if (*(a1 + 56) >= 1)
  {
    v4 = 0;
    v5 = v2 + 11;
    v6 = (*(a1 + 288) + 88);
    do
    {
      v7 = (**(a1 + 8))(a1, 1, 256);
      *v6 = v7;
      v6 += 12;
      result = 0uLL;
      *v7 = 0u;
      v7[1] = 0u;
      v7[2] = 0u;
      v7[3] = 0u;
      v7[4] = 0u;
      v7[5] = 0u;
      v7[6] = 0u;
      v7[7] = 0u;
      v7[8] = 0u;
      v7[9] = 0u;
      v7[10] = 0u;
      v7[11] = 0u;
      v7[12] = 0u;
      v7[13] = 0u;
      v7[14] = 0u;
      v7[15] = 0u;
      *(v5 + v4++) = -1;
    }

    while (v4 < *(a1 + 56));
  }

  return result;
}

uint64_t sub_1003AA1F4(uint64_t result, double a2, __n128 a3, uint32x4_t a4, uint32x4_t a5, float64x2_t a6, int32x4_t a7, float64x2_t a8, int32x4_t a9)
{
  if (*(result + 56) >= 1)
  {
    v10 = result;
    v11 = 0;
    v12 = 0;
    v13 = 0;
    v14 = *(result + 600);
    v15 = v14 + 8;
    v16 = 0x4B42539F58C54000;
    v17 = v14 + 88;
    v18 = 0x686273FC7B2158C5;
    v19 = 0x17122D4141B3539FLL;
    v20 = 0x587E625468624B42;
    v21 = 0x3B2141B345BF3249;
    v22 = 0x98E12BF1B3722A3;
    v23 = 0x28BA2D41300B22A3;
    v24 = 0x4DF098E0DE011A8;
    __asm { FMOV            V30.2D, #0.125 }

    v30 = vdupq_n_s64(0x3FF63150B14861EFuLL);
    v31 = vdupq_n_s64(0x3FF4E7AE914D6FCAuLL);
    v32 = vdupq_n_s64(0x3FF2D062EF6C11AAuLL);
    v33 = vdupq_n_s64(0x3FE92469C0A7BF3BuLL);
    v34 = vdupq_n_s64(0x3FE1517A7BC720BBuLL);
    v35 = vdupq_n_s64(0x3FD1A855DE72AB5DuLL);
    v36 = *(result + 288);
    v110 = v30;
    v111 = _Q30;
    v108 = v32;
    v109 = v31;
    v107 = v33;
    v105 = v35;
    v106 = v34;
    do
    {
      v44 = *(v36 + 36);
      v45 = *(v36 + 40) + (v44 << 8);
      if (v45 > 1805)
      {
        if (v45 > 3077)
        {
          if (v45 > 3597)
          {
            if (v45 > 4103)
            {
              if (v45 == 4104)
              {
                v13 = 0;
                v12 = sub_1003C0280;
                *(v15 + 8 * v11) = sub_1003C0280;
                if (*(v36 + 52))
                {
                  goto LABEL_120;
                }

                goto LABEL_4;
              }

              if (v45 == 4112)
              {
                v13 = 0;
                v12 = sub_1003BFC58;
                *(v15 + 8 * v11) = sub_1003BFC58;
                if (*(v36 + 52))
                {
                  goto LABEL_120;
                }

                goto LABEL_4;
              }
            }

            else
            {
              if (v45 == 3598)
              {
                v13 = 0;
                v12 = sub_1003BF1F0;
                *(v15 + 8 * v11) = sub_1003BF1F0;
                if (*(v36 + 52))
                {
                  goto LABEL_120;
                }

                goto LABEL_4;
              }

              if (v45 == 3855)
              {
                v13 = 0;
                v12 = sub_1003BF6EC;
                *(v15 + 8 * v11) = sub_1003BF6EC;
                if (*(v36 + 52))
                {
                  goto LABEL_120;
                }

                goto LABEL_4;
              }
            }
          }

          else if (v45 > 3340)
          {
            if (v45 == 3341)
            {
              v13 = 0;
              v12 = sub_1003BEC84;
              *(v15 + 8 * v11) = sub_1003BEC84;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }

            if (v45 == 3591)
            {
              v13 = 0;
              v12 = sub_1003C07DC;
              *(v15 + 8 * v11) = sub_1003C07DC;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }
          }

          else
          {
            if (v45 == 3078)
            {
              v13 = 0;
              v12 = sub_1003C0C10;
              *(v15 + 8 * v11) = sub_1003C0C10;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }

            if (v45 == 3084)
            {
              v13 = 0;
              v12 = sub_1003BE80C;
              *(v15 + 8 * v11) = sub_1003BE80C;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }
          }
        }

        else if (v45 > 2312)
        {
          if (v45 > 2569)
          {
            if (v45 == 2570)
            {
              v13 = 0;
              v12 = sub_1003BDF70;
              *(v15 + 8 * v11) = sub_1003BDF70;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }

            if (v45 == 2827)
            {
              v13 = 0;
              v12 = sub_1003BE350;
              *(v15 + 8 * v11) = sub_1003BE350;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }
          }

          else
          {
            if (v45 == 2313)
            {
              v13 = 0;
              v12 = sub_1003BDBD0;
              *(v15 + 8 * v11) = sub_1003BDBD0;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }

            if (v45 == 2565)
            {
              v13 = 0;
              v12 = sub_1003C0F70;
              *(v15 + 8 * v11) = sub_1003C0F70;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }
          }
        }

        else if (v45 > 2055)
        {
          if (v45 == 2056)
          {
            v46 = v10[23];
            if (v46 < 3)
            {
              v12 = off_10047B848[v46];
              v13 = v10[23];
              *(v15 + 8 * v11) = v12;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }

            v54 = *v10;
            *(v54 + 40) = 49;
            v48 = v18;
            v55 = v19;
            v56 = v20;
            v57 = v16;
            v58 = v21;
            v102 = v24;
            v104 = v22;
            v59 = v23;
            result = (*v54)(v10);
            v30 = v110;
            _Q30 = v111;
            v24 = v102;
            v22 = v104;
            v23 = v59;
            v21 = v58;
            v16 = v57;
            v33 = v107;
            v32 = v108;
            v20 = v56;
            v31 = v109;
            v19 = v55;
            v35 = v105;
            goto LABEL_119;
          }

          if (v45 == 2064)
          {
            v13 = 0;
            v12 = sub_1003C1D68;
            *(v15 + 8 * v11) = sub_1003C1D68;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }
        }

        else
        {
          if (v45 == 1806)
          {
            v13 = 0;
            v12 = sub_1003C2240;
            *(v15 + 8 * v11) = sub_1003C2240;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }

          if (v45 == 2052)
          {
            v13 = 0;
            v12 = sub_1003C1268;
            *(v15 + 8 * v11) = sub_1003C1268;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }
        }
      }

      else if (v45 > 1027)
      {
        if (v45 > 1538)
        {
          if (v45 > 1547)
          {
            if (v45 == 1548)
            {
              v13 = 0;
              v12 = sub_1003C2658;
              *(v15 + 8 * v11) = sub_1003C2658;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }

            if (v45 == 1799)
            {
              v13 = 0;
              v12 = sub_1003BC92C;
              *(v15 + 8 * v11) = sub_1003BC92C;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }
          }

          else
          {
            if (v45 == 1539)
            {
              v13 = 0;
              v12 = sub_1003C17A0;
              *(v15 + 8 * v11) = sub_1003C17A0;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }

            if (v45 == 1542)
            {
              v13 = 0;
              v12 = sub_1003BCC7C;
              *(v15 + 8 * v11) = sub_1003BCC7C;
              if (*(v36 + 52))
              {
                goto LABEL_120;
              }

              goto LABEL_4;
            }
          }
        }

        else if (v45 > 1284)
        {
          if (v45 == 1285)
          {
            v13 = 0;
            v12 = sub_1003BCECC;
            *(v15 + 8 * v11) = sub_1003BCECC;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }

          if (v45 == 1290)
          {
            v13 = 0;
            v12 = sub_1003C29C8;
            *(v15 + 8 * v11) = sub_1003C29C8;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }
        }

        else
        {
          if (v45 == 1028)
          {
            v13 = 0;
            v12 = sub_1003BD59C;
            *(v15 + 8 * v11) = sub_1003BD59C;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }

          if (v45 == 1032)
          {
            v13 = 0;
            v12 = sub_1003C2CD8;
            *(v15 + 8 * v11) = sub_1003C2CD8;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }
        }
      }

      else if (v45 > 515)
      {
        if (v45 > 773)
        {
          if (v45 == 774)
          {
            v13 = 0;
            v12 = sub_1003C3334;
            *(v15 + 8 * v11) = sub_1003C3334;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }

          if (v45 == 1026)
          {
            v13 = 0;
            v12 = sub_1003C1BAC;
            *(v15 + 8 * v11) = sub_1003C1BAC;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }
        }

        else
        {
          if (v45 == 516)
          {
            v13 = 0;
            v12 = sub_1003C373C;
            *(v15 + 8 * v11) = sub_1003C373C;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }

          if (v45 == 771)
          {
            v13 = 0;
            v12 = sub_1003BD920;
            *(v15 + 8 * v11) = sub_1003BD920;
            if (*(v36 + 52))
            {
              goto LABEL_120;
            }

            goto LABEL_4;
          }
        }
      }

      else if (v45 > 512)
      {
        if (v45 == 513)
        {
          v13 = 0;
          v12 = sub_1003C1D18;
          *(v15 + 8 * v11) = sub_1003C1D18;
          if (*(v36 + 52))
          {
            goto LABEL_120;
          }

          goto LABEL_4;
        }

        if (v45 == 514)
        {
          v13 = 0;
          v12 = sub_1003BDAFC;
          *(v15 + 8 * v11) = sub_1003BDAFC;
          if (*(v36 + 52))
          {
            goto LABEL_120;
          }

          goto LABEL_4;
        }
      }

      else
      {
        if (v45 == 257)
        {
          v13 = 0;
          v12 = sub_1003BDB9C;
          *(v15 + 8 * v11) = sub_1003BDB9C;
          if (*(v36 + 52))
          {
            goto LABEL_120;
          }

          goto LABEL_4;
        }

        if (v45 == 258)
        {
          v13 = 0;
          v12 = sub_1003C38C4;
          *(v15 + 8 * v11) = sub_1003C38C4;
          if (*(v36 + 52))
          {
            goto LABEL_120;
          }

          goto LABEL_4;
        }
      }

      v47 = *v10;
      *(v47 + 40) = 7;
      *(v47 + 44) = v44;
      *(*v10 + 48) = *(v36 + 40);
      v48 = v18;
      v101 = v19;
      v103 = v23;
      v49 = v20;
      v50 = v16;
      v51 = v21;
      v52 = v22;
      v53 = v24;
      result = (**v10)(v10);
      v30 = v110;
      _Q30 = v111;
      v24 = v53;
      v35 = v105;
      v19 = v101;
      v23 = v103;
      v22 = v52;
      v21 = v51;
      v16 = v50;
      v33 = v107;
      v32 = v108;
      v20 = v49;
      v31 = v109;
LABEL_119:
      v18 = v48;
      v34 = v106;
      *(v15 + 8 * v11) = v12;
      if (*(v36 + 52))
      {
LABEL_120:
        if (*(v17 + 4 * v11) != v13)
        {
          v60 = *(v36 + 80);
          if (v60)
          {
            *(v17 + 4 * v11) = v13;
            v61 = *(v36 + 88);
            if (v13)
            {
              if (v13 == 1)
              {
                v62 = *(v60 + 16);
                v63.i64[0] = 0x80000000800;
                v63.i64[1] = 0x80000000800;
                v64.i64[0] = 0x80000000800;
                v64.i64[1] = 0x80000000800;
                v65 = vshrq_n_u32(vmlal_u16(v64, *&vextq_s8(*v60, *v60, 8uLL), 0x11A822A332494000), 0xCuLL);
                *v61 = vshrq_n_u32(vmlal_u16(v63, *v60, v16), 0xCuLL);
                *(v61 + 16) = v65;
                v65.i64[0] = vextq_s8(v62, v62, 8uLL).u64[0];
                v66.i64[0] = 0x80000000800;
                v66.i64[1] = 0x80000000800;
                v67 = vmlal_u16(v66, *v62.i8, v18);
                v62.i64[0] = 0x80000000800;
                v62.i64[1] = 0x80000000800;
                *(v61 + 32) = vshrq_n_u32(v67, 0xCuLL);
                *(v61 + 48) = vshrq_n_u32(vmlal_u16(v62, *v65.i8, 0x187E300B45BF58C5), 0xCuLL);
                v68 = *(v60 + 32);
                v69 = *(v60 + 48);
                v67.i64[0] = vextq_s8(v68, v68, 8uLL).u64[0];
                v63.i64[0] = 0x80000000800;
                v63.i64[1] = 0x80000000800;
                v70 = vmlal_u16(v63, *v68.i8, 0x62546D4173FC539FLL);
                v68.i64[0] = 0x80000000800;
                v68.i64[1] = 0x80000000800;
                *(v61 + 64) = vshrq_n_u32(v70, 0xCuLL);
                *(v61 + 80) = vshrq_n_u32(vmlal_u16(v68, *v67.i8, v19), 0xCuLL);
                v68.i64[0] = vextq_s8(v69, v69, 8uLL).u64[0];
                v67.i64[0] = 0x80000000800;
                v67.i64[1] = 0x80000000800;
                v71 = vmlal_u16(v67, *v69.i8, v20);
                v69.i64[0] = 0x80000000800;
                v69.i64[1] = 0x80000000800;
                *(v61 + 96) = vshrq_n_u32(v71, 0xCuLL);
                *(v61 + 112) = vshrq_n_u32(vmlal_u16(v69, *v68.i8, 0x14C328BA3B214B42), 0xCuLL);
                v72 = *(v60 + 64);
                v73 = *(v60 + 80);
                v71.i64[0] = vextq_s8(v72, v72, 8uLL).u64[0];
                v70.i64[0] = 0x80000000800;
                v70.i64[1] = 0x80000000800;
                v74 = vmlal_u16(v70, *v72.i8, v16);
                v72.i64[0] = 0x80000000800;
                v72.i64[1] = 0x80000000800;
                *(v61 + 128) = vshrq_n_u32(v74, 0xCuLL);
                *(v61 + 144) = vshrq_n_u32(vmlal_u16(v72, *v71.i8, 0x11A822A332494000), 0xCuLL);
                v72.i64[0] = vextq_s8(v73, v73, 8uLL).u64[0];
                v71.i64[0] = 0x80000000800;
                v71.i64[1] = 0x80000000800;
                v75 = vmlal_u16(v71, *v73.i8, v21);
                v73.i64[0] = 0x80000000800;
                v73.i64[1] = 0x80000000800;
                *(v61 + 160) = vshrq_n_u32(v75, 0xCuLL);
                *(v61 + 176) = vshrq_n_u32(vmlal_u16(v73, *v72.i8, 0xDE01B3727823249), 0xCuLL);
                v76 = *(v60 + 96);
                v77 = *(v60 + 112);
                v75.i64[0] = vextq_s8(v76, v76, 8uLL).u64[0];
                v74.i64[0] = 0x80000000800;
                v74.i64[1] = 0x80000000800;
                a5 = vmlal_u16(v74, *v76.i8, v23);
                v76.i64[0] = 0x80000000800;
                v76.i64[1] = 0x80000000800;
                *(v61 + 192) = vshrq_n_u32(a5, 0xCuLL);
                *(v61 + 208) = vshrq_n_u32(vmlal_u16(v76, *v75.i8, v22), 0xCuLL);
                v76.i64[0] = vextq_s8(v77, v77, 8uLL).u64[0];
                v75.i64[0] = 0x80000000800;
                v75.i64[1] = 0x80000000800;
                a4 = vmlal_u16(v75, *v77.i8, 0x14C31712187E11A8);
                v77.i64[0] = 0x80000000800;
                v77.i64[1] = 0x80000000800;
                v78 = vshrq_n_u32(vmlal_u16(v77, *v76.i8, v24), 0xCuLL);
                a3 = vshrq_n_u32(a4, 0xCuLL);
                *(v61 + 224) = a3;
                *(v61 + 240) = v78;
              }

              else
              {
                v79 = 0;
                v80 = (v60 + 16);
                do
                {
                  v81 = xmmword_1003EC468[v79];
                  a3.n128_u16[0] = *(v80 - 8);
                  a3.n128_u16[2] = *v80;
                  v82 = vand_s8(a3.n128_u64[0], 0xFFFF0000FFFFLL);
                  v83.i64[0] = v82.u32[0];
                  v83.i64[1] = v82.u32[1];
                  a4.i16[0] = *(v80 - 7);
                  v84 = vcvtq_f64_u64(v83);
                  a4.i16[2] = v80[1];
                  v85 = vand_s8(*a4.i8, 0xFFFF0000FFFFLL);
                  v83.i64[0] = v85.u32[0];
                  v83.i64[1] = v85.u32[1];
                  a5.i16[0] = *(v80 - 6);
                  v86 = vmulq_f64(v81, vcvtq_f64_u64(v83));
                  a5.i16[2] = v80[2];
                  v87 = vand_s8(*a5.i8, 0xFFFF0000FFFFLL);
                  v83.i64[0] = v87.u32[0];
                  v83.i64[1] = v87.u32[1];
                  v88 = vmulq_f64(v81, vcvtq_f64_u64(v83));
                  LOWORD(a6.f64[0]) = *(v80 - 5);
                  WORD2(a6.f64[0]) = v80[3];
                  v89 = vand_s8(*&a6.f64[0], 0xFFFF0000FFFFLL);
                  v83.i64[0] = v89.u32[0];
                  v83.i64[1] = v89.u32[1];
                  a7.i16[0] = *(v80 - 4);
                  v90 = vmulq_f64(vmulq_f64(v81, vcvtq_f64_u64(v83)), v32);
                  a7.i16[2] = v80[4];
                  v91 = vand_s8(*a7.i8, 0xFFFF0000FFFFLL);
                  v83.i64[0] = v91.u32[0];
                  v83.i64[1] = v91.u32[1];
                  v92 = vmulq_f64(vmulq_f64(v81, vcvtq_f64_u64(v83)), _Q30);
                  LOWORD(a8.f64[0]) = *(v80 - 3);
                  WORD2(a8.f64[0]) = v80[5];
                  v93 = vand_s8(*&a8.f64[0], 0xFFFF0000FFFFLL);
                  v83.i64[0] = v93.u32[0];
                  v83.i64[1] = v93.u32[1];
                  v94 = vmulq_f64(vmulq_f64(v81, vcvtq_f64_u64(v83)), v33);
                  a6 = vmulq_f64(v90, _Q30);
                  a9.i16[0] = *(v80 - 2);
                  a9.i16[2] = v80[6];
                  v95 = vand_s8(*a9.i8, 0xFFFF0000FFFFLL);
                  v83.i64[0] = v95.u32[0];
                  v83.i64[1] = v95.u32[1];
                  a8 = vmulq_f64(v94, _Q30);
                  LOWORD(v9.f64[0]) = *(v80 - 1);
                  WORD2(v9.f64[0]) = v80[7];
                  v96 = vmulq_f64(vmulq_f64(vmulq_f64(v81, vcvtq_f64_u64(v83)), v34), _Q30);
                  v97 = vand_s8(*&v9.f64[0], 0xFFFF0000FFFFLL);
                  v83.i64[0] = v97.u32[0];
                  v83.i64[1] = v97.u32[1];
                  v9 = vcvtq_f64_u64(v83);
                  v98 = vcvt_hight_f32_f64(vcvt_f32_f64(vmulq_f64(vmulq_f64(v81, v84), _Q30)), vmulq_f64(vmulq_f64(v86, v30), _Q30));
                  v99 = vcvt_hight_f32_f64(vcvt_f32_f64(vmulq_f64(vmulq_f64(v88, v31), _Q30)), a6);
                  a7 = vcvt_hight_f32_f64(vcvt_f32_f64(v92), a8);
                  a9 = vcvt_hight_f32_f64(vcvt_f32_f64(v96), vmulq_f64(vmulq_f64(vmulq_f64(v81, v9), v35), _Q30));
                  v100 = vuzp1q_s32(v98, v99);
                  a4 = vuzp1q_s32(a7, a9);
                  a3 = vuzp2q_s32(v98, v99);
                  a5 = vuzp2q_s32(a7, a9);
                  *(v61 + 32) = a3;
                  *(v61 + 48) = a5;
                  *v61 = v100;
                  *(v61 + 16) = a4;
                  v61 += 64;
                  ++v79;
                  v80 += 16;
                }

                while (v79 != 4);
              }
            }

            else
            {
              v37 = vmovl_u16(*(v60 + 8));
              *v61 = vmovl_u16(*v60);
              *(v61 + 16) = v37;
              v38 = vmovl_u16(*(v60 + 24));
              *(v61 + 32) = vmovl_u16(*(v60 + 16));
              *(v61 + 48) = v38;
              v39 = vmovl_u16(*(v60 + 40));
              *(v61 + 64) = vmovl_u16(*(v60 + 32));
              *(v61 + 80) = v39;
              v40 = vmovl_u16(*(v60 + 56));
              *(v61 + 96) = vmovl_u16(*(v60 + 48));
              *(v61 + 112) = v40;
              v41 = vmovl_u16(*(v60 + 72));
              *(v61 + 128) = vmovl_u16(*(v60 + 64));
              *(v61 + 144) = v41;
              v42 = vmovl_u16(*(v60 + 88));
              *(v61 + 160) = vmovl_u16(*(v60 + 80));
              *(v61 + 176) = v42;
              v43 = vmovl_u16(*(v60 + 104));
              *(v61 + 192) = vmovl_u16(*(v60 + 96));
              *(v61 + 208) = v43;
              a3 = vmovl_u16(*(v60 + 120));
              *(v61 + 224) = vmovl_u16(*(v60 + 112));
              *(v61 + 240) = a3;
            }
          }
        }
      }

LABEL_4:
      ++v11;
      v36 += 96;
    }

    while (v11 < v10[14]);
  }

  return result;
}

double sub_1003AAE10(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  v3 = v2;
  *(a1 + 592) = v2;
  *v2 = sub_1003AAEFC;
  *(v2 + 16) = sub_1003AB51C;
  if (*(a1 + 297))
  {
    v4 = (**(a1 + 8))(a1, 1, *(a1 + 56) << 8);
    *(a1 + 176) = v4;
    if (*(a1 + 56) >= 1)
    {
      v5 = 0;
      *&v6 = -1;
      *(&v6 + 1) = -1;
      do
      {
        v4[14] = v6;
        v4[15] = v6;
        v4[12] = v6;
        v4[13] = v6;
        v4[10] = v6;
        v4[11] = v6;
        v4[8] = v6;
        v4[9] = v6;
        v4[6] = v6;
        v4[7] = v6;
        v4[4] = v6;
        v4[5] = v6;
        v4[2] = v6;
        v4[3] = v6;
        *v4 = v6;
        v4[1] = v6;
        v4 += 16;
        ++v5;
      }

      while (v5 < *(a1 + 56));
    }

    result = 0.0;
    *(v3 + 88) = 0u;
    *(v3 + 72) = 0u;
  }

  else
  {
    result = 0.0;
    *(v2 + 144) = 0u;
    *(v2 + 160) = 0u;
    *(v2 + 112) = 0u;
    *(v2 + 128) = 0u;
  }

  return result;
}

void sub_1003AAEFC(_DWORD *a1)
{
  v2 = *(a1 + 74);
  v3 = a1[127];
  if (!*(a1 + 297))
  {
    if (v3 || a1[129] || a1[130] || ((v64 = a1[128], *(a1 + 296)) || v64 <= 63) && v64 != a1[134])
    {
      v5 = *a1;
      *(v5 + 40) = 125;
      (*(v5 + 8))(a1, 0xFFFFFFFFLL);
    }

    v6 = sub_1003AD394;
    if (a1[134] == 63)
    {
      v6 = sub_1003AD898;
    }

    *(v2 + 8) = v6;
    if (a1[104] >= 1)
    {
      v7 = 0;
      do
      {
        v8 = *&a1[2 * v7 + 106];
        sub_1003AC178(a1, 1, *(v8 + 20), (v2 + 112 + 8 * *(v8 + 20)));
        if (a1[134])
        {
          sub_1003AC178(a1, 0, *(v8 + 24), (v2 + 144 + 8 * *(v8 + 24)));
        }

        *(v2 + 44 + 4 * v7++) = 0;
      }

      while (v7 < a1[104]);
    }

    if (a1[116] < 1)
    {
      goto LABEL_103;
    }

    v9 = 0;
    v10 = v2 + 336;
    while (1)
    {
      v17 = *&a1[2 * a1[v9 + 117] + 106];
      v18 = *(v17 + 24);
      v19 = v10 + 8 * v9;
      *(v19 - 160) = *(v2 + 112 + 8 * *(v17 + 20));
      *(v19 - 80) = *(v2 + 144 + 8 * v18);
      if (!*(v17 + 52))
      {
        v16 = 0;
        goto LABEL_26;
      }

      v22 = v17 + 36;
      v20 = *(v17 + 36);
      v21 = *(v22 + 4);
      v23 = a1[134];
      if (v23 <= 14)
      {
        break;
      }

      if (v23 > 34)
      {
        if (v23 == 35)
        {
          v36 = v21 - 7;
          v37 = v21 - 1;
          v38 = v20 - 7;
          v14 = v20 - 1;
          if (v36 < 0xFFFFFFFA)
          {
            v37 = 5;
          }

          if (v38 < 0xFFFFFFFA)
          {
            v14 = 5;
          }

          v15 = &unk_1003EC580 + 24 * v37;
          goto LABEL_25;
        }

        if (v23 == 48)
        {
          v30 = v21 - 8;
          v31 = v21 - 1;
          v32 = v20 - 8;
          v14 = v20 - 1;
          if (v30 < 0xFFFFFFF9)
          {
            v31 = 6;
          }

          if (v32 < 0xFFFFFFF9)
          {
            v14 = 6;
          }

          v15 = &unk_1003EC610 + 28 * v31;
          goto LABEL_25;
        }

        goto LABEL_20;
      }

      if (v23 == 15)
      {
        v33 = v21 - 5;
        v34 = v21 - 1;
        v35 = v20 - 5;
        v14 = v20 - 1;
        if (v33 < 0xFFFFFFFC)
        {
          v34 = 3;
        }

        if (v35 < 0xFFFFFFFC)
        {
          v14 = 3;
        }

        v15 = &unk_1003EC4DC + 16 * v34;
        goto LABEL_25;
      }

      if (v23 != 24)
      {
        goto LABEL_20;
      }

      v24 = v21 - 6;
      v25 = v21 - 1;
      v26 = v20 - 6;
      v14 = v20 - 1;
      if (v24 < 0xFFFFFFFB)
      {
        v25 = 4;
      }

      if (v26 < 0xFFFFFFFB)
      {
        v14 = 4;
      }

      v15 = &unk_1003EC51C + 20 * v25;
LABEL_25:
      v16 = *&v15[4 * v14] + 1;
LABEL_26:
      *(v10 + 4 * v9++) = v16;
      if (v9 >= a1[116])
      {
        goto LABEL_103;
      }
    }

    switch(v23)
    {
      case 0:
        v16 = 1;
        goto LABEL_26;
      case 3:
        v39 = v21 - 3;
        v40 = v21 - 1;
        v41 = v20 - 3;
        v14 = v20 - 1;
        if (v39 < 0xFFFFFFFE)
        {
          v40 = 1;
        }

        if (v41 < 0xFFFFFFFE)
        {
          v14 = 1;
        }

        v15 = &unk_1003EC4A8 + 8 * v40;
        goto LABEL_25;
      case 8:
        v27 = v21 - 4;
        v28 = v21 - 1;
        v29 = v20 - 4;
        v14 = v20 - 1;
        if (v27 < 0xFFFFFFFD)
        {
          v28 = 2;
        }

        if (v29 < 0xFFFFFFFD)
        {
          v14 = 2;
        }

        v15 = &unk_1003EC4B8 + 12 * v28;
        goto LABEL_25;
    }

LABEL_20:
    v11 = v21 - 9;
    v12 = v21 - 1;
    v13 = v20 - 9;
    v14 = v20 - 1;
    if (v11 < 0xFFFFFFF8)
    {
      v12 = 7;
    }

    if (v13 < 0xFFFFFFF8)
    {
      v14 = 7;
    }

    v15 = &unk_1003EC6D4 + 32 * v12;
    goto LABEL_25;
  }

  v4 = a1[128];
  if (v3)
  {
    if (v4 < v3 || v4 > a1[134] || a1[104] != 1)
    {
      goto LABEL_73;
    }
  }

  else if (v4)
  {
    goto LABEL_73;
  }

  v42 = a1[129];
  if (v42)
  {
    v43 = v42 - 1;
    if (v43 == a1[130] && v43 < 14)
    {
      goto LABEL_74;
    }
  }

  else if (a1[130] < 14)
  {
    goto LABEL_74;
  }

LABEL_73:
  v44 = *a1;
  *(v44 + 40) = 17;
  *(v44 + 44) = v3;
  *(*a1 + 48) = a1[128];
  *(*a1 + 52) = a1[129];
  *(*a1 + 56) = a1[130];
  (**a1)(a1);
LABEL_74:
  if (a1[104] >= 1)
  {
    v45 = 0;
    while (1)
    {
      v47 = *(*&a1[2 * v45 + 106] + 4);
      v48 = *(a1 + 22);
      v49 = a1[127];
      if (v49 && (*(v48 + (v47 << 8)) & 0x80000000) != 0)
      {
        v53 = *a1;
        *(v53 + 40) = 118;
        *(v53 + 44) = v47;
        *(*a1 + 48) = 0;
        (*(*a1 + 8))(a1, 0xFFFFFFFFLL);
        v49 = a1[127];
        if (v49 <= a1[128])
        {
LABEL_80:
          v50 = v49 - 1;
          v51 = (v48 + (v47 << 8) + 4 * v49);
          do
          {
            if (a1[129] != (*v51 & ~(*v51 >> 31)))
            {
              v52 = *a1;
              *(v52 + 40) = 118;
              *(v52 + 44) = v47;
              *(*a1 + 48) = v49;
              (*(*a1 + 8))(a1, 0xFFFFFFFFLL);
            }

            *v51++ = a1[130];
            ++v50;
            ++v49;
          }

          while (v50 < a1[128]);
        }
      }

      else if (v49 <= a1[128])
      {
        goto LABEL_80;
      }

      ++v45;
      v46 = a1[104];
      if (v45 >= v46)
      {
        v54 = v46 > 0;
        goto LABEL_88;
      }
    }
  }

  v54 = 0;
LABEL_88:
  v55 = a1[127];
  v56 = v55 == 0;
  if (v55)
  {
    v57 = sub_1003AB7EC;
  }

  else
  {
    v57 = sub_1003AB548;
  }

  v58 = sub_1003ABC60;
  if (v56)
  {
    v58 = sub_1003ABAD4;
  }

  if (!a1[129])
  {
    v58 = v57;
  }

  *(v2 + 8) = v58;
  if (v54)
  {
    v59 = 0;
    v60 = v2 + 72;
    do
    {
      v63 = *&a1[2 * v59 + 106];
      if (a1[127])
      {
        v61 = *(v63 + 24);
        v62 = (v60 + 8 * v61);
        sub_1003AC178(a1, 0, v61, v62);
        *(v2 + 104) = *v62;
      }

      else if (!a1[129])
      {
        sub_1003AC178(a1, 1, *(v63 + 20), (v60 + 8 * *(v63 + 20)));
      }

      *(v2 + 44 + 4 * v59++) = 0;
    }

    while (v59 < a1[104]);
  }

  *(v2 + 40) = 0;
LABEL_103:
  *(v2 + 32) = 0;
  *(v2 + 24) = 0;
  *(v2 + 60) = 0;
  *(v2 + 64) = a1[87];
}

uint64_t sub_1003AB51C(uint64_t result)
{
  v1 = *(result + 592);
  *(*(result + 584) + 32) += *(v1 + 32) / 8;
  *(v1 + 32) = 0;
  return result;
}

uint64_t sub_1003AB548(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 592);
  v24 = *(a1 + 520);
  if (*(a1 + 348) && !*(v3 + 64))
  {
    v22 = *(a1 + 584);
    *(v22 + 32) += *(v3 + 32) / 8;
    *(v3 + 32) = 0;
    result = (*(v22 + 16))(a1);
    if (!result)
    {
      return result;
    }

    if (*(a1 + 416) >= 1)
    {
      v23 = 0;
      do
      {
        *(v3 + 44 + 4 * v23++) = 0;
      }

      while (v23 < *(a1 + 416));
    }

    *(v3 + 40) = 0;
    *(v3 + 64) = *(a1 + 348);
    if (!*(a1 + 540))
    {
      *(v3 + 60) = 0;
    }
  }

  if (!*(v3 + 60))
  {
    v32 = a1;
    v4 = *(a1 + 40);
    v5 = *v4;
    v6 = v4[1];
    v28 = *v4;
    v29 = v6;
    v7 = *(v3 + 24);
    v8 = *(v3 + 32);
    v26 = *(v3 + 40);
    v27 = *(v3 + 56);
    if (*(a1 + 464) >= 1)
    {
      v9 = 0;
      v30 = 0;
      v31 = 0;
      while (1)
      {
        v14 = *(a2 + 8 * v9);
        v15 = *(a1 + 468 + 4 * v9);
        v16 = *(v3 + 72 + 8 * *(*(a1 + 424 + 8 * v15) + 20));
        if (v8 > 7)
        {
          goto LABEL_15;
        }

        result = sub_1003ADD8C(&v28, v7, v8, 0);
        if (!result)
        {
          return result;
        }

        v7 = v30;
        v8 = v31;
        if (v31 > 7)
        {
LABEL_15:
          v19 = v7 >> (v8 - 8);
          v20 = *(v16 + 4 * v19 + 288);
          if (v20)
          {
            v8 -= v20;
            v21 = v16 + v19;
            v18 = *(v21 + 1312);
            if (*(v21 + 1312))
            {
              goto LABEL_20;
            }

            goto LABEL_17;
          }

          v18 = sub_1003ADF04(&v28, v7, v8, v16, 9);
          if (v18 < 0)
          {
            return 0;
          }
        }

        else
        {
          v18 = sub_1003ADF04(&v28, v30, v31, v16, 1);
          if (v18 < 0)
          {
            return 0;
          }
        }

        v7 = v30;
        v8 = v31;
        if (v18)
        {
LABEL_20:
          if (v8 < v18)
          {
            result = sub_1003ADD8C(&v28, v7, v8, v18);
            if (!result)
            {
              return result;
            }

            v7 = v30;
            v8 = v31;
          }

          v8 -= v18;
          v10 = dword_1003EC7D4[v18];
          v11 = v10 & (v7 >> v8);
          if (v11 > dword_1003EC7D4[v18 - 1])
          {
            v10 = 0;
          }

          v12 = v11 - v10;
          goto LABEL_9;
        }

LABEL_17:
        v12 = 0;
LABEL_9:
        v13 = *(&v26 + v15 + 1) + v12;
        *(&v26 + v15 + 1) = v13;
        *v14 = v13 << v24;
        if (++v9 >= *(a1 + 464))
        {
          v4 = *(a1 + 40);
          v5 = v28;
          v6 = v29;
          break;
        }
      }
    }

    *v4 = v5;
    v4[1] = v6;
    *(v3 + 24) = v7;
    *(v3 + 32) = v8;
    *(v3 + 40) = v26;
    *(v3 + 56) = v27;
  }

  --*(v3 + 64);
  return 1;
}

uint64_t sub_1003AB7EC(uint64_t a1, void *a2)
{
  v3 = *(a1 + 592);
  if (*(a1 + 348) && !*(v3 + 64))
  {
    v6 = a2;
    v7 = *(a1 + 584);
    *(v7 + 32) += *(v3 + 32) / 8;
    *(v3 + 32) = 0;
    result = (*(v7 + 16))(a1);
    if (!result)
    {
      return result;
    }

    if (*(a1 + 416) >= 1)
    {
      v9 = 0;
      do
      {
        *(v3 + 44 + 4 * v9++) = 0;
      }

      while (v9 < *(a1 + 416));
    }

    *(v3 + 40) = 0;
    *(v3 + 64) = *(a1 + 348);
    a2 = v6;
    if (!*(a1 + 540))
    {
      *(v3 + 60) = 0;
    }
  }

  if (*(v3 + 60))
  {
    goto LABEL_16;
  }

  v4 = *(v3 + 40);
  if (v4)
  {
    v5 = v4 - 1;
    goto LABEL_15;
  }

  v10 = a2;
  v11 = *(a1 + 512);
  v12 = *(a1 + 520);
  v13 = *(a1 + 528);
  v40 = a1;
  v14 = *(a1 + 40);
  v16 = *v14;
  v15 = *(v14 + 8);
  v36 = v16;
  v37 = v15;
  v17 = *(v3 + 24);
  v18 = *(v3 + 32);
  v19 = *(a1 + 508);
  if (v19 > v11)
  {
LABEL_13:
    v5 = 0;
    goto LABEL_14;
  }

  v22 = *v10;
  v23 = *(v3 + 104);
  v38 = 0;
  v39 = 0;
  v35 = v22;
  while (1)
  {
    while (1)
    {
      if (v18 <= 7)
      {
        result = sub_1003ADD8C(&v36, v17, v18, 0);
        if (!result)
        {
          return result;
        }

        v17 = v38;
        v18 = v39;
        if (v39 <= 7)
        {
          v27 = v23;
          v28 = 1;
          goto LABEL_33;
        }
      }

      v29 = (v17 >> (v18 - 8));
      v30 = *(v23 + 288 + 4 * v29);
      if (v30)
      {
        break;
      }

      v27 = v23;
      v28 = 9;
LABEL_33:
      v31 = sub_1003ADF04(&v36, v17, v18, v27, v28);
      if ((v31 & 0x80000000) != 0)
      {
        return 0;
      }

      v17 = v38;
      v18 = v39;
      v32 = v31 >> 4;
      v33 = v31 & 0xF;
      if ((v31 & 0xF) == 0)
      {
        goto LABEL_29;
      }

LABEL_35:
      if (v18 < v33)
      {
        result = sub_1003ADD8C(&v36, v17, v18, v33);
        if (!result)
        {
          return result;
        }

        v17 = v38;
        v18 = v39;
      }

      v24 = v32 + v19;
      v18 -= v33;
      v25 = dword_1003EC7D4[v33];
      v26 = v25 & (v17 >> v18);
      if (v26 > dword_1003EC7D4[v33 - 1])
      {
        v25 = 0;
      }

      *(v35 + 2 * *(v13 + 4 * v24)) = (v26 - v25) << v12;
      v19 = v24 + 1;
      if (v24 >= v11)
      {
        goto LABEL_13;
      }
    }

    v18 -= v30;
    v31 = *(v23 + 1312 + v29);
    v32 = v31 >> 4;
    v33 = v31 & 0xF;
    if ((v31 & 0xF) != 0)
    {
      goto LABEL_35;
    }

LABEL_29:
    if (v32 != 15)
    {
      break;
    }

    v34 = v19 + 15;
    v19 += 16;
    if (v34 >= v11)
    {
      goto LABEL_13;
    }
  }

  if (v31 < 0x10)
  {
    goto LABEL_13;
  }

  if (v18 >= v32)
  {
    goto LABEL_43;
  }

  result = sub_1003ADD8C(&v36, v17, v18, v32);
  if (result)
  {
    v17 = v38;
    v18 = v39;
LABEL_43:
    v18 -= v32;
    v5 = (dword_1003EC7D4[v32] & (v17 >> v18)) + ~(-1 << v32);
LABEL_14:
    v20 = *(a1 + 40);
    v21 = v37;
    *v20 = v36;
    v20[1] = v21;
    *(v3 + 24) = v17;
    *(v3 + 32) = v18;
LABEL_15:
    *(v3 + 40) = v5;
LABEL_16:
    --*(v3 + 64);
    return 1;
  }

  return result;
}

uint64_t sub_1003ABAD4(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 592);
  if (*(a1 + 348) && !*(v4 + 64))
  {
    v13 = *(a1 + 584);
    *(v13 + 32) += *(v4 + 32) / 8;
    *(v4 + 32) = 0;
    result = (*(v13 + 16))(a1);
    if (!result)
    {
      return result;
    }

    if (*(a1 + 416) >= 1)
    {
      v14 = 0;
      do
      {
        *(v4 + 44 + 4 * v14++) = 0;
      }

      while (v14 < *(a1 + 416));
    }

    *(v4 + 40) = 0;
    *(v4 + 64) = *(a1 + 348);
    if (!*(a1 + 540))
    {
      *(v4 + 60) = 0;
    }
  }

  v19 = a1;
  v5 = *(a1 + 40);
  v6 = *v5;
  v7 = v5[1];
  v15 = *v5;
  v16 = v7;
  v8 = *(v4 + 24);
  v9 = *(v4 + 32);
  if (*(a1 + 464) < 1)
  {
    goto LABEL_13;
  }

  v10 = 0;
  v17 = 0;
  v18 = 0;
  v11 = 1 << *(a1 + 520);
  do
  {
    if (v9 <= 0)
    {
      result = sub_1003ADD8C(&v15, v8, v9, 1);
      if (!result)
      {
        return result;
      }

      v8 = v17;
      v9 = v18 - 1;
      if ((v17 >> (v18 - 1)))
      {
LABEL_11:
        **(a2 + 8 * v10) |= v11;
      }
    }

    else if ((v8 >> --v9))
    {
      goto LABEL_11;
    }

    ++v10;
  }

  while (v10 < *(a1 + 464));
  v5 = *(a1 + 40);
  v6 = v15;
  v7 = v16;
LABEL_13:
  *v5 = v6;
  v5[1] = v7;
  *(v4 + 24) = v8;
  *(v4 + 32) = v9;
  --*(v4 + 64);
  return 1;
}

uint64_t sub_1003ABC60(uint64_t *a1, uint64_t *a2)
{
  v4 = a1[74];
  if (*(a1 + 87) && !*(v4 + 64))
  {
    v24 = a1[73];
    *(v24 + 32) += *(v4 + 32) / 8;
    *(v4 + 32) = 0;
    result = (*(v24 + 16))(a1);
    if (!result)
    {
      return result;
    }

    if (*(a1 + 104) >= 1)
    {
      v26 = 0;
      do
      {
        *(v4 + 44 + 4 * v26++) = 0;
      }

      while (v26 < *(a1 + 104));
    }

    *(v4 + 40) = 0;
    *(v4 + 64) = *(a1 + 87);
    if (!*(a1 + 135))
    {
      *(v4 + 60) = 0;
    }
  }

  if (*(v4 + 60))
  {
    goto LABEL_29;
  }

  v66 = 0;
  v67 = 0;
  v5 = *(a1 + 128);
  v6 = *(a1 + 130);
  v7 = 1 << v6;
  v63 = -1 << v6;
  v8 = a1[66];
  v68[0] = a1;
  v9 = a1[5];
  v11 = *v9;
  v10 = *(v9 + 8);
  v64 = v11;
  v65 = v10;
  v12 = *(v4 + 24);
  v13 = *(v4 + 32);
  v14 = *(v4 + 40);
  v15 = *a2;
  v16 = *(a1 + 127);
  if (v14)
  {
    v62 = 0;
LABEL_6:
    if (v16 <= v5)
    {
      v17 = v5;
    }

    else
    {
      v17 = v16;
    }

    v18 = (v8 + 4 * v16);
    v19 = v17 - v16 + 1;
    while (1)
    {
      v21 = *v18++;
      v20 = v21;
      if (*(v15 + 2 * v21))
      {
        if (v13 <= 0)
        {
          if (!sub_1003ADD8C(&v64, v12, v13, 1))
          {
            goto LABEL_79;
          }

          v12 = v66;
          v13 = v67 - 1;
          if (((v66 >> (v67 - 1)) & 1) == 0)
          {
            goto LABEL_10;
          }

LABEL_17:
          v22 = *(v15 + 2 * v20);
          if ((v7 & v22) == 0)
          {
            v23 = v63;
            if (v22 >= 0)
            {
              v23 = v7;
            }

            *(v15 + 2 * v20) = v22 + v23;
          }

          goto LABEL_10;
        }

        if ((v12 >> --v13))
        {
          goto LABEL_17;
        }
      }

LABEL_10:
      if (!--v19)
      {
        v27 = v14 - 1;
        goto LABEL_28;
      }
    }
  }

  v62 = 0;
  v30 = *(v4 + 104);
  v57 = v30;
  v58 = v30 + 288;
  v56 = v30 + 1312;
  v60 = v5;
  v59 = v8;
  do
  {
    if (v13 > 7)
    {
      goto LABEL_38;
    }

    if (!sub_1003ADD8C(&v64, v12, v13, 0))
    {
      goto LABEL_79;
    }

    v12 = v66;
    v13 = v67;
    if (v67 > 7)
    {
LABEL_38:
      v34 = (v12 >> (v13 - 8));
      v35 = *(v58 + 4 * v34);
      if (v35)
      {
        v36 = v13 - v35;
        v37 = *(v56 + v34);
        v38 = v37 >> 4;
        v39 = v37 & 0xF;
        if ((v37 & 0xF) != 0)
        {
          goto LABEL_45;
        }

        goto LABEL_40;
      }

      v32 = v57;
      v33 = 9;
    }

    else
    {
      v32 = v57;
      v33 = 1;
    }

    v37 = sub_1003ADF04(&v64, v12, v13, v32, v33);
    if ((v37 & 0x80000000) != 0)
    {
      goto LABEL_79;
    }

    v12 = v66;
    v36 = v67;
    v38 = v37 >> 4;
    v39 = v37 & 0xF;
    if ((v37 & 0xF) != 0)
    {
LABEL_45:
      if (v39 != 1)
      {
        v41 = *a1;
        *(v41 + 40) = 121;
        v42 = v12;
        (*(v41 + 8))(a1, 0xFFFFFFFFLL);
        v12 = v42;
      }

      if (v36 <= 0)
      {
        if (!sub_1003ADD8C(&v64, v12, v36, 1))
        {
          goto LABEL_79;
        }

        v12 = v66;
        v36 = v67;
      }

      if ((v12 >> --v36))
      {
        v40 = v7;
      }

      else
      {
        v40 = v63;
      }

      goto LABEL_53;
    }

LABEL_40:
    if (v38 != 15)
    {
      v14 = 1 << v38;
      if (v37 < 0x10)
      {
        v13 = v36;
        goto LABEL_6;
      }

      if (v36 >= v38)
      {
LABEL_77:
        v13 = v36 - v38;
        v14 += dword_1003EC7D4[v38] & (v12 >> (v36 - v38));
        if (!v14)
        {
          break;
        }

        goto LABEL_6;
      }

      if (sub_1003ADD8C(&v64, v12, v36, v38))
      {
        v12 = v66;
        v36 = v67;
        goto LABEL_77;
      }

LABEL_79:
      if (v62)
      {
        if (v62 == 1)
        {
          v52 = 1;
        }

        else
        {
          v52 = v62 & 1;
          v53 = v68 + v62 + 1;
          v54 = v62 & 0xFFFFFFFFFFFFFFFELL;
          do
          {
            v55 = *(v53 - 1);
            *(v15 + 2 * *v53) = 0;
            *(v15 + 2 * v55) = 0;
            v53 -= 2;
            v54 -= 2;
          }

          while (v54);
          if ((v62 & 0xFFFFFFFFFFFFFFFELL) == v62)
          {
            return 0;
          }
        }

        do
        {
          *(v15 + 2 * *(v68 + v52-- + 1)) = 0;
        }

        while (v52);
      }

      return 0;
    }

    v40 = 0;
LABEL_53:
    if (v16 <= v5)
    {
      v43 = v5;
    }

    else
    {
      v43 = v16;
    }

    v61 = v43 + 1;
    v44 = v43 - v16 + 1;
    v45 = (v8 + 4 * v16);
    v13 = v36;
    do
    {
      v48 = *v45++;
      v47 = v48;
      if (*(v15 + 2 * v48))
      {
        if (v13 > 0)
        {
          if (((v12 >> --v13) & 1) == 0)
          {
            goto LABEL_58;
          }

LABEL_65:
          v49 = *(v15 + 2 * v47);
          if ((v7 & v49) == 0)
          {
            v50 = v63;
            if (v49 >= 0)
            {
              v50 = v7;
            }

            *(v15 + 2 * v47) = v49 + v50;
          }

          goto LABEL_58;
        }

        if (!sub_1003ADD8C(&v64, v12, v13, 1))
        {
          goto LABEL_79;
        }

        v12 = v66;
        v13 = v67 - 1;
        if ((v66 >> (v67 - 1)))
        {
          goto LABEL_65;
        }
      }

      else
      {
        v46 = __OFSUB__(v38--, 1);
        if (v38 < 0 != v46)
        {
          goto LABEL_70;
        }
      }

LABEL_58:
      ++v16;
      --v44;
    }

    while (v44);
    v16 = v61;
LABEL_70:
    v5 = v60;
    v8 = v59;
    if (v40)
    {
      v51 = *(v59 + 4 * v16);
      *(v15 + 2 * v51) = v40;
      *(&v68[1] + v62++) = v51;
    }
  }

  while (v16++ < v60);
  v27 = 0;
LABEL_28:
  v28 = a1[5];
  v29 = v65;
  *v28 = v64;
  v28[1] = v29;
  *(v4 + 24) = v12;
  *(v4 + 32) = v13;
  *(v4 + 40) = v27;
LABEL_29:
  --*(v4 + 64);
  return 1;
}

void sub_1003AC178(uint64_t a1, int a2, signed int a3, void *a4)
{
  if (a3 >= 4)
  {
    v53 = *a1;
    *(v53 + 10) = 52;
    *(v53 + 11) = a3;
    (**a1)(a1);
    v54 = a1 + 216;
    if (!a2)
    {
      v54 = a1 + 248;
    }

    v9 = *(v54 + 8 * a3);
    if (v9)
    {
LABEL_5:
      v10 = *a4;
      if (*a4)
      {
        goto LABEL_6;
      }

      goto LABEL_97;
    }
  }

  else
  {
    v8 = a1 + 216;
    if (!a2)
    {
      v8 = a1 + 248;
    }

    v9 = *(v8 + 8 * a3);
    if (v9)
    {
      goto LABEL_5;
    }
  }

  v55 = *a1;
  *(v55 + 10) = 52;
  *(v55 + 11) = a3;
  (**a1)(a1);
  v10 = *a4;
  if (*a4)
  {
LABEL_6:
    v10[35] = v9;
    v11 = v9[1];
    v152 = a2;
    if (!v9[1])
    {
      goto LABEL_8;
    }

    goto LABEL_7;
  }

LABEL_97:
  v10 = (**(a1 + 8))(a1, 1, 1568);
  *a4 = v10;
  v10[35] = v9;
  v11 = v9[1];
  v152 = a2;
  if (v9[1])
  {
LABEL_7:
    memset(__b, 1, v11);
  }

LABEL_8:
  v12 = v9[2];
  if ((v11 + v12) >= 0x101)
  {
    v13 = *a1;
    *(v13 + 10) = 9;
    (*v13)(a1);
  }

  if (v12)
  {
    memset(&__b[v11], 2, v12);
    v11 = (v11 + v12);
  }

  v14 = v9[3];
  if (v11 + v14 >= 257)
  {
    v15 = *a1;
    *(v15 + 10) = 9;
    (*v15)(a1);
  }

  if (v14)
  {
    memset(&__b[v11], 3, v14);
    v11 = (v11 + v14);
  }

  v16 = v9[4];
  if (v11 + v16 >= 257)
  {
    v17 = *a1;
    *(v17 + 10) = 9;
    (*v17)(a1);
  }

  if (v16)
  {
    memset(&__b[v11], 4, v16);
    v11 = (v11 + v16);
  }

  v18 = v9[5];
  if (v11 + v18 >= 257)
  {
    v19 = *a1;
    *(v19 + 10) = 9;
    (*v19)(a1);
  }

  if (v18)
  {
    memset(&__b[v11], 5, v18);
    v11 = (v11 + v18);
  }

  v20 = v9[6];
  if (v11 + v20 >= 257)
  {
    v21 = *a1;
    *(v21 + 10) = 9;
    (*v21)(a1);
  }

  if (v20)
  {
    memset(&__b[v11], 6, v20);
    v11 = (v11 + v20);
  }

  v22 = v9[7];
  if (v11 + v22 >= 257)
  {
    v23 = *a1;
    *(v23 + 10) = 9;
    (*v23)(a1);
  }

  if (v22)
  {
    memset(&__b[v11], 7, v22);
    v11 = (v11 + v22);
  }

  v24 = v9[8];
  if (v11 + v24 >= 257)
  {
    v25 = *a1;
    *(v25 + 10) = 9;
    (*v25)(a1);
  }

  if (v24)
  {
    memset(&__b[v11], 8, v24);
    v11 = (v11 + v24);
  }

  v26 = v9[9];
  if (v11 + v26 >= 257)
  {
    v27 = *a1;
    *(v27 + 10) = 9;
    (*v27)(a1);
  }

  if (v26)
  {
    memset(&__b[v11], 9, v26);
    v11 = (v11 + v26);
  }

  v28 = v9[10];
  if (v11 + v28 >= 257)
  {
    v29 = *a1;
    *(v29 + 10) = 9;
    (*v29)(a1);
  }

  if (v28)
  {
    memset(&__b[v11], 10, v28);
    v11 = (v11 + v28);
  }

  v30 = v9[11];
  if (v11 + v30 >= 257)
  {
    v31 = *a1;
    *(v31 + 10) = 9;
    (*v31)(a1);
  }

  if (v30)
  {
    memset(&__b[v11], 11, v30);
    v11 = (v11 + v30);
  }

  v32 = v9[12];
  if (v11 + v32 >= 257)
  {
    v33 = *a1;
    *(v33 + 10) = 9;
    (*v33)(a1);
  }

  if (v32)
  {
    memset(&__b[v11], 12, v32);
    v11 = (v11 + v32);
  }

  v34 = v9[13];
  if (v11 + v34 >= 257)
  {
    v35 = *a1;
    *(v35 + 10) = 9;
    (*v35)(a1);
  }

  if (v34)
  {
    memset(&__b[v11], 13, v34);
    v11 = (v11 + v34);
  }

  v36 = v9[14];
  if (v11 + v36 >= 257)
  {
    v37 = *a1;
    *(v37 + 10) = 9;
    (*v37)(a1);
  }

  if (v36)
  {
    memset(&__b[v11], 14, v36);
    v11 = (v11 + v36);
  }

  v38 = v9[15];
  if (v11 + v38 >= 257)
  {
    v39 = *a1;
    *(v39 + 10) = 9;
    (*v39)(a1);
  }

  if (v38)
  {
    memset(&__b[v11], 15, v38);
    v11 = (v11 + v38);
  }

  v40 = v9[16];
  if (v11 + v40 >= 257)
  {
    v41 = *a1;
    *(v41 + 10) = 9;
    (*v41)(a1);
  }

  if (v40)
  {
    memset(&__b[v11], 16, v40);
    v11 = (v11 + v40);
  }

  v153 = v11;
  __b[v11] = 0;
  v42 = __b[0];
  if (__b[0])
  {
    v43 = 0;
    v44 = 0;
    v45 = __b[0];
    do
    {
      if (v42 == v45)
      {
        v46 = &v154[v44];
        v47 = &__b[v44 + 1];
        do
        {
          *v46++ = v43++;
          v48 = *v47++;
          ++v44;
        }

        while (v42 == v48);
      }

      if (1 << v42 <= v43)
      {
        v49 = *a1;
        *(v49 + 10) = 9;
        (*v49)(a1);
      }

      v43 *= 2;
      ++v42;
      v45 = __b[v44];
    }

    while (v45);
  }

  LODWORD(v50) = v9[1];
  if (v9[1])
  {
    v51 = v10;
    v10[19] = -v154[0];
    LODWORD(v50) = v9[1];
    v10[1] = v154[v9[1] - 1];
    if (v9[2])
    {
      goto LABEL_78;
    }
  }

  else
  {
    v51 = v10;
    v10[1] = -1;
    if (v9[2])
    {
LABEL_78:
      v51[20] = v50 - v154[v50];
      v50 = v50 + v9[2];
      v51[2] = v154[v50 - 1];
      if (v9[3])
      {
        goto LABEL_79;
      }

      goto LABEL_101;
    }
  }

  v51[2] = -1;
  if (v9[3])
  {
LABEL_79:
    v51[21] = v50 - v154[v50];
    v50 = v50 + v9[3];
    v51[3] = v154[v50 - 1];
    if (v9[4])
    {
      goto LABEL_80;
    }

    goto LABEL_102;
  }

LABEL_101:
  v51[3] = -1;
  if (v9[4])
  {
LABEL_80:
    v51[22] = v50 - v154[v50];
    v50 = v50 + v9[4];
    v51[4] = v154[v50 - 1];
    if (v9[5])
    {
      goto LABEL_81;
    }

    goto LABEL_103;
  }

LABEL_102:
  v51[4] = -1;
  if (v9[5])
  {
LABEL_81:
    v51[23] = v50 - v154[v50];
    v50 = v50 + v9[5];
    v51[5] = v154[v50 - 1];
    if (v9[6])
    {
      goto LABEL_82;
    }

    goto LABEL_104;
  }

LABEL_103:
  v51[5] = -1;
  if (v9[6])
  {
LABEL_82:
    v51[24] = v50 - v154[v50];
    v50 = v50 + v9[6];
    v51[6] = v154[v50 - 1];
    if (v9[7])
    {
      goto LABEL_83;
    }

    goto LABEL_105;
  }

LABEL_104:
  v51[6] = -1;
  if (v9[7])
  {
LABEL_83:
    v51[25] = v50 - v154[v50];
    v50 = v50 + v9[7];
    v51[7] = v154[v50 - 1];
    if (v9[8])
    {
      goto LABEL_84;
    }

    goto LABEL_106;
  }

LABEL_105:
  v51[7] = -1;
  if (v9[8])
  {
LABEL_84:
    v51[26] = v50 - v154[v50];
    v50 = v50 + v9[8];
    v51[8] = v154[v50 - 1];
    if (v9[9])
    {
      goto LABEL_85;
    }

    goto LABEL_107;
  }

LABEL_106:
  v51[8] = -1;
  if (v9[9])
  {
LABEL_85:
    v51[27] = v50 - v154[v50];
    v50 = v50 + v9[9];
    v51[9] = v154[v50 - 1];
    if (v9[10])
    {
      goto LABEL_86;
    }

    goto LABEL_108;
  }

LABEL_107:
  v51[9] = -1;
  if (v9[10])
  {
LABEL_86:
    v51[28] = v50 - v154[v50];
    v50 = v50 + v9[10];
    v51[10] = v154[v50 - 1];
    if (v9[11])
    {
      goto LABEL_87;
    }

    goto LABEL_109;
  }

LABEL_108:
  v51[10] = -1;
  if (v9[11])
  {
LABEL_87:
    v51[29] = v50 - v154[v50];
    v50 = v50 + v9[11];
    v51[11] = v154[v50 - 1];
    if (v9[12])
    {
      goto LABEL_88;
    }

    goto LABEL_110;
  }

LABEL_109:
  v51[11] = -1;
  if (v9[12])
  {
LABEL_88:
    v51[30] = v50 - v154[v50];
    v50 = v50 + v9[12];
    v51[12] = v154[v50 - 1];
    if (v9[13])
    {
      goto LABEL_89;
    }

    goto LABEL_111;
  }

LABEL_110:
  v51[12] = -1;
  if (v9[13])
  {
LABEL_89:
    v51[31] = v50 - v154[v50];
    v50 = v50 + v9[13];
    v51[13] = v154[v50 - 1];
    if (v9[14])
    {
      goto LABEL_90;
    }

    goto LABEL_112;
  }

LABEL_111:
  v51[13] = -1;
  if (v9[14])
  {
LABEL_90:
    v51[32] = v50 - v154[v50];
    v50 = v50 + v9[14];
    v51[14] = v154[v50 - 1];
    if (v9[15])
    {
      goto LABEL_91;
    }

LABEL_113:
    v51[15] = -1;
    if (v9[16])
    {
      goto LABEL_92;
    }

    goto LABEL_114;
  }

LABEL_112:
  v51[14] = -1;
  if (!v9[15])
  {
    goto LABEL_113;
  }

LABEL_91:
  v51[33] = v50 - v154[v50];
  v50 = v50 + v9[15];
  v51[15] = v154[v50 - 1];
  if (v9[16])
  {
LABEL_92:
    v51[34] = v50 - v154[v50];
    v52 = v154[v50 - 1 + v9[16]];
    goto LABEL_115;
  }

LABEL_114:
  v52 = -1;
LABEL_115:
  v51[16] = v52;
  v51[17] = 0xFFFFFLL;
  v56 = v51 + 36;
  bzero(v51 + 36, 0x400uLL);
  v57 = v9 + 17;
  v58 = v51 + 164;
  LODWORD(v59) = v9[1];
  if (v9[1])
  {
    v59 = 0;
    *&v60 = 0x100000001;
    *(&v60 + 1) = 0x100000001;
    v61 = 1;
    do
    {
      v73 = (v154[v59] << 7);
      v74 = &v9[v59 + 18];
      v75 = &v9[v59 + 17];
      v76 = v56 + 4 * v73;
      v77 = v51 + 4 * v73 + 800;
      v78 = v58 + v73;
      v79 = v51 + v73 + 1440;
      v80 = v76 >= v74 || v75 >= v77;
      v81 = !v80;
      v83 = v78 < v74 && v75 < v79;
      v84 = v78 >= v77 || v76 >= v79;
      if (!v84 || (v81 & 1) != 0 || v83)
      {
        v85 = v56 + v73;
        for (i = 129; i > 1; --i)
        {
          *v85++ = 1;
          *v78++ = v57[v59];
        }
      }

      else
      {
        v62 = &v57[v59];
        v63 = vld1q_dup_s8(v62);
        v64 = (v56 + 4 * v73);
        v64[2] = v60;
        v64[3] = v60;
        *v64 = v60;
        v64[1] = v60;
        v64[6] = v60;
        v64[7] = v60;
        v64[4] = v60;
        v64[5] = v60;
        v65 = (v58 + v73);
        *v65 = v63;
        v65[1] = v63;
        v66 = (v56 + 4 * (v73 | 0x20));
        v66[2] = v60;
        v66[3] = v60;
        *v66 = v60;
        v66[1] = v60;
        v66[6] = v60;
        v66[7] = v60;
        v66[4] = v60;
        v66[5] = v60;
        v67 = (v58 + (v73 | 0x20));
        *v67 = v63;
        v67[1] = v63;
        v68 = (v56 + 4 * (v73 | 0x40));
        v68[2] = v60;
        v68[3] = v60;
        *v68 = v60;
        v68[1] = v60;
        v68[6] = v60;
        v68[7] = v60;
        v68[4] = v60;
        v68[5] = v60;
        v69 = (v58 + (v73 | 0x40));
        *v69 = v63;
        v69[1] = v63;
        v70 = v73 | 0x60;
        v71 = (v56 + 4 * v70);
        v71[2] = v60;
        v71[3] = v60;
        *v71 = v60;
        v71[1] = v60;
        v71[6] = v60;
        v71[7] = v60;
        v71[4] = v60;
        v71[5] = v60;
        v72 = (v58 + v70);
        *v72 = v63;
        v72[1] = v63;
      }

      ++v59;
      v80 = v61++ >= v9[1];
    }

    while (!v80);
  }

  if (v9[2])
  {
    v87 = 0;
    v59 = v59;
    v88 = v51 + 68;
    v89 = v51 + 172;
    v90 = &v9[v59];
    v91 = v90 + 18;
    v92 = v90 + 17;
    v93 = v51 + 164;
    v94 = v51 + 36;
    v95 = 1;
    *&v96 = 0x200000002;
    *(&v96 + 1) = 0x200000002;
    do
    {
      v104 = (v154[v59] << 6);
      v105 = &v92[v87];
      v106 = v88 + 4 * v104;
      v107 = v58 + v104;
      v108 = v89 + v104;
      v110 = (v56 + 4 * v104) < &v91[v87] && v105 < v106;
      v112 = v107 < &v91[v87] && v105 < v108;
      v113 = v107 >= v106 || v56 + 4 * v104 >= v108;
      if (!v113 || v110 || v112)
      {
        v114 = v93 + v104;
        v115 = v94 + v104;
        for (j = 65; j > 1; --j)
        {
          *v115++ = 2;
          *v114++ = v57[v59];
        }
      }

      else
      {
        v97 = &v57[v59];
        v98 = vld1q_dup_s8(v97);
        v99 = (v56 + 4 * v104);
        v99[2] = v96;
        v99[3] = v96;
        *v99 = v96;
        v99[1] = v96;
        v99[6] = v96;
        v99[7] = v96;
        v99[4] = v96;
        v99[5] = v96;
        v100 = (v58 + v104);
        *v100 = v98;
        v100[1] = v98;
        v101 = v104 | 0x20;
        v102 = (v56 + 4 * v101);
        v102[2] = v96;
        v102[3] = v96;
        *v102 = v96;
        v102[1] = v96;
        v102[6] = v96;
        v102[7] = v96;
        v102[4] = v96;
        v102[5] = v96;
        v103 = (v58 + v101);
        *v103 = v98;
        v103[1] = v98;
      }

      ++v59;
      ++v87;
      v80 = v95++ >= v9[2];
    }

    while (!v80);
  }

  if (v9[3])
  {
    v117 = 0;
    v59 = v59;
    do
    {
      v118 = 32 * v154[v59];
      LODWORD(v56[v118 / 2]) = 3;
      LOBYTE(v58[v118 / 8]) = v57[v59];
      *(v56 + (v118 | 1)) = 3;
      *(v58 + (v118 | 1)) = v57[v59];
      *(v56 + (v118 | 2)) = 3;
      *(v58 + (v118 | 2)) = v57[v59];
      *(v56 + (v118 | 3)) = 3;
      *(v58 + (v118 | 3)) = v57[v59];
      *(v56 + (v118 | 4)) = 3;
      *(v58 + (v118 | 4)) = v57[v59];
      *(v56 + (v118 | 5)) = 3;
      *(v58 + (v118 | 5)) = v57[v59];
      *(v56 + (v118 | 6)) = 3;
      *(v58 + (v118 | 6)) = v57[v59];
      *(v56 + (v118 | 7)) = 3;
      *(v58 + (v118 | 7)) = v57[v59];
      *(v56 + (v118 | 8)) = 3;
      *(v58 + (v118 | 8)) = v57[v59];
      *(v56 + (v118 | 9)) = 3;
      *(v58 + (v118 | 9)) = v57[v59];
      *(v56 + (v118 | 0xA)) = 3;
      *(v58 + (v118 | 0xA)) = v57[v59];
      *(v56 + (v118 | 0xB)) = 3;
      *(v58 + (v118 | 0xB)) = v57[v59];
      *(v56 + (v118 | 0xC)) = 3;
      *(v58 + (v118 | 0xC)) = v57[v59];
      *(v56 + (v118 | 0xD)) = 3;
      *(v58 + (v118 | 0xD)) = v57[v59];
      *(v56 + (v118 | 0xE)) = 3;
      *(v58 + (v118 | 0xE)) = v57[v59];
      *(v56 + (v118 | 0xF)) = 3;
      *(v58 + (v118 | 0xF)) = v57[v59];
      *(v56 + (v118 | 0x10)) = 3;
      *(v58 + (v118 | 0x10)) = v57[v59];
      *(v56 + (v118 | 0x11)) = 3;
      *(v58 + (v118 | 0x11)) = v57[v59];
      *(v56 + (v118 | 0x12)) = 3;
      *(v58 + (v118 | 0x12)) = v57[v59];
      *(v56 + (v118 | 0x13)) = 3;
      *(v58 + (v118 | 0x13)) = v57[v59];
      *(v56 + (v118 | 0x14)) = 3;
      *(v58 + (v118 | 0x14)) = v57[v59];
      *(v56 + (v118 | 0x15)) = 3;
      *(v58 + (v118 | 0x15)) = v57[v59];
      *(v56 + (v118 | 0x16)) = 3;
      *(v58 + (v118 | 0x16)) = v57[v59];
      *(v56 + (v118 | 0x17)) = 3;
      *(v58 + (v118 | 0x17)) = v57[v59];
      *(v56 + (v118 | 0x18)) = 3;
      *(v58 + (v118 | 0x18)) = v57[v59];
      *(v56 + (v118 | 0x19)) = 3;
      *(v58 + (v118 | 0x19)) = v57[v59];
      *(v56 + (v118 | 0x1A)) = 3;
      *(v58 + (v118 | 0x1A)) = v57[v59];
      *(v56 + (v118 | 0x1B)) = 3;
      *(v58 + (v118 | 0x1B)) = v57[v59];
      *(v56 + (v118 | 0x1C)) = 3;
      *(v58 + (v118 | 0x1C)) = v57[v59];
      *(v56 + (v118 | 0x1D)) = 3;
      *(v58 + (v118 | 0x1D)) = v57[v59];
      *(v56 + (v118 | 0x1E)) = 3;
      *(v58 + (v118 | 0x1E)) = v57[v59];
      *(v56 + (v118 | 0x1F)) = 3;
      *(v58 + (v118 | 0x1F)) = v57[v59++];
      ++v117;
    }

    while (v117 < v9[3]);
  }

  if (v9[4])
  {
    v119 = 0;
    v59 = v59;
    do
    {
      v120 = 16 * v154[v59];
      LODWORD(v56[v120 / 2u]) = 4;
      LOBYTE(v58[v120 / 8u]) = v57[v59];
      v121 = v120 | 1;
      *(v56 + v121) = 4;
      *(v58 + v121) = v57[v59];
      v122 = v120 | 2;
      *(v56 + v122) = 4;
      *(v58 + v122) = v57[v59];
      v123 = v120 | 3;
      *(v56 + v123) = 4;
      *(v58 + v123) = v57[v59];
      v124 = v120 | 4;
      *(v56 + v124) = 4;
      *(v58 + v124) = v57[v59];
      v125 = v120 | 5;
      *(v56 + v125) = 4;
      *(v58 + v125) = v57[v59];
      v126 = v120 | 6;
      *(v56 + v126) = 4;
      *(v58 + v126) = v57[v59];
      v127 = v120 | 7;
      *(v56 + v127) = 4;
      *(v58 + v127) = v57[v59];
      v128 = v120 | 8;
      *(v56 + v128) = 4;
      *(v58 + v128) = v57[v59];
      v129 = v120 | 9;
      *(v56 + v129) = 4;
      *(v58 + v129) = v57[v59];
      v130 = v120 | 0xALL;
      *(v56 + v130) = 4;
      *(v58 + v130) = v57[v59];
      v131 = v120 | 0xBLL;
      *(v56 + v131) = 4;
      *(v58 + v131) = v57[v59];
      v132 = v120 | 0xCLL;
      *(v56 + v132) = 4;
      *(v58 + v132) = v57[v59];
      v133 = v120 | 0xDLL;
      *(v56 + v133) = 4;
      *(v58 + v133) = v57[v59];
      v134 = v120 | 0xELL;
      *(v56 + v134) = 4;
      *(v58 + v134) = v57[v59];
      v135 = v120 | 0xFLL;
      *(v56 + v135) = 4;
      *(v58 + v135) = v57[v59++];
      ++v119;
    }

    while (v119 < v9[4]);
  }

  if (v9[5])
  {
    v136 = 0;
    v59 = v59;
    do
    {
      v137 = 8 * v154[v59];
      LODWORD(v56[v137 / 2]) = 5;
      LOBYTE(v58[v137 / 8]) = v57[v59];
      *(v56 + (v137 | 1)) = 5;
      *(v58 + (v137 | 1)) = v57[v59];
      *(v56 + (v137 | 2)) = 5;
      *(v58 + (v137 | 2)) = v57[v59];
      *(v56 + (v137 | 3)) = 5;
      *(v58 + (v137 | 3)) = v57[v59];
      *(v56 + (v137 | 4)) = 5;
      *(v58 + (v137 | 4)) = v57[v59];
      *(v56 + (v137 | 5)) = 5;
      *(v58 + (v137 | 5)) = v57[v59];
      *(v56 + (v137 | 6)) = 5;
      *(v58 + (v137 | 6)) = v57[v59];
      *(v56 + (v137 | 7)) = 5;
      *(v58 + (v137 | 7)) = v57[v59++];
      ++v136;
    }

    while (v136 < v9[5]);
  }

  if (v9[6])
  {
    v138 = 0;
    v59 = v59;
    do
    {
      v139 = 4 * v154[v59];
      LODWORD(v56[v139 / 2u]) = 6;
      *(v58 + v139) = v57[v59];
      v140 = v139 | 1;
      *(v56 + v140) = 6;
      *(v58 + v140) = v57[v59];
      v141 = v139 | 2;
      *(v56 + v141) = 6;
      *(v58 + v141) = v57[v59];
      v142 = v139 | 3;
      *(v56 + v142) = 6;
      *(v58 + v142) = v57[v59++];
      ++v138;
    }

    while (v138 < v9[6]);
  }

  if (v9[7])
  {
    v143 = 0;
    v59 = v59;
    do
    {
      v144 = 2 * v154[v59];
      LODWORD(v56[v144 / 2]) = 7;
      *(v58 + v144) = v57[v59];
      *(v56 + (v144 | 1)) = 7;
      *(v58 + (v144 | 1)) = v57[v59++];
      ++v143;
    }

    while (v143 < v9[7]);
  }

  if (v9[8])
  {
    v145 = 0;
    v146 = &v9[v59 + 17];
    v147 = &v154[v59];
    do
    {
      v148 = v147[v145];
      *(v56 + v148) = 8;
      *(v58 + v148) = *(v146 + v145++);
    }

    while (v145 < v9[8]);
  }

  if (v152 && v153 >= 1)
  {
    v149 = v153;
    do
    {
      v150 = *v57++;
      if (v150 >= 0x10)
      {
        v151 = *a1;
        *(v151 + 10) = 9;
        (*v151)(a1);
      }

      --v149;
    }

    while (v149);
  }
}

uint64_t sub_1003AD394(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 592);
  if (!*(a1 + 348) || *(v4 + 64))
  {
LABEL_3:
    if (*(v4 + 60))
    {
LABEL_4:
      --*(v4 + 64);
      return 1;
    }

    v54 = *(a1 + 528);
    v6 = *(a1 + 536);
    v61 = a1;
    v7 = *(a1 + 40);
    v8 = *v7;
    v9 = v7[1];
    v57 = *v7;
    v58 = v9;
    v10 = *(v4 + 24);
    v11 = *(v4 + 32);
    v55 = *(v4 + 40);
    v56 = *(v4 + 56);
    if (*(a1 + 464) < 1)
    {
LABEL_79:
      *v7 = v8;
      v7[1] = v9;
      *(v4 + 24) = v10;
      *(v4 + 32) = v11;
      *(v4 + 40) = v55;
      *(v4 + 56) = v56;
      goto LABEL_4;
    }

    v12 = 0;
    v59 = 0;
    v60 = 0;
    v13 = v4 + 176;
    v52 = v4 + 336;
    v53 = v4 + 256;
    v50 = a2;
    v51 = v6;
    while (1)
    {
      v14 = *(a2 + 8 * v12);
      v15 = *(v13 + 8 * v12);
      if (v11 > 7)
      {
        goto LABEL_13;
      }

      result = sub_1003ADD8C(&v57, v10, v11, 0);
      if (!result)
      {
        return result;
      }

      v10 = v59;
      v11 = v60;
      if (v60 > 7)
      {
LABEL_13:
        v18 = v10 >> (v11 - 8);
        v19 = *(v15 + 4 * v18 + 288);
        if (v19)
        {
          v11 -= v19;
          v20 = *(v15 + v18 + 1312);
          v21 = *(v53 + 8 * v12);
          v22 = *(v52 + 4 * v12);
          if (v22)
          {
            goto LABEL_23;
          }

          goto LABEL_15;
        }

        v16 = v15;
        v17 = 9;
      }

      else
      {
        v16 = v15;
        v17 = 1;
      }

      v20 = sub_1003ADF04(&v57, v10, v11, v16, v17);
      if (v20 < 0)
      {
        return 0;
      }

      v10 = v59;
      v11 = v60;
      v21 = *(v53 + 8 * v12);
      v22 = *(v52 + 4 * v12);
      if (v22)
      {
LABEL_23:
        if (v20)
        {
          if (v11 < v20)
          {
            result = sub_1003ADD8C(&v57, v10, v11, v20);
            if (!result)
            {
              return result;
            }

            v10 = v59;
            v11 = v60;
          }

          v11 -= v20;
          v23 = dword_1003EC7D4[v20];
          v24 = v23 & (v10 >> v11);
          if (v24 > dword_1003EC7D4[v20 - 1])
          {
            v23 = 0;
          }

          v25 = v24 - v23;
        }

        else
        {
          v25 = 0;
        }

        v26 = *(a1 + 468 + 4 * v12);
        v27 = *(&v55 + v26 + 1) + v25;
        *v14 = v27;
        *(&v55 + v26 + 1) = v27;
        if (v22 >= 2)
        {
          v28 = 1;
          while (1)
          {
            if (v11 <= 7)
            {
              result = sub_1003ADD8C(&v57, v10, v11, 0);
              if (!result)
              {
                return result;
              }

              v10 = v59;
              v11 = v60;
              if (v60 <= 7)
              {
                break;
              }
            }

            v34 = (v10 >> (v11 - 8));
            v35 = *(v21 + 288 + 4 * v34);
            if (v35)
            {
              v11 -= v35;
              v36 = *(v21 + 1312 + v34);
              v37 = v36 >> 4;
              v38 = v36 & 0xF;
              if ((v36 & 0xF) == 0)
              {
                goto LABEL_42;
              }

LABEL_48:
              if (v11 < v38)
              {
                result = sub_1003ADD8C(&v57, v10, v11, v38);
                if (!result)
                {
                  return result;
                }

                v10 = v59;
                v11 = v60;
              }

              v29 = v37 + v28;
              v11 -= v38;
              v30 = dword_1003EC7D4[v38];
              v31 = v30 & (v10 >> v11);
              if (v31 > dword_1003EC7D4[v38 - 1])
              {
                LOWORD(v30) = 0;
              }

              v14[*(v54 + 4 * v29)] = v31 - v30;
              v28 = v29 + 1;
              if ((v29 + 1) >= v22)
              {
                goto LABEL_52;
              }
            }

            else
            {
              v32 = v21;
              v33 = 9;
LABEL_46:
              v39 = sub_1003ADF04(&v57, v10, v11, v32, v33);
              if ((v39 & 0x80000000) != 0)
              {
                return 0;
              }

              v10 = v59;
              v11 = v60;
              v37 = v39 >> 4;
              v38 = v39 & 0xF;
              if ((v39 & 0xF) != 0)
              {
                goto LABEL_48;
              }

LABEL_42:
              if (v37 != 15)
              {
                goto LABEL_8;
              }

              v28 += 16;
              if (v28 >= v22)
              {
                goto LABEL_52;
              }
            }
          }

          v32 = v21;
          v33 = 1;
          goto LABEL_46;
        }

        goto LABEL_51;
      }

LABEL_15:
      if (v20)
      {
        if (v11 < v20)
        {
          result = sub_1003ADD8C(&v57, v10, v11, v20);
          if (!result)
          {
            return result;
          }

          v10 = v59;
          v11 = v60;
        }

        v11 -= v20;
      }

LABEL_51:
      v28 = 1;
LABEL_52:
      while (v28 <= v51)
      {
        if (v11 > 7)
        {
          goto LABEL_61;
        }

        result = sub_1003ADD8C(&v57, v10, v11, 0);
        if (!result)
        {
          return result;
        }

        v10 = v59;
        v11 = v60;
        if (v60 > 7)
        {
LABEL_61:
          v42 = (v10 >> (v11 - 8));
          v43 = *(v21 + 288 + 4 * v42);
          if (v43)
          {
            v11 -= v43;
            v44 = *(v21 + 1312 + v42);
            v45 = v44 >> 4;
            v46 = v44 & 0xF;
            if ((v44 & 0xF) == 0)
            {
              goto LABEL_63;
            }

            goto LABEL_68;
          }

          v40 = v21;
          v41 = 9;
        }

        else
        {
          v40 = v21;
          v41 = 1;
        }

        v47 = sub_1003ADF04(&v57, v10, v11, v40, v41);
        if ((v47 & 0x80000000) != 0)
        {
          return 0;
        }

        v10 = v59;
        v11 = v60;
        v45 = v47 >> 4;
        v46 = v47 & 0xF;
        if ((v47 & 0xF) == 0)
        {
LABEL_63:
          if (v45 != 15)
          {
            break;
          }

          goto LABEL_56;
        }

LABEL_68:
        if (v11 < v46)
        {
          result = sub_1003ADD8C(&v57, v10, v11, v46);
          if (!result)
          {
            return result;
          }

          v10 = v59;
          v11 = v60;
        }

        v11 -= v46;
LABEL_56:
        v28 += v45 + 1;
      }

LABEL_8:
      ++v12;
      v13 = v4 + 176;
      a2 = v50;
      if (v12 >= *(a1 + 464))
      {
        v7 = *(a1 + 40);
        v8 = v57;
        v9 = v58;
        goto LABEL_79;
      }
    }
  }

  v48 = *(a1 + 584);
  *(v48 + 32) += *(v4 + 32) / 8;
  *(v4 + 32) = 0;
  result = (*(v48 + 16))(a1);
  if (result)
  {
    if (*(a1 + 416) >= 1)
    {
      v49 = 0;
      do
      {
        *(v4 + 44 + 4 * v49++) = 0;
      }

      while (v49 < *(a1 + 416));
    }

    *(v4 + 40) = 0;
    *(v4 + 64) = *(a1 + 348);
    if (!*(a1 + 540))
    {
      *(v4 + 60) = 0;
    }

    goto LABEL_3;
  }

  return result;
}

uint64_t sub_1003AD898(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 592);
  if (*(a1 + 348) && !*(v4 + 64))
  {
    v47 = *(a1 + 584);
    *(v47 + 32) += *(v4 + 32) / 8;
    *(v4 + 32) = 0;
    result = (*(v47 + 16))(a1);
    if (!result)
    {
      return result;
    }

    if (*(a1 + 416) >= 1)
    {
      v48 = 0;
      do
      {
        *(v4 + 44 + 4 * v48++) = 0;
      }

      while (v48 < *(a1 + 416));
    }

    *(v4 + 40) = 0;
    *(v4 + 64) = *(a1 + 348);
    if (!*(a1 + 540))
    {
      *(v4 + 60) = 0;
    }
  }

  if (*(v4 + 60))
  {
    goto LABEL_4;
  }

  v56 = a1;
  v6 = *(a1 + 40);
  v7 = *v6;
  v8 = v6[1];
  v52 = *v6;
  v53 = v8;
  v9 = *(v4 + 24);
  v10 = *(v4 + 32);
  v50 = *(v4 + 40);
  v51 = *(v4 + 56);
  if (*(a1 + 464) < 1)
  {
    goto LABEL_71;
  }

  v11 = 0;
  v54 = 0;
  v55 = 0;
  v12 = v4 + 176;
  v13 = v4 + 256;
  v14 = v4 + 336;
  v49 = a2;
  do
  {
    v15 = *(a2 + 8 * v11);
    v16 = *(v12 + 8 * v11);
    if (v10 <= 7)
    {
      result = sub_1003ADD8C(&v52, v9, v10, 0);
      if (!result)
      {
        return result;
      }

      v9 = v54;
      v10 = v55;
      if (v55 <= 7)
      {
        v17 = v16;
        v18 = 1;
        goto LABEL_20;
      }
    }

    v19 = v9 >> (v10 - 8);
    v20 = *(v16 + 4 * v19 + 288);
    if (!v20)
    {
      v17 = v16;
      v18 = 9;
LABEL_20:
      v21 = sub_1003ADF04(&v52, v9, v10, v17, v18);
      if (v21 < 0)
      {
        return 0;
      }

      v9 = v54;
      v10 = v55;
      v22 = *(v13 + 8 * v11);
      v23 = *(v14 + 4 * v11);
      if (!v23)
      {
LABEL_14:
        if (v21)
        {
          if (v10 < v21)
          {
            result = sub_1003ADD8C(&v52, v9, v10, v21);
            if (!result)
            {
              return result;
            }

            v9 = v54;
            v10 = v55;
          }

          v10 -= v21;
        }

LABEL_50:
        v29 = 1;
        goto LABEL_54;
      }

      goto LABEL_22;
    }

    v10 -= v20;
    v21 = *(v16 + v19 + 1312);
    v22 = *(v13 + 8 * v11);
    v23 = *(v14 + 4 * v11);
    if (!v23)
    {
      goto LABEL_14;
    }

LABEL_22:
    if (v21)
    {
      if (v10 < v21)
      {
        result = sub_1003ADD8C(&v52, v9, v10, v21);
        if (!result)
        {
          return result;
        }

        v9 = v54;
        v10 = v55;
      }

      v10 -= v21;
      v24 = dword_1003EC7D4[v21];
      v25 = v24 & (v9 >> v10);
      if (v25 > dword_1003EC7D4[v21 - 1])
      {
        v24 = 0;
      }

      v26 = v25 - v24;
    }

    else
    {
      v26 = 0;
    }

    v27 = *(a1 + 468 + 4 * v11);
    v28 = *(&v50 + v27 + 1) + v26;
    *v15 = v28;
    *(&v50 + v27 + 1) = v28;
    if (v23 < 2)
    {
      goto LABEL_50;
    }

    v29 = 1;
    do
    {
      while (1)
      {
        if (v10 <= 7)
        {
          result = sub_1003ADD8C(&v52, v9, v10, 0);
          if (!result)
          {
            return result;
          }

          v9 = v54;
          v10 = v55;
          if (v55 <= 7)
          {
            v33 = v22;
            v34 = 1;
            goto LABEL_45;
          }
        }

        v35 = (v9 >> (v10 - 8));
        v36 = *(v22 + 288 + 4 * v35);
        if (!v36)
        {
          break;
        }

        v10 -= v36;
        v37 = *(v22 + 1312 + v35);
        v38 = v37 >> 4;
        v39 = v37 & 0xF;
        if ((v37 & 0xF) != 0)
        {
          goto LABEL_47;
        }

LABEL_41:
        if (v38 != 15)
        {
          goto LABEL_69;
        }

        v30 = v29 + 15;
        v29 += 16;
        if (v29 >= v23)
        {
          goto LABEL_68;
        }
      }

      v33 = v22;
      v34 = 9;
LABEL_45:
      v40 = sub_1003ADF04(&v52, v9, v10, v33, v34);
      if ((v40 & 0x80000000) != 0)
      {
        return 0;
      }

      v9 = v54;
      v10 = v55;
      v38 = v40 >> 4;
      v39 = v40 & 0xF;
      if ((v40 & 0xF) == 0)
      {
        goto LABEL_41;
      }

LABEL_47:
      if (v10 < v39)
      {
        result = sub_1003ADD8C(&v52, v9, v10, v39);
        if (!result)
        {
          return result;
        }

        v9 = v54;
        v10 = v55;
      }

      v30 = v38 + v29;
      v10 -= v39;
      v31 = dword_1003EC7D4[v39];
      v32 = v31 & (v9 >> v10);
      if (v32 > dword_1003EC7D4[v39 - 1])
      {
        LOWORD(v31) = 0;
      }

      v15[dword_1003ECC10[v30]] = v32 - v31;
      v29 = v30 + 1;
    }

    while (v30 + 1 < v23);
LABEL_68:
    if (v30 <= 62)
    {
      do
      {
LABEL_54:
        if (v10 > 7)
        {
          goto LABEL_59;
        }

        result = sub_1003ADD8C(&v52, v9, v10, 0);
        if (!result)
        {
          return result;
        }

        v9 = v54;
        v10 = v55;
        if (v55 > 7)
        {
LABEL_59:
          v42 = (v9 >> (v10 - 8));
          v43 = *(v22 + 288 + 4 * v42);
          if (v43)
          {
            v10 -= v43;
            v44 = *(v22 + 1312 + v42);
            v45 = v44 >> 4;
            v46 = v44 & 0xF;
            if ((v44 & 0xF) == 0)
            {
              goto LABEL_61;
            }

            goto LABEL_65;
          }

          v41 = sub_1003ADF04(&v52, v9, v10, v22, 9);
          if ((v41 & 0x80000000) != 0)
          {
            return 0;
          }
        }

        else
        {
          v41 = sub_1003ADF04(&v52, v54, v55, v22, 1);
          if ((v41 & 0x80000000) != 0)
          {
            return 0;
          }
        }

        v9 = v54;
        v10 = v55;
        v45 = v41 >> 4;
        v46 = v41 & 0xF;
        if ((v41 & 0xF) == 0)
        {
LABEL_61:
          if (v45 != 15)
          {
            break;
          }

          goto LABEL_53;
        }

LABEL_65:
        if (v10 < v46)
        {
          result = sub_1003ADD8C(&v52, v9, v10, v46);
          if (!result)
          {
            return result;
          }

          v9 = v54;
          v10 = v55;
        }

        v10 -= v46;
LABEL_53:
        v29 += v45 + 1;
      }

      while (v29 < 64);
    }

LABEL_69:
    ++v11;
    v12 = v4 + 176;
    a2 = v49;
    v14 = v4 + 336;
    v13 = v4 + 256;
  }

  while (v11 < *(a1 + 464));
  v6 = *(a1 + 40);
  v7 = v52;
  v8 = v53;
LABEL_71:
  *v6 = v7;
  v6[1] = v8;
  *(v4 + 24) = v9;
  *(v4 + 32) = v10;
  *(v4 + 40) = v50;
  *(v4 + 56) = v51;
LABEL_4:
  --*(v4 + 64);
  return 1;
}

uint64_t sub_1003ADD8C(unsigned __int8 **a1, uint64_t a2, int a3, int a4)
{
  v5 = a3;
  v8 = *a1;
  v9 = a1[1];
  v10 = a1[4];
  if (*(v10 + 135))
  {
    if (a3 >= a4)
    {
      goto LABEL_22;
    }

    goto LABEL_3;
  }

  if (a3 > 24)
  {
    goto LABEL_22;
  }

  while (1)
  {
    while (1)
    {
      if (!v9)
      {
        result = (*(*(v10 + 5) + 24))(v10);
        if (!result)
        {
          return result;
        }

        v16 = *(v10 + 5);
        v9 = (v16[1] - 1);
        v8 = *v16 + 1;
        v13 = **v16;
        if (v13 == 255)
        {
          goto LABEL_15;
        }

        goto LABEL_12;
      }

      --v9;
      v14 = *v8++;
      v13 = v14;
      if (v14 == 255)
      {
        break;
      }

LABEL_12:
      a2 = v13 | (a2 << 8);
      v12 = v5 + 8;
      v17 = v5 < 17;
      v5 += 8;
      if (!v17)
      {
        goto LABEL_23;
      }
    }

    do
    {
LABEL_15:
      if (!v9)
      {
        result = (*(*(v10 + 5) + 24))(v10);
        if (!result)
        {
          return result;
        }

        v20 = *(v10 + 5);
        v8 = *v20;
        v9 = v20[1];
      }

      --v9;
      v19 = *v8++;
      v18 = v19;
    }

    while (v19 == 255);
    if (v18)
    {
      break;
    }

    a2 = (a2 << 8) | 0xFF;
    v12 = v5 + 8;
    v17 = v5 < 17;
    v5 += 8;
    if (!v17)
    {
      goto LABEL_23;
    }
  }

  *(v10 + 135) = v18;
  if (v5 < a4)
  {
LABEL_3:
    if (!*(*(v10 + 74) + 60))
    {
      v11 = *v10;
      *(v11 + 40) = 120;
      (*(v11 + 8))(v10, 0xFFFFFFFFLL);
      *(*(v10 + 74) + 60) = 1;
    }

    v12 = 25;
    a2 <<= 25 - v5;
    goto LABEL_23;
  }

LABEL_22:
  v12 = v5;
LABEL_23:
  *a1 = v8;
  a1[1] = v9;
  a1[2] = a2;
  result = 1;
  *(a1 + 6) = v12;
  return result;
}

uint64_t sub_1003ADF04(uint64_t a1, uint64_t a2, int a3, uint64_t a4, int a5)
{
  if (a3 < a5)
  {
    if (!sub_1003ADD8C(a1, a2, a3, a5))
    {
      return 0xFFFFFFFFLL;
    }

    a2 = *(a1 + 16);
    a3 = *(a1 + 24);
  }

  v8 = a3 - a5;
  v9 = (dword_1003EC7D4[a5] & (a2 >> v8));
  v10 = a5;
  if (*(a4 + 8 * a5) < v9)
  {
    do
    {
      if (v8 <= 0)
      {
        if (!sub_1003ADD8C(a1, a2, v8, 1))
        {
          return 0xFFFFFFFFLL;
        }

        a2 = *(a1 + 16);
        v8 = *(a1 + 24);
      }

      v9 = (a2 >> --v8) & 1 | (2 * v9);
      v11 = v10 + 1;
      v12 = *(a4 + 8 + 8 * v10++);
    }

    while (v9 > v12);
    *(a1 + 16) = a2;
    *(a1 + 24) = v8;
    if (v11 < 17)
    {
      return *(*(a4 + 280) + *(a4 + 8 * v11 + 144) + v9 + 17);
    }

LABEL_11:
    v13 = *(a1 + 32);
    v14 = *v13;
    *(v14 + 40) = 121;
    (*(v14 + 8))(v13, 0xFFFFFFFFLL);
    return 0;
  }

  v11 = a5;
  *(a1 + 16) = a2;
  *(a1 + 24) = v8;
  if (a5 >= 17)
  {
    goto LABEL_11;
  }

  return *(*(a4 + 280) + *(a4 + 8 * v11 + 144) + v9 + 17);
}

uint64_t sub_1003AE068(uint64_t a1)
{
  v2 = *(a1 + 524);
  v3 = *(a1 + 72);
  v4 = v2 * *(a1 + 68);
  if (v4 <= v3)
  {
    *(a1 + 116) = sub_1003C82AC(*(a1 + 48), v2);
    result = sub_1003C82AC(*(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x100000001;
    v8 = 1;
  }

  else if (v4 <= 2 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(2 * *(a1 + 48), v2);
    result = sub_1003C82AC(2 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x200000002;
    v8 = 2;
  }

  else if (v4 <= 3 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(3 * *(a1 + 48), v2);
    result = sub_1003C82AC(3 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x300000003;
    v8 = 3;
  }

  else if (v4 <= 4 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(4 * *(a1 + 48), v2);
    result = sub_1003C82AC(4 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x400000004;
    v8 = 4;
  }

  else if (v4 <= 5 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(5 * *(a1 + 48), v2);
    result = sub_1003C82AC(5 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x500000005;
    v8 = 5;
  }

  else if (v4 <= 6 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(6 * *(a1 + 48), v2);
    result = sub_1003C82AC(6 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x600000006;
    v8 = 6;
  }

  else if (v4 <= 7 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(7 * *(a1 + 48), v2);
    result = sub_1003C82AC(7 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x700000007;
    v8 = 7;
  }

  else if (v4 <= 8 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(8 * *(a1 + 48), v2);
    result = sub_1003C82AC(8 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x800000008;
    v8 = 8;
  }

  else if (v4 <= 9 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(9 * *(a1 + 48), v2);
    result = sub_1003C82AC(9 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0x900000009;
    v8 = 9;
  }

  else if (v4 <= 10 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(10 * *(a1 + 48), v2);
    result = sub_1003C82AC(10 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0xA0000000ALL;
    v8 = 10;
  }

  else if (v4 <= 11 * v3)
  {
    v8 = 11;
    *(a1 + 116) = sub_1003C82AC(11 * *(a1 + 48), v2);
    result = sub_1003C82AC(11 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0xB0000000BLL;
  }

  else if (v4 <= 12 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(12 * *(a1 + 48), v2);
    result = sub_1003C82AC(12 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0xC0000000CLL;
    v8 = 12;
  }

  else if (v4 <= 13 * v3)
  {
    v8 = 13;
    *(a1 + 116) = sub_1003C82AC(13 * *(a1 + 48), v2);
    result = sub_1003C82AC(13 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0xD0000000DLL;
  }

  else if (v4 <= 14 * v3)
  {
    *(a1 + 116) = sub_1003C82AC(14 * *(a1 + 48), v2);
    result = sub_1003C82AC(14 * *(a1 + 52), *(a1 + 524));
    *(a1 + 120) = result;
    *(a1 + 392) = 0xE0000000ELL;
    v8 = 14;
  }

  else
  {
    v5 = 15 * v3;
    v6 = *(a1 + 48);
    if (v4 <= v5)
    {
      *(a1 + 116) = sub_1003C82AC(15 * v6, v2);
      result = sub_1003C82AC(15 * *(a1 + 52), *(a1 + 524));
      *(a1 + 120) = result;
      *(a1 + 392) = 0xF0000000FLL;
      v8 = 15;
    }

    else
    {
      *(a1 + 116) = sub_1003C82AC(16 * v6, v2);
      result = sub_1003C82AC(16 * *(a1 + 52), *(a1 + 524));
      *(a1 + 120) = result;
      *(a1 + 392) = 0x1000000010;
      v8 = 16;
    }
  }

  v9 = *(a1 + 56);
  if (v9 >= 1)
  {
    v10 = *(a1 + 288);
    if (v9 == 1)
    {
      LODWORD(v11) = 0;
      v12 = *(a1 + 288);
LABEL_38:
      v15 = (v12 + 40);
      v16 = v9 - v11;
      do
      {
        *(v15 - 1) = v8;
        *v15 = v8;
        v15 += 24;
        --v16;
      }

      while (v16);
      return result;
    }

    v11 = v9 & 0x7FFFFFFE;
    v12 = v10 + 96 * v11;
    v13 = (v10 + 136);
    v14 = v11;
    do
    {
      *(v13 - 25) = v8;
      *(v13 - 24) = v8;
      *(v13 - 1) = v8;
      *v13 = v8;
      v13 += 48;
      v14 -= 2;
    }

    while (v14);
    if (v11 != v9)
    {
      goto LABEL_38;
    }
  }

  return result;
}

uint64_t sub_1003AE508(uint64_t a1)
{
  result = (**(a1 + 8))();
  *(a1 + 576) = result;
  *result = sub_1003AE58C;
  *(result + 8) = sub_1003AEBB4;
  *(result + 16) = sub_1003AEC14;
  *(result + 24) = sub_1003AEEB0;
  *(result + 32) = 0;
  *(result + 40) = 1;
  return result;
}

uint64_t sub_1003AE58C(int32x2_t *a1)
{
  v1 = a1[72];
  v2 = 2;
  if (*(*&v1 + 33))
  {
    return v2;
  }

  v5 = (*(*&a1[73] + 8))();
  if (v5 != 1)
  {
LABEL_4:
    if (v5 != 2)
    {
      return v5;
    }

    *(*&v1 + 33) = 1;
    if (*(*&v1 + 40))
    {
      if (*(*&a1[73] + 25))
      {
        v6 = *a1;
        *(*&v6 + 40) = 62;
        (**&v6)(a1);
      }
    }

    else
    {
      v27 = a1[19].i32[1];
      if (a1[20].i32[1] > v27)
      {
        a1[20].i32[1] = v27;
      }
    }

    return 2;
  }

  while (1)
  {
    while (1)
    {
      v8 = *(*&v1 + 40);
      if (!v8)
      {
        break;
      }

      if (v8 != 1)
      {
        if (a1[52].i32[0])
        {
          goto LABEL_89;
        }

        goto LABEL_43;
      }

      if (a1[6].i32[1] <= 0xFFDCu && a1[6].i32[0] < 0xFFDDu)
      {
        v9 = a1[35].i32[0];
        if ((v9 - 13) > 0xFFFFFFFA)
        {
LABEL_19:
          v10 = a1[7].i32[0];
          if (v10 < 11)
          {
            goto LABEL_24;
          }

          goto LABEL_20;
        }
      }

      else
      {
        *(*a1 + 40) = 0xFFDC0000002ALL;
        (**a1)(a1);
        v9 = a1[35].i32[0];
        if ((v9 - 13) > 0xFFFFFFFA)
        {
          goto LABEL_19;
        }
      }

      v12 = *a1;
      *(*&v12 + 40) = 16;
      *(*&v12 + 44) = v9;
      (**a1)(a1);
      v10 = a1[7].i32[0];
      if (v10 < 11)
      {
LABEL_24:
        a1[48] = 0x100000001;
        if (v10 < 1)
        {
          goto LABEL_30;
        }

        goto LABEL_25;
      }

LABEL_20:
      v11 = *a1;
      *(*&v11 + 40) = 27;
      *(*&v11 + 44) = v10;
      *(*a1 + 48) = 10;
      (**a1)(a1);
      v10 = a1[7].i32[0];
      a1[48] = 0x100000001;
      if (v10 < 1)
      {
        goto LABEL_30;
      }

LABEL_25:
      v13 = 0;
      v14 = (*&a1[36] + 8);
      v15 = 0x100000001;
      do
      {
        while ((v14->i32[0] - 5) < 0xFFFFFFFC || (v14->i32[1] - 5) <= 0xFFFFFFFB)
        {
          v16 = *a1;
          *(*&v16 + 40) = 19;
          (**&v16)(a1);
          v17 = *v14;
          v14 += 12;
          v10 = a1[7].i32[0];
          v15 = vmax_s32(a1[48], v17);
          a1[48] = v15;
          if (++v13 >= v10)
          {
            goto LABEL_30;
          }
        }

        v15 = vmax_s32(v15, *v14);
        a1[48] = v15;
        ++v13;
        v14 += 12;
      }

      while (v13 < v10);
LABEL_30:
      if (a1[37].i8[0] || a1[37].i8[1] && a1[52].i32[0])
      {
LABEL_31:
        v18 = 8;
LABEL_32:
        a1[65].i32[1] = v18;
        a1[66] = &unk_1003ECC10;
        a1[67].i32[0] = 63;
        goto LABEL_33;
      }

      v23 = a1[64].i32[0];
      if (v23 > 79)
      {
        if (v23 > 167)
        {
          if (v23 > 223)
          {
            if (v23 == 224)
            {
              v18 = 15;
              goto LABEL_32;
            }

            if (v23 == 255)
            {
              v18 = 16;
              goto LABEL_32;
            }
          }

          else
          {
            if (v23 == 168)
            {
              v18 = 13;
              goto LABEL_32;
            }

            if (v23 == 195)
            {
              v18 = 14;
              goto LABEL_32;
            }
          }
        }

        else if (v23 > 119)
        {
          if (v23 == 120)
          {
            v18 = 11;
            goto LABEL_32;
          }

          if (v23 == 143)
          {
            v18 = 12;
            goto LABEL_32;
          }
        }

        else
        {
          if (v23 == 80)
          {
            v18 = 9;
            goto LABEL_32;
          }

          if (v23 == 99)
          {
            v18 = 10;
            goto LABEL_32;
          }
        }
      }

      else if (v23 > 23)
      {
        if (v23 > 47)
        {
          if (v23 == 48)
          {
            v18 = 7;
            a1[65].i32[1] = 7;
            a1[66] = &unk_1003ECD50;
            v24 = 48;
            goto LABEL_85;
          }

          if (v23 == 63)
          {
            goto LABEL_31;
          }
        }

        else
        {
          if (v23 == 24)
          {
            v18 = 5;
            a1[65].i32[1] = 5;
            a1[66] = &unk_1003ECF24;
            v24 = 24;
            goto LABEL_85;
          }

          if (v23 == 35)
          {
            v18 = 6;
            a1[65].i32[1] = 6;
            a1[66] = &unk_1003ECE54;
            v24 = 35;
            goto LABEL_85;
          }
        }
      }

      else if (v23 > 7)
      {
        if (v23 == 8)
        {
          v18 = 3;
          a1[65].i32[1] = 3;
          a1[66] = &unk_1003ED048;
          v24 = 8;
          goto LABEL_85;
        }

        if (v23 == 15)
        {
          v18 = 4;
          a1[65].i32[1] = 4;
          a1[66] = &unk_1003ECFC8;
          v24 = 15;
          goto LABEL_85;
        }
      }

      else
      {
        if (!v23)
        {
          v18 = 1;
          a1[65].i32[1] = 1;
          a1[66] = &unk_1003ECC10;
          a1[67].i32[0] = 0;
          goto LABEL_33;
        }

        if (v23 == 3)
        {
          v18 = 2;
          a1[65].i32[1] = 2;
          a1[66] = &unk_1003ED0AC;
          v24 = 3;
LABEL_85:
          a1[67].i32[0] = v24;
          goto LABEL_33;
        }
      }

      v25 = *a1;
      v26 = a1[63].i32[1];
      *(*&v25 + 40) = 17;
      *(*&v25 + 44) = v26;
      *(*a1 + 48) = a1[64].i32[0];
      *(*a1 + 52) = a1[64].i32[1];
      *(*a1 + 56) = a1[65].i32[0];
      (**a1)(a1);
      v18 = a1[65].i32[1];
      v10 = a1[7].i32[0];
LABEL_33:
      a1[49].i32[0] = v18;
      a1[49].i32[1] = v18;
      if (v10 >= 1)
      {
        v19 = 0;
        v20 = *&a1[36] + 40;
        do
        {
          v21 = a1[65].i32[1];
          *(v20 - 4) = v21;
          *v20 = v21;
          *(v20 - 12) = sub_1003C82AC(*(v20 - 32) * a1[6].u32[0], a1[48].i32[0] * v21);
          *(v20 - 8) = sub_1003C82AC(*(v20 - 28) * a1[6].u32[1], a1[65].i32[1] * a1[48].i32[1]);
          *(v20 + 4) = sub_1003C82AC(*(v20 - 32) * a1[6].u32[0], a1[48].i32[0]);
          *(v20 + 8) = sub_1003C82AC(*(v20 - 28) * a1[6].u32[1], a1[48].i32[1]);
          *(v20 + 12) = 1;
          *(v20 + 40) = 0;
          ++v19;
          v20 += 96;
        }

        while (v19 < a1[7].i32[0]);
        v18 = a1[65].i32[1];
      }

      a1[50].i32[0] = sub_1003C82AC(a1[6].u32[1], a1[48].i32[1] * v18);
      v22 = a1[52].i32[0];
      if (v22 >= a1[7].i32[0])
      {
        *(*&a1[72] + 32) = a1[37].i8[1] != 0;
        if (v22)
        {
LABEL_89:
          *(*&v1 + 40) = 0;
          return 1;
        }
      }

      else
      {
        *(*&a1[72] + 32) = 1;
        if (v22)
        {
          goto LABEL_89;
        }
      }

LABEL_43:
      *(*&v1 + 40) = 2;
      v5 = (*(*&a1[73] + 8))(a1);
      if (v5 != 1)
      {
        goto LABEL_4;
      }
    }

    if (!*(*&v1 + 32))
    {
      break;
    }

    if (a1[52].i32[0])
    {
      goto LABEL_93;
    }

LABEL_10:
    v5 = (*(*&a1[73] + 8))(a1);
    if (v5 != 1)
    {
      goto LABEL_4;
    }
  }

  v7 = *a1;
  *(*&v7 + 40) = 36;
  (**&v7)(a1);
  if (!a1[52].i32[0])
  {
    goto LABEL_10;
  }

LABEL_93:
  sub_1003AEC14(a1);
  return 1;
}

uint64_t sub_1003AEBB4(uint64_t a1)
{
  v2 = *(a1 + 576);
  *v2 = sub_1003AE58C;
  *(v2 + 32) = 0;
  *(v2 + 40) = 1;
  (*(*a1 + 32))(a1);
  result = (**(a1 + 584))(a1);
  *(a1 + 176) = 0;
  return result;
}

uint64_t sub_1003AEC14(uint64_t *a1)
{
  v2 = *(a1 + 104);
  if (v2 == 1)
  {
    v3 = a1[53];
    v4 = *(v3 + 32);
    *(a1 + 114) = *(v3 + 28);
    *(a1 + 115) = v4;
    *(v3 + 56) = 0x100000001;
    LODWORD(v5) = 1;
    v6 = *(v3 + 36);
    *(v3 + 64) = 1;
    *(v3 + 68) = v6;
    v7 = v4 % *(v3 + 12);
    if (!v7)
    {
      v7 = *(v3 + 12);
    }

    *(v3 + 72) = 1;
    *(v3 + 76) = v7;
    a1[58] = 1;
LABEL_21:
    v20 = 0;
    v21 = a1 + 23;
    do
    {
      v30 = a1[v20 + 53];
      if (!*(v30 + 80))
      {
        v31 = *(v30 + 16);
        if (v31 > 3 || !v21[v31])
        {
          v22 = *a1;
          *(v22 + 10) = 54;
          *(v22 + 11) = v31;
          (**a1)(a1);
        }

        v23 = (*a1[1])(a1, 1, 130);
        v5 = v21[v31];
        *v23 = *v5;
        v24 = *(v5 + 16);
        v25 = *(v5 + 32);
        v26 = *(v5 + 64);
        *(v23 + 48) = *(v5 + 48);
        *(v23 + 64) = v26;
        *(v23 + 16) = v24;
        *(v23 + 32) = v25;
        v27 = *(v5 + 80);
        v28 = *(v5 + 96);
        v29 = *(v5 + 112);
        *(v23 + 128) = *(v5 + 128);
        *(v23 + 96) = v28;
        *(v23 + 112) = v29;
        *(v23 + 80) = v27;
        *(v30 + 80) = v23;
        LODWORD(v5) = *(a1 + 104);
      }

      ++v20;
    }

    while (v20 < v5);
    goto LABEL_29;
  }

  if ((v2 - 5) <= 0xFFFFFFFB)
  {
    v8 = *a1;
    *(v8 + 10) = 27;
    *(v8 + 11) = v2;
    *(*a1 + 48) = 4;
    (**a1)(a1);
  }

  *(a1 + 114) = sub_1003C82AC(*(a1 + 12), *(a1 + 131) * *(a1 + 96));
  *(a1 + 115) = sub_1003C82AC(*(a1 + 13), *(a1 + 131) * *(a1 + 97));
  *(a1 + 116) = 0;
  if (*(a1 + 104) >= 1)
  {
    v9 = 0;
    do
    {
      v10 = a1[v9 + 53];
      v11 = v10[2];
      v12 = v10[3];
      v13 = v12 * v11;
      v14 = v10[8];
      v15 = v10[9] * v11;
      v10[16] = v12 * v11;
      v10[17] = v15;
      v16 = v10[7] % v11;
      v10[14] = v11;
      v10[15] = v12;
      if (v16)
      {
        v11 = v16;
      }

      if (v14 % v12)
      {
        v12 = v14 % v12;
      }

      v10[18] = v11;
      v10[19] = v12;
      if (*(a1 + 116) + v13 >= 11)
      {
        v17 = *a1;
        *(v17 + 40) = 14;
        (*v17)(a1);
      }

      if (v13 >= 1)
      {
        v18 = v13 + 1;
        do
        {
          v19 = *(a1 + 116);
          *(a1 + 116) = v19 + 1;
          *(a1 + v19 + 117) = v9;
          --v18;
        }

        while (v18 > 1);
      }

      ++v9;
      v5 = *(a1 + 104);
    }

    while (v9 < v5);
    if (v5 >= 1)
    {
      goto LABEL_21;
    }
  }

LABEL_29:
  (*a1[74])(a1);
  result = (*a1[70])(a1);
  *a1[72] = *(a1[70] + 8);
  return result;
}

uint64_t sub_1003AEEB0(uint64_t a1)
{
  result = (*(*(a1 + 592) + 16))();
  **(a1 + 576) = sub_1003AE58C;
  return result;
}

uint64_t (**sub_1003AEEF0(uint64_t *a1, int a2))(uint64_t result, int a2)
{
  result = (*a1[1])();
  v5 = result;
  a1[69] = result;
  *result = sub_1003AF0C0;
  if (a2)
  {
    v6 = *a1;
    *(v6 + 40) = 3;
    result = (*v6)(a1);
  }

  v7 = *(a1 + 99);
  if (!*(a1[76] + 16))
  {
    if (*(a1 + 14) < 1)
    {
      return result;
    }

    goto LABEL_12;
  }

  if (v7 <= 1)
  {
    v8 = *a1;
    *(v8 + 40) = 48;
    (*v8)(a1);
    v7 = *(a1 + 99);
  }

  v9 = a1[69];
  result = (*a1[1])(a1, 1, 16 * *(a1 + 14));
  v10 = *(a1 + 14);
  *(v9 + 104) = result;
  *(v9 + 112) = &result[v10];
  if (v10 >= 1)
  {
    v11 = 0;
    v12 = v7 + 4;
    v13 = (a1[36] + 40);
    do
    {
      v14 = *(v13 - 7);
      v15 = *v13;
      v13 += 24;
      v16 = v15 * v14 / *(a1 + 99);
      result = (*a1[1])(a1, 1, 16 * v16 * v12);
      v17 = &result[v16];
      v18 = *(v9 + 112);
      *(*(v9 + 104) + 8 * v11) = v17;
      *(v18 + 8 * v11++) = &v17[v16 * v12];
      v10 = *(a1 + 14);
    }

    while (v11 < v10);
  }

  v7 = *(a1 + 99) + 2;
  if (v10 >= 1)
  {
LABEL_12:
    v19 = 0;
    v20 = v5 + 2;
    v21 = (a1[36] + 40);
    do
    {
      result = (*(a1[1] + 16))(a1, 1, (*(v21 - 1) * *(v21 - 3)), (*v21 * *(v21 - 7) / *(a1 + 99) * v7));
      v20[v19++] = result;
      v21 += 24;
    }

    while (v19 < *(a1 + 14));
  }

  return result;
}

uint64_t sub_1003AF0C0(uint64_t result, int a2)
{
  v3 = *(result + 552);
  if (a2 == 2)
  {
    *(v3 + 8) = sub_1003AF8CC;
  }

  else if (a2)
  {
    v51 = *result;
    *(v51 + 40) = 3;
    v52 = *v51;

    return v52();
  }

  else if (*(*(result + 608) + 16))
  {
    *(v3 + 8) = sub_1003AF3D0;
    v4 = *(result + 56);
    if (v4 >= 1)
    {
      v5 = 0;
      v6 = *(result + 396);
      v7 = *(result + 288);
      v8 = *(v3 + 104);
      v9 = *(v3 + 112);
      while (1)
      {
        v10 = (*(v7 + 40) * *(v7 + 12) / v6);
        result = *(v8 + 8 * v5);
        v11 = *(v9 + 8 * v5);
        v12 = *(v3 + 16 + 8 * v5);
        v13 = (v10 * (v6 + 2));
        if (v13 < 1)
        {
          goto LABEL_12;
        }

        if (v13 <= 5)
        {
          break;
        }

        v14 = 0;
        if ((result - v11) < 0x20)
        {
          goto LABEL_10;
        }

        if ((v11 - v12) < 0x20)
        {
          goto LABEL_10;
        }

        if ((result - v12) < 0x20)
        {
          goto LABEL_10;
        }

        v14 = v13 & 0x7FFFFFFC;
        v31 = (v12 + 16);
        v32 = (v11 + 16);
        v33 = (result + 16);
        v34 = v14;
        do
        {
          v35 = *(v31 - 1);
          v36 = *v31;
          *(v32 - 1) = v35;
          *v32 = v36;
          *(v33 - 1) = v35;
          *v33 = v36;
          v31 += 2;
          v32 += 2;
          v33 += 2;
          v34 -= 4;
        }

        while (v34);
        if (v14 != v13)
        {
          goto LABEL_10;
        }

LABEL_12:
        if (v10 < 1)
        {
          goto LABEL_6;
        }

        v21 = 2 * v10;
        v22 = v10 * v6;
        v23 = v10 * (v6 - 2);
        if (2 * v10 <= 1)
        {
          v24 = 1;
        }

        else
        {
          v24 = v21;
        }

        if (v21 > 9)
        {
          v25 = 0;
          v37 = 8 * v22;
          v38 = 8 * v23;
          if ((8 * v22 + v11 - (8 * v23 + v12)) >= 0x20 && (v11 - v12) >= 0x20 && (v12 - v11) >= 0x20 && (v38 + v11 - (v37 + v12)) >= 0x20 && (v37 - v38) >= 0x20)
          {
            v25 = v24 & 0x7FFFFFFC;
            v39 = (v11 + 16 + v37);
            v40 = (v11 + 16 + v38);
            v41 = (v12 + 16 + v37);
            v42 = (v12 + 16 + v38);
            v43 = v25;
            do
            {
              v44 = *v41;
              *(v40 - 1) = *(v41 - 1);
              *v40 = v44;
              v45 = *v42;
              *(v39 - 1) = *(v42 - 1);
              *v39 = v45;
              v39 += 2;
              v40 += 2;
              v41 += 2;
              v42 += 2;
              v43 -= 4;
            }

            while (v43);
            if (v25 == v24)
            {
              goto LABEL_20;
            }
          }
        }

        else
        {
          v25 = 0;
        }

        v26 = v24 - v25;
        v27 = v25 + v23;
        v28 = v25 + v22;
        do
        {
          *(v11 + 8 * v27) = *(v12 + 8 * v28);
          *(v11 + 8 * v28) = *(v12 + 8 * v27);
          v12 += 8;
          v11 += 8;
          --v26;
        }

        while (v26);
LABEL_20:
        v29 = *result;
        if (v10 > 3)
        {
          v30 = v10 & 0x7FFFFFFC;
          v46 = vdupq_n_s64(v29);
          v47 = (result - 8 * v10 + 16);
          v48 = v30;
          do
          {
            v47[-1] = v46;
            *v47 = v46;
            v47 += 2;
            v48 -= 4;
          }

          while (v48);
          if (v30 == v10)
          {
            goto LABEL_6;
          }
        }

        else
        {
          v30 = 0;
        }

        v49 = v30 - v10;
        do
        {
          *(result + 8 * v49) = v29;
        }

        while (!__CFADD__(v49++, 1));
LABEL_6:
        ++v5;
        v7 += 96;
        if (v5 == v4)
        {
          goto LABEL_49;
        }
      }

      v14 = 0;
LABEL_10:
      v15 = v13 - v14;
      v16 = 8 * v14;
      v17 = (result + 8 * v14);
      v18 = (v11 + v16);
      v19 = (v12 + v16);
      do
      {
        v20 = *v19++;
        *v18++ = v20;
        *v17++ = v20;
        --v15;
      }

      while (v15);
      goto LABEL_12;
    }

LABEL_49:
    *(v3 + 120) = 0;
    *(v3 + 132) = 0;
    *(v3 + 96) = 0;
    *(v3 + 100) = 0;
  }

  else
  {
    *(v3 + 8) = sub_1003AF828;
    *(v3 + 96) = 0;
    *(v3 + 100) = 0;
  }

  return result;
}

uint64_t sub_1003AF3D0(uint64_t result, uint64_t a2, _DWORD *a3, uint64_t a4)
{
  v7 = result;
  v8 = *(result + 552);
  if (*(v8 + 96))
  {
    v9 = *(v8 + 124);
    if (!v9)
    {
      goto LABEL_10;
    }
  }

  else
  {
    result = (*(*(result + 560) + 24))(result, *(v8 + 8 * *(v8 + 120) + 104));
    if (!result)
    {
      return result;
    }

    *(v8 + 96) = 1;
    ++*(v8 + 132);
    v9 = *(v8 + 124);
    if (!v9)
    {
      goto LABEL_10;
    }
  }

  if (v9 == 1)
  {
    goto LABEL_32;
  }

  if (v9 != 2)
  {
    return result;
  }

  result = (*(*(v7 + 568) + 8))(v7, *(v8 + 8 * *(v8 + 120) + 104), v8 + 100, *(v8 + 128), a2, a3, a4);
  if (*(v8 + 100) < *(v8 + 128))
  {
    return result;
  }

  *(v8 + 124) = 0;
  if (*a3 >= a4)
  {
    return result;
  }

LABEL_10:
  *(v8 + 100) = 0;
  v10 = *(v7 + 396);
  *(v8 + 128) = v10 - 1;
  if (*(v8 + 132) == *(v7 + 400))
  {
    v11 = *(v7 + 56);
    if (v11 >= 1)
    {
      v12 = 0;
      v13 = *(v7 + 288);
      v14 = *(v7 + 552);
      v15 = *(v14 + 8 * *(v14 + 120) + 104);
      do
      {
        v16 = v13[10] * v13[3];
        v17 = v16 / v10;
        v18 = v13[12] % v16;
        if (!v18)
        {
          v18 = v13[10] * v13[3];
        }

        if (v12)
        {
          if (v17 < 1)
          {
            goto LABEL_13;
          }
        }

        else
        {
          *(v14 + 128) = (v18 - 1) / v17 + 1;
          if (v17 < 1)
          {
            goto LABEL_13;
          }
        }

        v19 = *(v15 + 8 * v12);
        v20 = 2 * v17;
        if (2 * v17 <= 1)
        {
          v21 = 1;
        }

        else
        {
          v21 = v20;
        }

        v22 = *(v19 + 8 * v18 - 8);
        if (v20 >= 4)
        {
          v23 = v21 & 0x7FFFFFFC;
          v24 = vdupq_n_s64(v22);
          v25 = (v19 + 8 * v18 + 16);
          v26 = v23;
          do
          {
            v25[-1] = v24;
            *v25 = v24;
            v25 += 2;
            v26 -= 4;
          }

          while (v26);
          if (v23 == v21)
          {
            goto LABEL_13;
          }
        }

        else
        {
          v23 = 0;
        }

        v27 = v21 - v23;
        v28 = (v19 + 8 * v23 + 8 * v18);
        do
        {
          *v28++ = v22;
          --v27;
        }

        while (v27);
LABEL_13:
        ++v12;
        v13 += 24;
      }

      while (v12 != v11);
    }
  }

  *(v8 + 124) = 1;
LABEL_32:
  result = (*(*(v7 + 568) + 8))(v7, *(v8 + 8 * *(v8 + 120) + 104), v8 + 100, *(v8 + 128), a2, a3, a4);
  if (*(v8 + 100) >= *(v8 + 128))
  {
    v29 = *(v7 + 396);
    if (*(v8 + 132) == 1)
    {
      v30 = *(v7 + 56);
      if (v30 >= 1)
      {
        v31 = 0;
        v32 = *(v7 + 288);
        v33 = *(v7 + 552);
        v34 = *(v33 + 104);
        v35 = *(v33 + 112);
        do
        {
          v36 = (*(v32 + 40) * *(v32 + 12) / v29);
          if (v36 >= 1)
          {
            v37 = *(v34 + 8 * v31);
            result = *(v35 + 8 * v31);
            v38 = v36 * (v29 + 1);
            v39 = v36 * (v29 + 2);
            v40 = 8 * v39;
            v41 = 8 * v36;
            v42 = 8 * v38;
            if (v36 >= 0x10 && ((v43 = (v39 + v36) & 0x1FFFFFFFFFFFFFFELL, v44 = -8 * (v38 + v36), v40 + result - v37 >= 0x10) ? (v45 = (v41 + v37 - result) >= 0x10) : (v45 = 0), v45 ? (v46 = v40 + result - (v42 + v37) >= 0x10) : (v46 = 0), v46 ? (v47 = (result - v37 - v41 - v42) >= 0x10) : (v47 = 0), v47 ? (v48 = result - v37 - v40 >= 0x10) : (v48 = 0), v48 ? (v49 = v40 + v37 - (v42 + result) >= 0x10) : (v49 = 0), v49 ? (v50 = (result - v37) >= 0x10) : (v50 = 0), v50 ? (v51 = v40 + v37 + v41 - result >= 0x10) : (v51 = 0), v51 ? (v52 = (v41 + result - v37) >= 0x10) : (v52 = 0), v52 ? (v53 = (v42 + result + v41 - v37) >= 0x10) : (v53 = 0), v53 ? (v54 = v40 + result + v41 - v37 >= 0x10) : (v54 = 0), v54 ? (v55 = v43 == 0) : (v55 = 1), !v55 ? (v56 = v44 >= 0x10) : (v56 = 0), v56 ? (v57 = v40 - v42 >= 0x10) : (v57 = 0), v57 ? (v58 = v40 >= 0x10) : (v58 = 0), v58))
            {
              v59 = v36 & 0x7FFFFFFE;
              v66 = v59;
              v67 = *(v34 + 8 * v31);
              v68 = *(v35 + 8 * v31);
              do
              {
                *(v67 - 8 * v36) = *(v67 + v42);
                *(v68 - 8 * v36) = *(v68 + v42);
                *(v67 + v40) = *v67;
                *(v68 + v40) = *v68;
                ++v68;
                ++v67;
                v66 -= 2;
              }

              while (v66);
              if (v59 == v36)
              {
                goto LABEL_36;
              }
            }

            else
            {
              v59 = 0;
            }

            v60 = result + v40;
            v61 = v37 + v40;
            v62 = result - v41;
            v63 = v37 - v41;
            v64 = result + v42;
            v65 = v37 + v42;
            do
            {
              *(v63 + 8 * v59) = *(v65 + 8 * v59);
              *(v62 + 8 * v59) = *(v64 + 8 * v59);
              *(v61 + 8 * v59) = *(v37 + 8 * v59);
              *(v60 + 8 * v59) = *(result + 8 * v59);
              ++v59;
            }

            while (v36 != v59);
          }

LABEL_36:
          ++v31;
          v32 += 96;
        }

        while (v31 != v30);
      }
    }

    v69 = *(v8 + 120) ^ 1;
    *(v8 + 96) = 0;
    *(v8 + 100) = v29 + 1;
    *(v8 + 120) = v69;
    *(v8 + 124) = 2;
    *(v8 + 128) = v29 + 2;
  }

  return result;
}

uint64_t sub_1003AF828(uint64_t a1)
{
  v1 = *(a1 + 552);
  if (!*(v1 + 96))
  {
    v2 = a1;
    result = (*(*(a1 + 560) + 24))();
    if (!result)
    {
      return result;
    }

    *(v1 + 96) = 1;
    a1 = v2;
  }

  v4 = *(a1 + 396);
  result = (*(*(a1 + 568) + 8))();
  if (*(v1 + 100) >= v4)
  {
    *(v1 + 96) = 0;
    *(v1 + 100) = 0;
  }

  return result;
}

uint64_t sub_1003AF8F0(_DWORD *a1, int a2)
{
  v4 = a1[135];
  v5 = *a1;
  *(v5 + 40) = 124;
  *(v5 + 44) = v4;
  *(*a1 + 48) = a2;
  (*(*a1 + 8))(a1, 0xFFFFFFFFLL);
  if (v4 < 192)
  {
LABEL_7:
    while (1)
    {
      v6 = *a1;
      *(v6 + 40) = 99;
      *(v6 + 44) = v4;
      *(*a1 + 48) = 2;
      (*(*a1 + 8))(a1, 4);
      result = sub_1003AFA7C(a1);
      if (!result)
      {
        break;
      }

      v4 = a1[135];
      if (v4 >= 192)
      {
        goto LABEL_2;
      }
    }
  }

  else
  {
LABEL_2:
    if ((v4 - 216) < 0xFFFFFFF8 || v4 == ((a2 + 1) & 7 | 0xD0) || v4 == ((a2 + 2) & 7 | 0xD0))
    {
      v8 = *a1;
      *(v8 + 40) = 99;
      *(v8 + 44) = v4;
      *(*a1 + 48) = 3;
      (*(*a1 + 8))(a1, 4);
      return 1;
    }

    else
    {
      if (v4 == ((a2 - 1) & 7 | 0xD0) || v4 == ((a2 + 6) & 7 | 0xD0))
      {
        goto LABEL_7;
      }

      v9 = *a1;
      *(v9 + 40) = 99;
      *(v9 + 44) = v4;
      *(*a1 + 48) = 1;
      (*(*a1 + 8))(a1, 4);
      result = 1;
      a1[135] = 0;
    }
  }

  return result;
}

uint64_t sub_1003AFA7C(void *a1)
{
  v2 = a1[5];
  v3 = *v2;
  for (i = v2[1]; i; v2[1] = i)
  {
LABEL_2:
    v5 = *v3++;
    --i;
    if (v5 == 255)
    {
      goto LABEL_9;
    }

LABEL_3:
    ++*(a1[73] + 32);
    *v2 = v3;
  }

  while (1)
  {
    result = (v2[3])(a1);
    if (!result)
    {
      return result;
    }

    v3 = *v2 + 1;
    i = (v2[1] - 1);
    if (**v2 != 255)
    {
      goto LABEL_3;
    }

    do
    {
LABEL_9:
      if (!i)
      {
        result = (v2[3])(a1);
        if (!result)
        {
          return result;
        }

        v3 = *v2;
        i = v2[1];
      }

      --i;
      v8 = *v3++;
      v7 = v8;
    }

    while (v8 == 255);
    if (v7)
    {
      v9 = *(a1[73] + 32);
      if (v9)
      {
        v10 = *a1;
        *(v10 + 40) = 119;
        *(v10 + 44) = v9;
        *(*a1 + 48) = v7;
        (*(*a1 + 8))(a1, 0xFFFFFFFFLL);
        *(a1[73] + 32) = 0;
      }

      *(a1 + 135) = v7;
      result = 1;
      *v2 = v3;
      v2[1] = i;
      return result;
    }

    *(a1[73] + 32) += 2;
    *v2 = v3;
    v2[1] = i;
    if (i)
    {
      goto LABEL_2;
    }
  }
}

double sub_1003AFB9C(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  *(a1 + 584) = v2;
  *v2 = sub_1003AFC74;
  *(v2 + 8) = sub_1003AFC94;
  *(v2 + 16) = sub_1003B1C60;
  *(v2 + 40) = sub_1003B1D14;
  *(v2 + 176) = 0;
  memset_pattern16((v2 + 48), off_10047B860, 0x80uLL);
  result = 0.0;
  *(v2 + 228) = 0u;
  *(v2 + 212) = 0u;
  *(v2 + 196) = 0u;
  *(v2 + 180) = 0u;
  *(v2 + 48) = sub_1003B1E10;
  *(v2 + 160) = sub_1003B1E10;
  v4 = *(a1 + 584);
  *(a1 + 288) = 0;
  *(a1 + 156) = 0;
  *(a1 + 540) = 0;
  *(v4 + 24) = 0;
  *(v4 + 32) = 0;
  *(v4 + 248) = 0;
  return result;
}

uint64_t sub_1003AFC74(uint64_t result)
{
  v1 = *(result + 584);
  *(result + 288) = 0;
  *(result + 156) = 0;
  *(result + 540) = 0;
  *(v1 + 24) = 0;
  *(v1 + 32) = 0;
  *(v1 + 248) = 0;
  return result;
}

uint64_t sub_1003AFC94(uint64_t a1)
{
  v331 = a1 + 184;
  v318 = a1 + 216;
  v319 = a1 + 248;
  v335 = (a1 + 315);
  v336 = (a1 + 299);
  v2 = (a1 + 331);
  v3 = *(a1 + 540);
  v332 = (a1 + 331);
  while (2)
  {
    if (!v3)
    {
      if (*(*(a1 + 584) + 24))
      {
        result = sub_1003AFA7C(a1);
        if (!result)
        {
          return result;
        }

        v3 = *(a1 + 540);
        v5 = v3 - 1;
        if ((v3 - 1) > 0xFD)
        {
LABEL_26:
          v7 = *a1;
          v8 = 70;
LABEL_14:
          *(v7 + 40) = v8;
          *(v7 + 44) = v3;
          (**a1)(a1);
          goto LABEL_3;
        }

        goto LABEL_6;
      }

      v9 = *(a1 + 40);
      v10 = v9[1];
      if (v10)
      {
        v11 = (*v9 + 1);
        v12 = **v9;
        v13 = v10 - 1;
        if (v10 != 1)
        {
          goto LABEL_17;
        }
      }

      else
      {
        result = (v9[3])(a1);
        if (!result)
        {
          return result;
        }

        v16 = v9[1];
        v11 = (*v9 + 1);
        v12 = **v9;
        v13 = v16 - 1;
        if (v16 != 1)
        {
LABEL_17:
          v15 = *v11;
          v14 = (v11 + 1);
          v3 = v15;
          if (v12 != 255)
          {
            goto LABEL_25;
          }

LABEL_23:
          if (v3 == 216)
          {
            *(a1 + 540) = 216;
            *v9 = v14;
            v9[1] = (v13 - 1);
            v5 = 215;
            goto LABEL_6;
          }

LABEL_25:
          v17 = *a1;
          *(v17 + 40) = 55;
          *(v17 + 44) = v12;
          *(*a1 + 48) = v3;
          (**a1)(a1);
          *(a1 + 540) = v3;
          *v9 = v14;
          v9[1] = (v13 - 1);
          v5 = v3 - 1;
          if ((v3 - 1) > 0xFD)
          {
            goto LABEL_26;
          }

          goto LABEL_6;
        }
      }

      result = (v9[3])(a1);
      if (!result)
      {
        return result;
      }

      v13 = v9[1];
      v14 = *v9 + 1;
      v3 = **v9;
      if (v12 != 255)
      {
        goto LABEL_25;
      }

      goto LABEL_23;
    }

    v5 = v3 - 1;
LABEL_6:
    switch(v5)
    {
      case 0:
      case 207:
      case 208:
      case 209:
      case 210:
      case 211:
      case 212:
      case 213:
      case 214:
        v4 = *a1;
        *(v4 + 40) = 94;
        *(v4 + 44) = v3;
        (*(*a1 + 8))(a1, 1);
        goto LABEL_3;
      case 191:
        v45 = a1;
        v46 = 1;
        goto LABEL_54;
      case 192:
        v45 = a1;
        v46 = 0;
LABEL_54:
        result = sub_1003B2088(v45, v46, 0, 0);
        if (!result)
        {
          return result;
        }

        goto LABEL_3;
      case 193:
        result = sub_1003B2088(a1, 0, 1, 0);
        if (result)
        {
          goto LABEL_3;
        }

        return result;
      case 194:
      case 196:
      case 197:
      case 198:
      case 199:
      case 202:
      case 204:
      case 205:
      case 206:
        v7 = *a1;
        v8 = 63;
        goto LABEL_14;
      case 195:
        v55 = *(a1 + 40);
        v56 = v55[1];
        if (v56)
        {
          v58 = *v55 + 1;
          v57 = **v55;
          v59 = (v56 - 1);
          if (v59)
          {
            goto LABEL_175;
          }
        }

        else
        {
          if (!(v55[3])(a1))
          {
            return 0;
          }

          v2 = v332;
          v58 = *v55 + 1;
          v57 = **v55;
          v59 = (v55[1] - 1);
          if (v55[1] != 1)
          {
            goto LABEL_175;
          }
        }

        if (!(v55[3])(a1))
        {
          return 0;
        }

        v58 = *v55;
        v59 = v55[1];
        v2 = v332;
LABEL_175:
        v137 = (v59 - 1);
        v139 = *v58;
        v138 = v58 + 1;
        v140 = (v57 << 8) | v139;
        v141 = v140 - 2;
        if (v140 >= 0x13)
        {
          v313 = v55;
          do
          {
            if (!v137)
            {
              if (!(v55[3])(a1))
              {
                return 0;
              }

              v138 = *v55;
              v137 = v55[1];
            }

            v153 = *v138;
            v152 = v138 + 1;
            v154 = *a1;
            *(v154 + 40) = 82;
            *(v154 + 44) = v153;
            v315 = v153;
            (*(*a1 + 8))(a1, 1);
            if (v137 == 1)
            {
              if (!(v55[3])(a1))
              {
                return 0;
              }

              v155 = *v55 + 1;
              v330 = **v55;
              v157 = (v55[1] - 1);
              if (v55[1] != 1)
              {
LABEL_185:
                v159 = *v155;
                v158 = v155 + 1;
                v329 = v159;
                v160 = v157 - 1;
                if (v160)
                {
                  goto LABEL_186;
                }

                goto LABEL_204;
              }
            }

            else
            {
              v156 = *v152;
              v155 = v152 + 1;
              v330 = v156;
              v157 = (v137 - 2);
              if (v137 != 2)
              {
                goto LABEL_185;
              }
            }

            if (!(v55[3])(a1))
            {
              return 0;
            }

            v158 = *v55 + 1;
            v329 = **v55;
            v160 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_186:
              v162 = *v158;
              v161 = v158 + 1;
              v328 = v162;
              v163 = v160 - 1;
              if (v163)
              {
                goto LABEL_187;
              }

              goto LABEL_206;
            }

LABEL_204:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v161 = *v55 + 1;
            v328 = **v55;
            v163 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_187:
              v165 = *v161;
              v164 = v161 + 1;
              v327 = v165;
              v166 = v163 - 1;
              if (v166)
              {
                goto LABEL_188;
              }

              goto LABEL_208;
            }

LABEL_206:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v164 = *v55 + 1;
            v327 = **v55;
            v166 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_188:
              v168 = *v164;
              v167 = v164 + 1;
              v326 = v168;
              v169 = v166 - 1;
              if (v169)
              {
                goto LABEL_189;
              }

              goto LABEL_210;
            }

LABEL_208:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v167 = *v55 + 1;
            v326 = **v55;
            v169 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_189:
              v171 = *v167;
              v170 = v167 + 1;
              v325 = v171;
              v172 = v169 - 1;
              if (v172)
              {
                goto LABEL_190;
              }

              goto LABEL_212;
            }

LABEL_210:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v170 = *v55 + 1;
            v325 = **v55;
            v172 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_190:
              v174 = *v170;
              v173 = v170 + 1;
              v324 = v174;
              v175 = v172 - 1;
              if (v175)
              {
                goto LABEL_191;
              }

              goto LABEL_214;
            }

LABEL_212:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v173 = *v55 + 1;
            v324 = **v55;
            v175 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_191:
              v177 = *v173;
              v176 = v173 + 1;
              v323 = v177;
              v178 = v175 - 1;
              if (v178)
              {
                goto LABEL_192;
              }

              goto LABEL_216;
            }

LABEL_214:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v176 = *v55 + 1;
            v323 = **v55;
            v178 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_192:
              v180 = *v176;
              v179 = v176 + 1;
              v334 = v180;
              v181 = v178 - 1;
              if (v181)
              {
                goto LABEL_193;
              }

              goto LABEL_218;
            }

LABEL_216:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v179 = *v55 + 1;
            v334 = **v55;
            v181 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_193:
              v183 = *v179;
              v182 = v179 + 1;
              v322 = v183;
              v184 = v181 - 1;
              if (v184)
              {
                goto LABEL_194;
              }

              goto LABEL_220;
            }

LABEL_218:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v182 = *v55 + 1;
            v322 = **v55;
            v184 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_194:
              v187 = *v182;
              v185 = v182 + 1;
              v186 = v187;
              v188 = v184 - 1;
              if (v188)
              {
                goto LABEL_195;
              }

              goto LABEL_222;
            }

LABEL_220:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v185 = *v55 + 1;
            v186 = **v55;
            v188 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_195:
              v191 = *v185;
              v190 = v185 + 1;
              v189 = v191;
              v192 = v188 - 1;
              if (v192)
              {
                goto LABEL_196;
              }

              goto LABEL_224;
            }

LABEL_222:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v190 = *v55 + 1;
            v189 = **v55;
            v192 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_196:
              v195 = *v190;
              v193 = v190 + 1;
              v194 = v195;
              v196 = v192 - 1;
              if (v196)
              {
                goto LABEL_197;
              }

              goto LABEL_226;
            }

LABEL_224:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v193 = *v55 + 1;
            v194 = **v55;
            v196 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_197:
              v198 = *v193;
              v197 = v193 + 1;
              v321 = v198;
              v199 = v196 - 1;
              if (v199)
              {
                goto LABEL_198;
              }

              goto LABEL_228;
            }

LABEL_226:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v197 = *v55 + 1;
            v321 = **v55;
            v199 = (v55[1] - 1);
            if (v55[1] != 1)
            {
LABEL_198:
              v201 = *v197;
              v200 = v197 + 1;
              v320 = v201;
              v202 = v199 - 1;
              if (!v202)
              {
                goto LABEL_230;
              }

              goto LABEL_199;
            }

LABEL_228:
            if (!(v55[3])(a1))
            {
              return 0;
            }

            v200 = *v55 + 1;
            v320 = **v55;
            v202 = (v55[1] - 1);
            if (v55[1] == 1)
            {
LABEL_230:
              if (!(v55[3])(a1))
              {
                return 0;
              }

              v203 = v141;
              v204 = v189;
              v200 = *v55;
              v314 = v55[1];
              goto LABEL_232;
            }

LABEL_199:
            v314 = v202;
            v203 = v141;
            v204 = v189;
LABEL_232:
            v205 = *v200;
            v138 = v200 + 1;
            v206 = *a1;
            *(v206 + 48) = v329;
            *(v206 + 52) = v328;
            v207 = (v329 + v330 + v328 + v327 + v326 + v325 + v324 + v323 + v334 + v322 + v186 + v204 + v194 + v321 + v320 + v205);
            v317 = v203 - 17;
            *(v206 + 56) = v327;
            *(v206 + 60) = v326;
            *(v206 + 64) = v325;
            *(v206 + 68) = v324;
            *(v206 + 72) = v323;
            *(v206 + 40) = 88;
            *(v206 + 44) = v330;
            (*(v206 + 8))(a1, 2);
            v208 = *a1;
            *(v208 + 48) = v322;
            *(v208 + 52) = v186;
            *(v208 + 56) = v204;
            *(v208 + 60) = v194;
            *(v208 + 64) = v321;
            *(v208 + 68) = v320;
            v316 = v205;
            *(v208 + 72) = v205;
            *(v208 + 40) = 88;
            *(v208 + 44) = v334;
            (*(v208 + 8))(a1, 2);
            if (v207 > 0x100 || v317 < v207)
            {
              v209 = *a1;
              *(v209 + 40) = 9;
              (*v209)(a1);
            }

            v137 = v314 - 1;
            v351 = 0u;
            v352 = 0u;
            v349 = 0u;
            v350 = 0u;
            v347 = 0u;
            v348 = 0u;
            v345 = 0u;
            v346 = 0u;
            v343 = 0u;
            v344 = 0u;
            v341 = 0u;
            v342 = 0u;
            v339 = 0u;
            v340 = 0u;
            v337 = 0u;
            v338 = 0u;
            if (v207)
            {
              v210 = (v329 + v330 + v328 + v327 + v326 + v325 + v324 + v323 + v334 + v322 + v186 + v204 + v194 + v321 + v320 + v316);
              v211 = &v337;
              v55 = v313;
              while (1)
              {
                if (!v137)
                {
                  if (!(v313[3])(a1))
                  {
                    return 0;
                  }

                  v138 = *v313;
                  v137 = v313[1];
                }

                --v137;
                v212 = *v138++;
                *v211 = v212;
                v211 = (v211 + 1);
                if (!--v210)
                {
                  goto LABEL_243;
                }
              }
            }

            v55 = v313;
LABEL_243:
            v213 = v315 - 16;
            if ((v315 & 0x10) != 0)
            {
              v214 = (v319 + 8 * (v315 - 16));
            }

            else
            {
              v213 = v315;
              v214 = (v318 + 8 * v315);
            }

            if (v213 >= 4)
            {
              v215 = *a1;
              *(v215 + 40) = 31;
              *(v215 + 44) = v213;
              (**a1)(a1);
            }

            v142 = *v214;
            if (!*v214)
            {
              v142 = sub_10039D4C0(a1);
              *v214 = v142;
            }

            *v142 = 0;
            v142[1] = v330;
            v142[2] = v329;
            v142[3] = v328;
            v142[4] = v327;
            v142[5] = v326;
            v142[6] = v325;
            v142[7] = v324;
            v142[8] = v323;
            v142[9] = v334;
            v142[10] = v322;
            v142[11] = v186;
            v142[12] = v204;
            v142[13] = v194;
            v142[14] = v321;
            v142[15] = v320;
            v142[16] = v316;
            v143 = *v214;
            v144 = v350;
            *(v143 + 209) = v349;
            *(v143 + 225) = v144;
            v145 = v352;
            *(v143 + 241) = v351;
            v146 = v346;
            *(v143 + 145) = v345;
            *(v143 + 161) = v146;
            v147 = v348;
            *(v143 + 177) = v347;
            *(v143 + 193) = v147;
            v148 = v342;
            *(v143 + 81) = v341;
            *(v143 + 97) = v148;
            v149 = v344;
            *(v143 + 113) = v343;
            *(v143 + 129) = v149;
            v150 = v338;
            *(v143 + 17) = v337;
            *(v143 + 33) = v150;
            v151 = v340;
            *(v143 + 49) = v339;
            *(v143 + 65) = v151;
            v141 = v317 - v207;
            *(v143 + 257) = v145;
            v2 = v332;
          }

          while ((v317 - v207) > 16);
        }

        if (v141)
        {
          v216 = *a1;
          *(v216 + 40) = 12;
          (*v216)(a1);
        }

        *v55 = v138;
        v55[1] = v137;
LABEL_3:
        v3 = 0;
        *(a1 + 540) = 0;
        continue;
      case 200:
        result = sub_1003B2088(a1, 0, 0, 1);
        if (result)
        {
          goto LABEL_3;
        }

        return result;
      case 201:
        result = sub_1003B2088(a1, 0, 1, 1);
        if (result)
        {
          goto LABEL_3;
        }

        return result;
      case 203:
        v18 = *(a1 + 40);
        v19 = v18[1];
        if (v19)
        {
          v20 = *v18 + 1;
          v21 = **v18;
          v22 = (v19 - 1);
          if (v22)
          {
LABEL_29:
            v24 = *v20;
            v23 = v20 + 1;
            v25 = (v21 << 8) | v24;
            v26 = v22 - 1;
            if (v25 >= 3)
            {
              goto LABEL_76;
            }

LABEL_69:
            v63 = v25 - 2;
LABEL_70:
            if (v63)
            {
              v64 = *a1;
              *(v64 + 40) = 12;
              (*v64)(a1);
            }

            *v18 = v23;
            v18[1] = v26;
            goto LABEL_3;
          }
        }

        else
        {
          result = (v18[3])(a1);
          if (!result)
          {
            return result;
          }

          v20 = *v18 + 1;
          v21 = **v18;
          v22 = (v18[1] - 1);
          if (v18[1] != 1)
          {
            goto LABEL_29;
          }
        }

        result = (v18[3])(a1);
        if (!result)
        {
          return result;
        }

        v23 = *v18 + 1;
        v25 = (v21 << 8) | **v18;
        v26 = (v18[1] - 1);
        if (v25 < 3)
        {
          goto LABEL_69;
        }

        while (1)
        {
LABEL_76:
          if (v26)
          {
            v68 = *v23;
            v66 = v23 + 1;
            v67 = v68;
            v69 = v26 - 1;
            if (v69)
            {
              goto LABEL_83;
            }
          }

          else
          {
            result = (v18[3])(a1);
            if (!result)
            {
              return result;
            }

            v66 = *v18 + 1;
            v67 = **v18;
            v69 = (v18[1] - 1);
            if (v18[1] != 1)
            {
              goto LABEL_83;
            }
          }

          result = (v18[3])(a1);
          if (!result)
          {
            return result;
          }

          v66 = *v18;
          v69 = v18[1];
LABEL_83:
          v70 = *v66;
          v71 = *a1;
          *(v71 + 40) = 81;
          *(v71 + 44) = v67;
          *(*a1 + 48) = v70;
          (*(*a1 + 8))(a1, 1);
          if (v67 >= 0x20)
          {
            v65 = *a1;
            *(v65 + 40) = 29;
            *(v65 + 44) = v67;
            (**a1)(a1);
          }

          else if (v67 < 0x10)
          {
            *(v336 + v67) = v70 & 0xF;
            *(v335 + v67) = v70 >> 4;
            if ((v70 & 0xF) > v70 >> 4)
            {
              v72 = *a1;
              *(v72 + 40) = 30;
              *(v72 + 44) = v70;
              (**a1)(a1);
            }

            goto LABEL_75;
          }

          *(v2 + v67 - 16) = v70;
LABEL_75:
          v23 = v66 + 1;
          v26 = v69 - 1;
          v25 -= 2;
          v63 = v25 - 2;
          if (v25 <= 2)
          {
            goto LABEL_70;
          }
        }

      case 215:
        v60 = *a1;
        *(v60 + 40) = 104;
        (*(v60 + 8))(a1, 1);
        v61 = *(a1 + 584);
        if (*(v61 + 24))
        {
          v62 = *a1;
          *(v62 + 40) = 64;
          (*v62)(a1);
          v61 = *(a1 + 584);
        }

        *v336 = 0;
        v336[1] = 0;
        *v335 = 0x101010101010101;
        v335[1] = 0x101010101010101;
        *v2 = 0x505050505050505;
        v2[1] = 0x505050505050505;
        *(a1 + 348) = 0;
        *(a1 + 60) = 0;
        *(a1 + 364) = 0;
        *(a1 + 368) = 0;
        *(a1 + 352) = 65792;
        *(a1 + 356) = 65537;
        *(a1 + 360) = 0;
        *(v61 + 24) = 1;
        goto LABEL_3;
      case 216:
        v261 = *a1;
        *(v261 + 40) = 87;
        (*(v261 + 8))(a1, 1);
        *(a1 + 540) = 0;
        return 2;
      case 217:
        v262 = *(a1 + 40);
        v263 = *v262;
        v264 = v262[1];
        if (!*(*(a1 + 584) + 25))
        {
          v265 = *a1;
          *(v265 + 60) = *algn_1003EC830;
          *(v265 + 76) = xmmword_1003EC840;
          *(v265 + 92) = unk_1003EC850;
          *(v265 + 108) = xmmword_1003EC860;
          *(v265 + 40) = 60;
          *(v265 + 44) = xmmword_1003EC820;
          (**a1)(a1);
        }

        if (v264)
        {
          goto LABEL_348;
        }

        result = (v262[3])(a1);
        if (!result)
        {
          return result;
        }

        v263 = *v262;
        v264 = v262[1];
LABEL_348:
        v268 = *v263;
        v266 = v263 + 1;
        v267 = v268;
        v269 = v264 - 1;
        if (v264 != 1)
        {
          goto LABEL_351;
        }

        result = (v262[3])(a1);
        if (!result)
        {
          return result;
        }

        v266 = *v262;
        v269 = v262[1];
LABEL_351:
        v272 = *v266;
        v270 = v266 + 1;
        v271 = v272;
        v273 = v269 - 1;
        if (v269 != 1)
        {
          goto LABEL_354;
        }

        result = (v262[3])(a1);
        if (!result)
        {
          return result;
        }

        v270 = *v262;
        v273 = v262[1];
LABEL_354:
        v274 = (v267 << 8) | v271;
        v275 = *v270;
        v276 = *a1;
        *(v276 + 40) = 105;
        *(v276 + 44) = v275;
        (*(*a1 + 8))(a1, 1);
        if (v274 != 2 * v275 + 6 || v275 > 4)
        {
          goto LABEL_359;
        }

        if (v275)
        {
          *(a1 + 416) = v275;
          v279 = v270 + 1;
          v280 = v273 - 1;
          goto LABEL_363;
        }

        if (*(a1 + 297))
        {
          *(a1 + 416) = 0;
          v279 = v270 + 1;
          v280 = v273 - 1;
        }

        else
        {
LABEL_359:
          v278 = *a1;
          *(v278 + 40) = 12;
          (*v278)(a1);
          *(a1 + 416) = v275;
          v279 = v270 + 1;
          v280 = v273 - 1;
          if (v275)
          {
LABEL_363:
            v281 = 0;
            v282 = (a1 + 424);
            v283 = -1;
            while (1)
            {
              if (!v280)
              {
                result = (v262[3])(a1);
                if (!result)
                {
                  return result;
                }

                v279 = *v262;
                v280 = v262[1];
              }

              v289 = *v279;
              v284 = v279 + 1;
              v288 = v289;
              if (v281)
              {
                break;
              }

LABEL_373:
              v293 = *(a1 + 288);
              v294 = *(a1 + 56);
              v295 = v294 - 1;
              if (v294 < 1)
              {
                goto LABEL_395;
              }

LABEL_391:
              v300 = &v293[24 * v295 + 24];
              do
              {
                if (v288 == *v293)
                {
                  goto LABEL_396;
                }

                v293 += 24;
                --v294;
              }

              while (v294);
              v293 = v300;
LABEL_395:
              v301 = *a1;
              *(v301 + 40) = 4;
              *(v301 + 44) = v288;
              (**a1)(a1);
LABEL_396:
              v282[v281] = v293;
              v285 = v280 - 1;
              if (!v285)
              {
                result = (v262[3])(a1);
                if (!result)
                {
                  return result;
                }

                v284 = *v262;
                v285 = v262[1];
              }

              v286 = *v284;
              v279 = v284 + 1;
              v293[5] = v286 >> 4;
              v293[6] = v286 & 0xF;
              v287 = *a1;
              *(v287 + 44) = *v293;
              *(v287 + 48) = v293[5];
              *(v287 + 52) = v293[6];
              *(v287 + 40) = 106;
              (*(v287 + 8))(a1, 1);
              ++v281;
              v280 = v285 - 1;
              ++v283;
              if (v281 == v275)
              {
                v302 = 0;
                goto LABEL_403;
              }
            }

            v290 = 0;
            v291 = v283 & 0xFFFFFFFFFFFFFFFELL;
            v292 = v281 - 1;
            while (*v282[v290] != v288)
            {
              if (v281 == ++v290)
              {
                goto LABEL_373;
              }
            }

            v296 = **v282;
            if (v281 != 1)
            {
              if (v281 < 3)
              {
                for (i = 1; i != v281; ++i)
                {
LABEL_387:
                  if (*v282[i] > v296)
                  {
                    v296 = *v282[i];
                  }
                }

                goto LABEL_390;
              }

              i = v292 | 1;
              v298 = (a1 + 440);
              v299 = **v282;
              do
              {
                if (**(v298 - 1) > v296)
                {
                  v296 = **(v298 - 1);
                }

                if (**v298 > v299)
                {
                  v299 = **v298;
                }

                v298 += 2;
                v291 -= 2;
              }

              while (v291);
              if (v296 <= v299)
              {
                v296 = v299;
              }

              if (v292 != (v292 & 0xFFFFFFFFFFFFFFFELL))
              {
                goto LABEL_387;
              }
            }

LABEL_390:
            v288 = v296 + 1;
            v293 = *(a1 + 288);
            v294 = *(a1 + 56);
            v295 = v294 - 1;
            if (v294 < 1)
            {
              goto LABEL_395;
            }

            goto LABEL_391;
          }
        }

        v302 = 1;
LABEL_403:
        if (v280)
        {
          goto LABEL_406;
        }

        result = (v262[3])(a1);
        if (!result)
        {
          return result;
        }

        v279 = *v262;
        v280 = v262[1];
LABEL_406:
        v304 = *v279;
        v303 = v279 + 1;
        *(a1 + 508) = v304;
        v305 = v280 - 1;
        if (v280 != 1)
        {
          goto LABEL_409;
        }

        result = (v262[3])(a1);
        if (!result)
        {
          return result;
        }

        v303 = *v262;
        v305 = v262[1];
LABEL_409:
        v307 = *v303;
        v306 = v303 + 1;
        *(a1 + 512) = v307;
        v308 = v305 - 1;
        if (v308)
        {
          goto LABEL_412;
        }

        result = (v262[3])(a1);
        if (result)
        {
          v306 = *v262;
          v308 = v262[1];
LABEL_412:
          v310 = *v306;
          v309 = v306 + 1;
          *(a1 + 516) = v310 >> 4;
          *(a1 + 520) = v310 & 0xF;
          v311 = *a1;
          *(v311 + 44) = *(a1 + 508);
          *(v311 + 48) = *(a1 + 512);
          *(v311 + 52) = *(a1 + 516);
          *(v311 + 56) = *(a1 + 520);
          v312 = v308 - 1;
          *(v311 + 40) = 107;
          (*(v311 + 8))(a1, 1);
          *(*(a1 + 584) + 28) = 0;
          if ((v302 & 1) == 0)
          {
            ++*(a1 + 156);
          }

          *v262 = v309;
          v262[1] = v312;
          result = 1;
          *(a1 + 540) = 0;
        }

        return result;
      case 218:
        v27 = *(a1 + 40);
        v28 = v27[1];
        if (v28)
        {
          v30 = *v27 + 1;
          v29 = **v27;
          v31 = (v28 - 1);
          if (v31)
          {
            goto LABEL_91;
          }
        }

        else
        {
          result = (v27[3])(a1);
          if (!result)
          {
            return result;
          }

          v30 = *v27 + 1;
          v29 = **v27;
          v31 = (v27[1] - 1);
          if (v27[1] != 1)
          {
            goto LABEL_91;
          }
        }

        result = (v27[3])(a1);
        if (!result)
        {
          return result;
        }

        v30 = *v27;
        v31 = v27[1];
LABEL_91:
        v73 = (v31 - 1);
        v75 = *v30;
        v74 = v30 + 1;
        v76 = (v29 << 8) | v75;
        v77 = v76 - 2;
        if (v76 < 3)
        {
LABEL_92:
          if (v77)
          {
            v78 = *a1;
            *(v78 + 40) = 12;
            (*v78)(a1);
          }

          *v27 = v74;
          v27[1] = v73;
          goto LABEL_3;
        }

        while (1)
        {
          if (!v73)
          {
            result = (v27[3])(a1);
            if (!result)
            {
              return result;
            }

            v74 = *v27;
            v73 = v27[1];
          }

          v80 = *v74;
          v81 = v80 & 0xF;
          v82 = *a1;
          *(v82 + 40) = 83;
          *(v82 + 44) = v80 & 0xF;
          *(*a1 + 48) = v80 >> 4;
          (*(*a1 + 8))(a1, 1);
          if ((v80 & 0xF) < 4)
          {
            v84 = *(v331 + 8 * v81);
            if (!v84)
            {
LABEL_104:
              v84 = sub_10039D494(a1);
              *(v331 + 8 * v81) = v84;
              v333 = v77 - 1;
              if (v80 >= 0x10)
              {
                goto LABEL_105;
              }

              goto LABEL_113;
            }
          }

          else
          {
            v83 = *a1;
            *(v83 + 40) = 32;
            *(v83 + 44) = v81;
            (**a1)(a1);
            v84 = *(v331 + 8 * v81);
            if (!v84)
            {
              goto LABEL_104;
            }
          }

          v333 = v77 - 1;
          if (v80 >= 0x10)
          {
LABEL_105:
            if (v77 > 0x80)
            {
              goto LABEL_119;
            }

            memset_pattern16(v84, &unk_1003EC8D0, 0x80uLL);
            v85 = v333 >> 1;
            if (v333 >> 1 <= 0x18)
            {
              goto LABEL_107;
            }

            goto LABEL_115;
          }

LABEL_113:
          if (v77 > 0x40)
          {
LABEL_119:
            --v73;
            ++v74;
            v86 = &unk_1003ECC10;
            v85 = 64;
            if (v80 >= 0x10)
            {
              goto LABEL_134;
            }

LABEL_120:
            for (j = 0; j != v85; ++j)
            {
              if (!v73)
              {
                result = (v27[3])(a1);
                if (!result)
                {
                  return result;
                }

                v74 = *v27;
                v73 = v27[1];
              }

              v88 = *v74++;
              v84->i16[v86[j]] = v88;
              --v73;
            }

LABEL_143:
            v2 = v332;
            goto LABEL_144;
          }

          memset_pattern16(v84, &unk_1003EC8D0, 0x80uLL);
          v85 = v333;
          if (v333 <= 24)
          {
LABEL_107:
            switch(v85)
            {
              case 4:
                v86 = &unk_1003ED0AC;
                goto LABEL_133;
              case 9:
                v86 = &unk_1003ED048;
                goto LABEL_133;
              case 16:
                v86 = &unk_1003ECFC8;
                goto LABEL_133;
            }

            goto LABEL_128;
          }

LABEL_115:
          switch(v85)
          {
            case 25:
              v86 = &unk_1003ECF24;
              goto LABEL_133;
            case 36:
              v86 = &unk_1003ECE54;
LABEL_133:
              --v73;
              ++v74;
              if (v80 >= 0x10)
              {
LABEL_134:
                v89 = 0;
                while (1)
                {
                  if (v73)
                  {
                    v93 = *v74;
                    v91 = v74 + 1;
                    v92 = v93;
                    v94 = v73 - 1;
                    if (v73 != 1)
                    {
                      goto LABEL_135;
                    }
                  }

                  else
                  {
                    result = (v27[3])(a1);
                    if (!result)
                    {
                      return result;
                    }

                    v95 = v27[1];
                    v91 = *v27 + 1;
                    v92 = **v27;
                    v94 = v95 - 1;
                    if (v95 != 1)
                    {
                      goto LABEL_135;
                    }
                  }

                  result = (v27[3])(a1);
                  if (!result)
                  {
                    return result;
                  }

                  v91 = *v27;
                  v94 = v27[1];
LABEL_135:
                  v90 = *v91;
                  v74 = v91 + 1;
                  v84->i16[v86[v89++]] = (v92 << 8) | v90;
                  v73 = v94 - 1;
                  if (v85 == v89)
                  {
                    goto LABEL_143;
                  }
                }
              }

              goto LABEL_120;
            case 49:
              v86 = &unk_1003ECD50;
              goto LABEL_133;
          }

LABEL_128:
          --v73;
          ++v74;
          if (v85)
          {
            v86 = &unk_1003ECC10;
            if (v80 >= 0x10)
            {
              goto LABEL_134;
            }

            goto LABEL_120;
          }

LABEL_144:
          v96 = *a1;
          if (*(*a1 + 124) >= 2)
          {
            v97 = v84[1];
            *(v96 + 44) = vmovl_u16(*v84);
            *(v96 + 60) = vmovl_u16(v97);
            *(v96 + 40) = 95;
            (*(v96 + 8))(a1, 2);
            v98 = *a1;
            v99 = v84[3];
            *(v98 + 44) = vmovl_u16(v84[2]);
            *(v98 + 60) = vmovl_u16(v99);
            *(v98 + 40) = 95;
            (*(v98 + 8))(a1, 2);
            v100 = *a1;
            v101 = v84[5];
            *(v100 + 44) = vmovl_u16(v84[4]);
            *(v100 + 60) = vmovl_u16(v101);
            *(v100 + 40) = 95;
            (*(v100 + 8))(a1, 2);
            v102 = *a1;
            v103 = v84[7];
            *(v102 + 44) = vmovl_u16(v84[6]);
            *(v102 + 60) = vmovl_u16(v103);
            *(v102 + 40) = 95;
            (*(v102 + 8))(a1, 2);
            v104 = *a1;
            v105 = v84[9];
            *(v104 + 44) = vmovl_u16(v84[8]);
            *(v104 + 60) = vmovl_u16(v105);
            *(v104 + 40) = 95;
            (*(v104 + 8))(a1, 2);
            v106 = *a1;
            v107 = v84[11];
            *(v106 + 44) = vmovl_u16(v84[10]);
            *(v106 + 60) = vmovl_u16(v107);
            *(v106 + 40) = 95;
            (*(v106 + 8))(a1, 2);
            v108 = *a1;
            v109 = v84[13];
            *(v108 + 44) = vmovl_u16(v84[12]);
            *(v108 + 60) = vmovl_u16(v109);
            *(v108 + 40) = 95;
            (*(v108 + 8))(a1, 2);
            v110 = *a1;
            v111 = v84[15];
            *(v110 + 44) = vmovl_u16(v84[14]);
            *(v110 + 60) = vmovl_u16(v111);
            *(v110 + 40) = 95;
            (*(v110 + 8))(a1, 2);
          }

          if (v80 >= 0x10)
          {
            v79 = v85;
          }

          else
          {
            v79 = 0;
          }

          v77 = v333 - v85 - v79;
          if (v77 <= 0)
          {
            goto LABEL_92;
          }
        }

      case 219:
        v47 = *(a1 + 40);
        v48 = v47[1];
        if (v48)
        {
          v50 = *v47 + 1;
          v49 = **v47;
          v51 = (v48 - 1);
          if (v51)
          {
            goto LABEL_155;
          }
        }

        else
        {
          result = (v47[3])(a1);
          if (!result)
          {
            return result;
          }

          v50 = *v47 + 1;
          v49 = **v47;
          v51 = (v47[1] - 1);
          if (v47[1] != 1)
          {
            goto LABEL_155;
          }
        }

        result = (v47[3])(a1);
        if (!result)
        {
          return result;
        }

        v50 = *v47;
        v51 = v47[1];
LABEL_155:
        v113 = (v51 - 1);
        v114 = (v49 << 8) | *v50;
        v115 = *a1;
        v116 = *(a1 + 540);
        *(v115 + 40) = 93;
        *(v115 + 44) = v116;
        *(*a1 + 48) = v114 - 2;
        (*(*a1 + 8))(a1, 1);
        *v47 = v50 + 1;
        v47[1] = v113;
        if (v114 >= 3)
        {
          (*(*(a1 + 40) + 32))(a1, v114 - 2);
        }

        goto LABEL_3;
      case 220:
        v32 = *(a1 + 40);
        v33 = v32[1];
        if (v33)
        {
          v34 = *v32 + 1;
          v35 = **v32;
          v36 = v33 - 1;
          if (v33 != 1)
          {
            goto LABEL_36;
          }
        }

        else
        {
          result = (v32[3])(a1);
          if (!result)
          {
            return result;
          }

          v112 = v32[1];
          v34 = *v32 + 1;
          v35 = **v32;
          v36 = v112 - 1;
          if (v112 != 1)
          {
LABEL_36:
            v38 = *v34;
            v37 = v34 + 1;
            if (((v35 << 8) | v38) == 4)
            {
              goto LABEL_38;
            }

            goto LABEL_37;
          }
        }

        result = (v32[3])(a1);
        if (!result)
        {
          return result;
        }

        v36 = v32[1];
        v37 = *v32 + 1;
        if (((v35 << 8) | **v32) == 4)
        {
LABEL_38:
          v40 = v36 - 1;
          if (v36 == 1)
          {
            result = (v32[3])(a1);
            if (!result)
            {
              return result;
            }

            v41 = *v32 + 1;
            v42 = **v32;
            v44 = (v32[1] - 1);
            if (v32[1] == 1)
            {
              goto LABEL_253;
            }
          }

          else
          {
            v43 = *v37;
            v41 = v37 + 1;
            v42 = v43;
            v44 = (v40 - 1);
            if (!v44)
            {
LABEL_253:
              result = (v32[3])(a1);
              if (!result)
              {
                return result;
              }

              v41 = *v32;
              v44 = v32[1];
            }
          }

          v217 = v42 << 8;
          v218 = (v44 - 1);
          v219 = v217 | *v41;
          v220 = *a1;
          *(v220 + 40) = 84;
          *(v220 + 44) = v219;
          (*(*a1 + 8))(a1, 1);
          *(a1 + 348) = v219;
          *v32 = v41 + 1;
          v32[1] = v218;
          goto LABEL_3;
        }

LABEL_37:
        v39 = *a1;
        *(v39 + 40) = 12;
        (*v39)(a1);
        goto LABEL_38;
      case 223:
      case 224:
      case 225:
      case 226:
      case 227:
      case 228:
      case 229:
      case 230:
      case 231:
      case 232:
      case 233:
      case 234:
      case 235:
      case 236:
      case 237:
      case 238:
        result = (*(*(a1 + 584) + 8 * (v3 - 224) + 48))(a1);
        if (result)
        {
          goto LABEL_3;
        }

        return result;
      case 247:
        v52 = *(a1 + 40);
        v53 = *v52;
        v54 = v52[1];
        if (*(*(a1 + 584) + 25))
        {
          if (*(a1 + 56) < 3)
          {
            goto LABEL_338;
          }
        }

        else
        {
          v117 = *a1;
          *(v117 + 40) = 60;
          *(v117 + 60) = unk_1003EC881;
          *(v117 + 76) = xmmword_1003EC891;
          *(v117 + 92) = unk_1003EC8A1;
          *(v117 + 108) = xmmword_1003EC8B1;
          *(v117 + 44) = xmmword_1003EC871;
          (**a1)(a1);
          if (*(a1 + 56) < 3)
          {
            goto LABEL_338;
          }
        }

        if (v54)
        {
          v120 = *v53;
          v118 = v53 + 1;
          v119 = v120;
          v121 = v54 - 1;
          if (v121)
          {
            goto LABEL_160;
          }
        }

        else
        {
          result = (v52[3])(a1);
          if (!result)
          {
            return result;
          }

          v118 = *v52 + 1;
          v119 = **v52;
          v121 = (v52[1] - 1);
          if (v52[1] != 1)
          {
LABEL_160:
            v123 = *v118;
            v122 = v118 + 1;
            if (((v119 << 8) | v123) == 0x18)
            {
              goto LABEL_162;
            }

            goto LABEL_161;
          }
        }

        result = (v52[3])(a1);
        if (!result)
        {
          return result;
        }

        v121 = v52[1];
        v122 = *v52 + 1;
        if (((v119 << 8) | **v52) == 0x18)
        {
LABEL_162:
          v125 = (v121 - 1);
          if (!v125)
          {
            result = (v52[3])(a1);
            if (!result)
            {
              return result;
            }

            v122 = *v52;
            v125 = v52[1];
          }

          v127 = *v122;
          v126 = v122 + 1;
          if (v127 != 13)
          {
            v128 = *a1;
            v129 = *(a1 + 540);
            *(v128 + 40) = 70;
            *(v128 + 44) = v129;
            (**a1)(a1);
          }

          v130 = v125 - 1;
          if (v125 == 1)
          {
            result = (v52[3])(a1);
            if (!result)
            {
              return result;
            }

            v131 = *v52 + 1;
            v132 = **v52;
            v134 = (v52[1] - 1);
            if (v52[1] != 1)
            {
LABEL_169:
              v135 = v132 << 8;
              v54 = v134 - 1;
              v136 = *v131;
              v53 = v131 + 1;
              if ((v135 | v136) != 0xFF)
              {
                goto LABEL_338;
              }

LABEL_265:
              if (v54)
              {
                --v54;
                v222 = *v53++;
                if (v222 != 3)
                {
                  goto LABEL_338;
                }
              }

              else
              {
                result = (v52[3])(a1);
                if (!result)
                {
                  return result;
                }

                v54 = (v52[1] - 1);
                v53 = *v52 + 1;
                if (**v52 != 3)
                {
                  goto LABEL_338;
                }
              }

              if (!v54)
              {
                result = (v52[3])(a1);
                if (!result)
                {
                  return result;
                }

                v53 = *v52;
                v54 = v52[1];
              }

              --v54;
              v223 = *v53++;
              v224 = *(a1 + 288);
              if (v224[24] == v223)
              {
                if (!v54)
                {
                  result = (v52[3])(a1);
                  if (!result)
                  {
                    return result;
                  }

                  v53 = *v52;
                  v54 = v52[1];
                  v224 = *(a1 + 288);
                }

                --v54;
                v225 = *v53++;
                if (*v224 == v225)
                {
                  if (!v54)
                  {
                    result = (v52[3])(a1);
                    if (!result)
                    {
                      return result;
                    }

                    v53 = *v52;
                    v54 = v52[1];
                    v224 = *(a1 + 288);
                  }

                  --v54;
                  v226 = *v53++;
                  if (v224[48] == v226)
                  {
                    if (!v54)
                    {
                      result = (v52[3])(a1);
                      if (!result)
                      {
                        return result;
                      }

                      v53 = *v52;
                      v54 = v52[1];
                    }

                    --v54;
                    v227 = *v53++;
                    if (v227 == 128)
                    {
                      if (!v54)
                      {
                        result = (v52[3])(a1);
                        if (!result)
                        {
                          return result;
                        }

                        v53 = *v52;
                        v54 = v52[1];
                      }

                      v230 = *v53;
                      v228 = v53 + 1;
                      v229 = v230;
                      v231 = (v54 - 1);
                      if (v54 == 1)
                      {
                        result = (v52[3])(a1);
                        if (!result)
                        {
                          return result;
                        }

                        v228 = *v52;
                        v231 = v52[1];
                      }

                      v54 = (v231 - 1);
                      v232 = *v228;
                      v53 = v228 + 1;
                      if (!((v229 << 8) | v232))
                      {
                        if (v231 == 1)
                        {
                          result = (v52[3])(a1);
                          if (!result)
                          {
                            return result;
                          }

                          v53 = *v52;
                          v54 = v52[1];
                        }

                        v235 = *v53;
                        v233 = v53 + 1;
                        v234 = v235;
                        v236 = (v54 - 1);
                        if (v54 == 1)
                        {
                          result = (v52[3])(a1);
                          if (!result)
                          {
                            return result;
                          }

                          v233 = *v52;
                          v236 = v52[1];
                        }

                        v54 = (v236 - 1);
                        v237 = *v233;
                        v53 = v233 + 1;
                        if (!((v234 << 8) | v237))
                        {
                          if (v236 == 1)
                          {
                            result = (v52[3])(a1);
                            if (!result)
                            {
                              return result;
                            }

                            v53 = *v52;
                            v54 = v52[1];
                          }

                          --v54;
                          if (!*v53++)
                          {
                            if (!v54)
                            {
                              result = (v52[3])(a1);
                              if (!result)
                              {
                                return result;
                              }

                              v53 = *v52;
                              v54 = v52[1];
                            }

                            v241 = *v53;
                            v239 = v53 + 1;
                            v240 = v241;
                            v242 = (v54 - 1);
                            if (v54 == 1)
                            {
                              result = (v52[3])(a1);
                              if (!result)
                              {
                                return result;
                              }

                              v239 = *v52;
                              v242 = v52[1];
                            }

                            v54 = (v242 - 1);
                            v243 = *v239;
                            v53 = v239 + 1;
                            if (((v240 << 8) | v243) != 1)
                            {
                              goto LABEL_337;
                            }

                            if (v242 == 1)
                            {
                              result = (v52[3])(a1);
                              if (!result)
                              {
                                return result;
                              }

                              v53 = *v52;
                              v54 = v52[1];
                            }

                            v246 = *v53;
                            v244 = v53 + 1;
                            v245 = v246;
                            v247 = (v54 - 1);
                            if (v54 == 1)
                            {
                              result = (v52[3])(a1);
                              if (!result)
                              {
                                return result;
                              }

                              v244 = *v52;
                              v247 = v52[1];
                            }

                            v54 = (v247 - 1);
                            v248 = *v244;
                            v53 = v244 + 1;
                            if ((v245 << 8) | v248)
                            {
                              goto LABEL_337;
                            }

                            if (v247 == 1)
                            {
                              result = (v52[3])(a1);
                              if (!result)
                              {
                                return result;
                              }

                              v53 = *v52;
                              v54 = v52[1];
                            }

                            --v54;
                            if (*v53++)
                            {
                              goto LABEL_337;
                            }

                            if (!v54)
                            {
                              result = (v52[3])(a1);
                              if (!result)
                              {
                                return result;
                              }

                              v53 = *v52;
                              v54 = v52[1];
                            }

                            v252 = *v53;
                            v250 = v53 + 1;
                            v251 = v252;
                            v253 = (v54 - 1);
                            if (v54 == 1)
                            {
                              result = (v52[3])(a1);
                              if (!result)
                              {
                                return result;
                              }

                              v250 = *v52;
                              v253 = v52[1];
                            }

                            v54 = (v253 - 1);
                            v254 = *v250;
                            v53 = v250 + 1;
                            if (((v251 << 8) | v254) != 1)
                            {
LABEL_337:
                              v2 = v332;
                            }

                            else
                            {
                              if (v253 == 1)
                              {
                                result = (v52[3])(a1);
                                if (!result)
                                {
                                  return result;
                                }

                                v53 = *v52;
                                v54 = v52[1];
                              }

                              v257 = *v53;
                              v255 = v53 + 1;
                              v256 = v257;
                              v258 = (v54 - 1);
                              if (v54 == 1)
                              {
                                result = (v52[3])(a1);
                                if (!result)
                                {
                                  return result;
                                }

                                v255 = *v52;
                                v258 = v52[1];
                              }

                              v54 = (v258 - 1);
                              v259 = *v255;
                              v53 = v255 + 1;
                              v2 = v332;
                              if (!((v256 << 8) | v259))
                              {
LABEL_339:
                                *(a1 + 364) = 1;
                                *v52 = v53;
                                v52[1] = v54;
                                goto LABEL_3;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }

LABEL_338:
              v260 = *a1;
              *(v260 + 40) = 28;
              (*v260)(a1);
              goto LABEL_339;
            }
          }

          else
          {
            v133 = *v126;
            v131 = v126 + 1;
            v132 = v133;
            v134 = (v130 - 1);
            if (v134)
            {
              goto LABEL_169;
            }
          }

          result = (v52[3])(a1);
          if (!result)
          {
            return result;
          }

          v221 = v132 << 8;
          v54 = (v52[1] - 1);
          v53 = *v52 + 1;
          if ((v221 | **v52) != 0xFF)
          {
            goto LABEL_338;
          }

          goto LABEL_265;
        }

LABEL_161:
        v124 = *a1;
        *(v124 + 40) = 12;
        (*v124)(a1);
        goto LABEL_162;
      case 253:
        result = (*(*(a1 + 584) + 40))(a1);
        if (result)
        {
          goto LABEL_3;
        }

        return result;
      default:
        goto LABEL_26;
    }
  }
}

uint64_t sub_1003B1C60(uint64_t *a1)
{
  v2 = *(a1 + 135);
  if (!v2)
  {
    result = sub_1003AFA7C(a1);
    if (!result)
    {
      return result;
    }

    v3 = *(a1[73] + 28);
    if (*(a1 + 135) == v3 + 208)
    {
      goto LABEL_3;
    }

LABEL_6:
    result = (*(a1[5] + 40))(a1);
    if (!result)
    {
      return result;
    }

    goto LABEL_7;
  }

  v3 = *(a1[73] + 28);
  if (v2 != v3 + 208)
  {
    goto LABEL_6;
  }

LABEL_3:
  v4 = *a1;
  *(v4 + 40) = 100;
  *(v4 + 44) = v3;
  (*(*a1 + 8))(a1, 3);
  *(a1 + 135) = 0;
LABEL_7:
  *(a1[73] + 28) = (*(a1[73] + 28) + 1) & 7;
  return 1;
}

uint64_t sub_1003B1D14(void *a1)
{
  v2 = a1[5];
  v3 = v2[1];
  if (v3)
  {
    v5 = *v2 + 1;
    v4 = **v2;
    v6 = (v3 - 1);
    if (v6)
    {
      goto LABEL_8;
    }
  }

  else
  {
    if (!(v2[3])(a1))
    {
      return 0;
    }

    v5 = *v2 + 1;
    v4 = **v2;
    v6 = (v2[1] - 1);
    if (v2[1] != 1)
    {
      goto LABEL_8;
    }
  }

  if (!(v2[3])(a1))
  {
    return 0;
  }

  v5 = *v2;
  v6 = v2[1];
LABEL_8:
  v7 = (v6 - 1);
  v8 = (v4 << 8) | *v5;
  v9 = *a1;
  v10 = *(a1 + 135);
  *(v9 + 40) = 93;
  *(v9 + 44) = v10;
  *(*a1 + 48) = v8 - 2;
  v11 = 1;
  (*(*a1 + 8))(a1, 1);
  *v2 = v5 + 1;
  v2[1] = v7;
  if (v8 >= 3)
  {
    (*(a1[5] + 32))(a1, v8 - 2);
  }

  return v11;
}

uint64_t sub_1003B1E10(uint64_t *a1, uint8x8_t a2)
{
  v3 = a1[5];
  v4 = v3[1];
  if (v4)
  {
    v6 = *v3 + 1;
    v5 = **v3;
    v7 = (v4 - 1);
    if (v7)
    {
      goto LABEL_8;
    }
  }

  else
  {
    result = (v3[3])(a1);
    if (!result)
    {
      return result;
    }

    v6 = *v3 + 1;
    v5 = **v3;
    v7 = (v3[1] - 1);
    if (v3[1] != 1)
    {
      goto LABEL_8;
    }
  }

  result = (v3[3])(a1);
  if (!result)
  {
    return result;
  }

  v6 = *v3;
  v7 = v3[1];
LABEL_8:
  v10 = *v6;
  v9 = v6 + 1;
  v11 = (v5 << 8) | v10;
  v12 = v11 - 2;
  if (v11 <= 2)
  {
    v13 = 0;
  }

  else
  {
    v13 = v11 - 2;
  }

  if (v11 <= 0xF)
  {
    v14 = v13;
  }

  else
  {
    v14 = 14;
  }

  v15 = (v7 - 1);
  if (!v14)
  {
    v19 = *(a1 + 135);
    if (v19 != 238)
    {
      goto LABEL_21;
    }

LABEL_25:
    if (v14 >= 0xC && (a2.i32[0] = v27, v20 = vmovl_u8(a2).u64[0], vuzp1_s8(v20, v20).u32[0] == 1651467329) && v28 == 101)
    {
      v21 = __rev16(v29);
      v22 = __rev16(v31);
      v23 = v32;
      v24 = *a1;
      *(v24 + 48) = __rev16(v30);
      *(v24 + 52) = v22;
      *(v24 + 56) = v23;
      *(v24 + 40) = 78;
      *(v24 + 44) = v21;
      (*(v24 + 8))(a1, 1);
      *(a1 + 360) = 1;
      *(a1 + 361) = v23;
      *v3 = v9;
      v3[1] = v15;
      if (v12 < 1)
      {
        return 1;
      }
    }

    else
    {
      v26 = *a1;
      *(v26 + 40) = 80;
      *(v26 + 44) = v14 + v12;
      (*(*a1 + 8))(a1, 1);
      *v3 = v9;
      v3[1] = v15;
      if (v12 < 1)
      {
        return 1;
      }
    }

    goto LABEL_31;
  }

  v16 = &v27;
  v17 = v14;
  do
  {
    if (!v15)
    {
      result = (v3[3])(a1);
      if (!result)
      {
        return result;
      }

      v9 = *v3;
      v15 = v3[1];
    }

    v18 = *v9++;
    *v16 = v18;
    v16 = (v16 + 1);
    --v15;
    --v17;
  }

  while (v17);
  v12 -= v14;
  v19 = *(a1 + 135);
  if (v19 == 238)
  {
    goto LABEL_25;
  }

LABEL_21:
  if (v19 == 224)
  {
    sub_1003B25A0(a1, &v27, v14, v12);
    *v3 = v9;
    v3[1] = v15;
    if (v12 < 1)
    {
      return 1;
    }

    goto LABEL_31;
  }

  v25 = *a1;
  *(v25 + 40) = 70;
  *(v25 + 44) = v19;
  (**a1)(a1);
  *v3 = v9;
  v3[1] = v15;
  if (v12 >= 1)
  {
LABEL_31:
    (*(a1[5] + 32))(a1, v12);
  }

  return 1;
}

uint64_t sub_1003B2088(uint64_t *a1, char a2, char a3, char a4)
{
  v5 = a1[5];
  v7 = *v5;
  v6 = v5[1];
  *(a1 + 296) = a2;
  *(a1 + 297) = a3;
  *(a1 + 298) = a4;
  if (v6)
  {
    v10 = *v7;
    v8 = v7 + 1;
    v9 = v10;
    v11 = (v6 - 1);
    if (v11)
    {
      goto LABEL_3;
    }
  }

  else
  {
    result = (v5[3])(a1);
    if (!result)
    {
      return result;
    }

    v8 = *v5 + 1;
    v9 = **v5;
    v11 = (v5[1] - 1);
    if (v5[1] != 1)
    {
LABEL_3:
      v14 = *v8;
      v12 = v8 + 1;
      v13 = v14;
      v15 = v11 - 1;
      if (v15)
      {
        goto LABEL_4;
      }

      goto LABEL_14;
    }
  }

  result = (v5[3])(a1);
  if (!result)
  {
    return result;
  }

  v12 = *v5 + 1;
  v13 = **v5;
  v15 = (v5[1] - 1);
  if (v5[1] != 1)
  {
LABEL_4:
    v17 = *v12;
    v16 = v12 + 1;
    *(a1 + 70) = v17;
    v18 = v15 - 1;
    if (v18)
    {
      goto LABEL_5;
    }

    goto LABEL_16;
  }

LABEL_14:
  result = (v5[3])(a1);
  if (!result)
  {
    return result;
  }

  v34 = v5[1];
  v16 = *v5 + 1;
  *(a1 + 70) = **v5;
  v18 = (v34 - 1);
  if (v18)
  {
LABEL_5:
    v20 = *v16;
    v19 = v16 + 1;
    v21 = v20 << 8;
    *(a1 + 13) = v20 << 8;
    v22 = (v18 - 1);
    if (v22)
    {
      goto LABEL_6;
    }

    goto LABEL_18;
  }

LABEL_16:
  result = (v5[3])(a1);
  if (!result)
  {
    return result;
  }

  v35 = v5[1];
  v19 = *v5 + 1;
  v21 = **v5 << 8;
  *(a1 + 13) = v21;
  v22 = v35 - 1;
  if (v22)
  {
LABEL_6:
    v24 = *v19;
    v23 = v19 + 1;
    *(a1 + 13) = v21 + v24;
    v25 = v22 - 1;
    if (v25)
    {
      goto LABEL_7;
    }

    goto LABEL_20;
  }

LABEL_18:
  result = (v5[3])(a1);
  if (!result)
  {
    return result;
  }

  v36 = v5[1];
  v23 = *v5 + 1;
  *(a1 + 13) += **v5;
  v25 = v36 - 1;
  if (v25)
  {
LABEL_7:
    v27 = *v23;
    v26 = v23 + 1;
    v28 = v27 << 8;
    *(a1 + 12) = v27 << 8;
    v29 = v25 - 1;
    if (v29)
    {
      goto LABEL_8;
    }

LABEL_22:
    result = (v5[3])(a1);
    if (!result)
    {
      return result;
    }

    v38 = v5[1];
    v30 = *v5 + 1;
    *(a1 + 12) += **v5;
    v32 = v38 - 1;
    if (v38 != 1)
    {
      goto LABEL_26;
    }

    goto LABEL_24;
  }

LABEL_20:
  result = (v5[3])(a1);
  if (!result)
  {
    return result;
  }

  v37 = v5[1];
  v26 = *v5 + 1;
  v28 = **v5 << 8;
  *(a1 + 12) = v28;
  v29 = v37 - 1;
  if (!v29)
  {
    goto LABEL_22;
  }

LABEL_8:
  v31 = *v26;
  v30 = v26 + 1;
  *(a1 + 12) = v28 + v31;
  v32 = v29 - 1;
  if (v29 != 1)
  {
    goto LABEL_26;
  }

LABEL_24:
  result = (v5[3])(a1);
  if (!result)
  {
    return result;
  }

  v30 = *v5;
  v32 = v5[1];
LABEL_26:
  v39 = (v9 << 8) | v13;
  *(a1 + 14) = *v30;
  v40 = *a1;
  *(v40 + 44) = *(a1 + 135);
  *(v40 + 48) = *(a1 + 12);
  *(v40 + 52) = *(a1 + 13);
  *(v40 + 56) = *(a1 + 14);
  *(v40 + 40) = 102;
  (*(v40 + 8))(a1, 1);
  if (*(a1[73] + 25))
  {
    v41 = *a1;
    *(v41 + 40) = 61;
    (*v41)(a1);
  }

  v42 = v39 - 8;
  if (*(a1 + 13) && *(a1 + 12) && (v43 = *(a1 + 14), v43 > 0))
  {
    if (v42 == 3 * v43)
    {
      goto LABEL_32;
    }
  }

  else
  {
    v46 = *a1;
    *(v46 + 40) = 33;
    (*v46)(a1);
    v43 = *(a1 + 14);
    if (v42 == 3 * v43)
    {
LABEL_32:
      if (a1[36])
      {
        goto LABEL_33;
      }

      goto LABEL_37;
    }
  }

  v47 = *a1;
  *(v47 + 40) = 12;
  (*v47)(a1);
  v43 = *(a1 + 14);
  if (a1[36])
  {
LABEL_33:
    v44 = v30 + 1;
    v45 = v32 - 1;
    if (v43 < 1)
    {
      goto LABEL_75;
    }

    goto LABEL_38;
  }

LABEL_37:
  a1[36] = (*a1[1])(a1, 1, 96 * v43);
  v44 = v30 + 1;
  v45 = v32 - 1;
  if (*(a1 + 14) >= 1)
  {
LABEL_38:
    v48 = 0;
    v49 = 0;
    v50 = -1;
    do
    {
      if (v45)
      {
        v57 = *v44;
        v56 = v44 + 1;
        v55 = v57;
        v58 = a1[36];
        if (v49)
        {
          goto LABEL_48;
        }
      }

      else
      {
        result = (v5[3])(a1);
        if (!result)
        {
          return result;
        }

        v45 = v5[1];
        v56 = *v5 + 1;
        v55 = **v5;
        v58 = a1[36];
        if (v49)
        {
LABEL_48:
          v61 = v50 & 0xFFFFFFFE;
          v62 = v49 - 1;
          v63 = v49;
          v64 = v58;
          while (*v64 != v55)
          {
            v64 += 24;
            if (!--v63)
            {
              v58 = v64;
              *v64 = v55;
              v64[1] = v49;
              v59 = v45 - 1;
              if (v59)
              {
                goto LABEL_44;
              }

              goto LABEL_71;
            }
          }

          v65 = v58 + 24;
          v66 = *v58;
          if (v49 != 1)
          {
            if (v49 < 3)
            {
              v67 = 1;
              goto LABEL_65;
            }

            v65 += 24 * (v62 & 0xFFFFFFFE);
            v67 = v62 | 1;
            v68 = v58 + 48;
            v69 = *v58;
            do
            {
              v70 = *(v68 - 24);
              v72 = *v68;
              v68 += 48;
              v71 = v72;
              if (v70 > v66)
              {
                v66 = v70;
              }

              if (v71 > v69)
              {
                v69 = v71;
              }

              v61 -= 2;
            }

            while (v61);
            if (v66 <= v69)
            {
              v66 = v69;
            }

            if ((v62 & 0xFFFFFFFE) != v62)
            {
LABEL_65:
              v73 = v67 + v48;
              do
              {
                v75 = *v65;
                v65 += 24;
                v74 = v75;
                if (v75 > v66)
                {
                  v66 = v74;
                }
              }

              while (!__CFADD__(v73++, 1));
            }
          }

          v58 = v65;
          *v65 = v66 + 1;
          v65[1] = v49;
          v59 = v45 - 1;
          if (v59)
          {
            goto LABEL_44;
          }

LABEL_71:
          result = (v5[3])(a1);
          if (!result)
          {
            return result;
          }

          v77 = v5[1];
          v51 = *v5 + 1;
          v78 = **v5;
          v58[2] = v78 >> 4;
          v58[3] = v78 & 0xF;
          v52 = v77 - 1;
          if (v77 != 1)
          {
            goto LABEL_40;
          }

          goto LABEL_73;
        }
      }

      *v58 = v55;
      v58[1] = v49;
      v59 = v45 - 1;
      if (!v59)
      {
        goto LABEL_71;
      }

LABEL_44:
      v60 = *v56;
      v51 = v56 + 1;
      v58[2] = v60 >> 4;
      v58[3] = v60 & 0xF;
      v52 = v59 - 1;
      if (v59 != 1)
      {
        goto LABEL_40;
      }

LABEL_73:
      result = (v5[3])(a1);
      if (!result)
      {
        return result;
      }

      v51 = *v5;
      v52 = v5[1];
LABEL_40:
      v53 = *v51;
      v44 = v51 + 1;
      v58[4] = v53;
      v54 = *a1;
      *(v54 + 44) = *v58;
      *(v54 + 48) = v58[2];
      *(v54 + 52) = v58[3];
      *(v54 + 56) = v58[4];
      *(v54 + 40) = 103;
      (*(v54 + 8))(a1, 1);
      ++v49;
      v45 = v52 - 1;
      ++v50;
      --v48;
    }

    while (v49 < *(a1 + 14));
  }

LABEL_75:
  result = 1;
  *(a1[73] + 25) = 1;
  *v5 = v44;
  v5[1] = v45;
  return result;
}

uint64_t sub_1003B25A0(uint64_t *a1, uint64_t a2, unsigned int a3, uint64_t a4)
{
  v4 = a4 + a3;
  if (a3 < 0xE)
  {
    if (a3 < 6 || *a2 != 74)
    {
      goto LABEL_19;
    }

    goto LABEL_15;
  }

  if (*a2 != 74)
  {
    goto LABEL_19;
  }

  if (*(a2 + 1) != 70 || *(a2 + 2) != 73 || *(a2 + 3) != 70 || *(a2 + 4))
  {
LABEL_15:
    if (*(a2 + 1) == 70 && *(a2 + 2) == 88 && *(a2 + 3) == 88 && !*(a2 + 4))
    {
      v21 = *(a2 + 5);
      v18 = *a1;
      switch(v21)
      {
        case 19:
          v19 = 112;
          break;
        case 17:
          v19 = 111;
          break;
        case 16:
          v19 = 110;
          break;
        default:
          *(v18 + 40) = 91;
          *(v18 + 44) = *(a2 + 5);
          *(*a1 + 48) = v4;
          goto LABEL_21;
      }

      goto LABEL_20;
    }

LABEL_19:
    v18 = *a1;
    v19 = 79;
LABEL_20:
    *(v18 + 40) = v19;
    *(v18 + 44) = v4;
LABEL_21:
    v20 = *(*a1 + 8);

    return v20();
  }

  *(a1 + 352) = 1;
  v5 = *(a2 + 5);
  *(a1 + 353) = v5;
  v6 = *(a2 + 6);
  *(a1 + 354) = v6;
  v7 = *(a2 + 7);
  *(a1 + 355) = v7;
  v8 = bswap32(*(a2 + 8)) >> 16;
  *(a1 + 178) = v8;
  v10 = bswap32(*(a2 + 10)) >> 16;
  *(a1 + 179) = v10;
  v11 = a1;
  if ((v5 - 1) >= 2)
  {
    v12 = *a1;
    *(v12 + 40) = 122;
    *(v12 + 44) = v5;
    *(*a1 + 48) = *(a1 + 354);
    (*(*a1 + 8))(a1, 0xFFFFFFFFLL);
    a1 = v11;
    v5 = *(v11 + 353);
    v6 = *(v11 + 354);
    v8 = *(v11 + 178);
    v10 = *(v11 + 179);
    v7 = *(v11 + 355);
  }

  v13 = *a1;
  *(v13 + 48) = v6;
  *(v13 + 52) = v8;
  *(v13 + 56) = v10;
  *(v13 + 60) = v7;
  *(v13 + 40) = 89;
  *(v13 + 44) = v5;
  result = (*(v13 + 8))(a1, 1);
  v15 = *(a2 + 12);
  v16 = *(a2 + 13);
  if (v16 | v15)
  {
    v17 = *v11;
    *(v17 + 40) = 92;
    *(v17 + 44) = *(a2 + 12);
    *(*v11 + 48) = *(a2 + 13);
    result = (*(*v11 + 8))(v11, 1);
    v15 = *(a2 + 12);
    v16 = *(a2 + 13);
  }

  if (v4 - 14 != 3 * v15 * v16)
  {
    a1 = v11;
    v22 = *v11;
    *(v22 + 40) = 90;
    *(v22 + 44) = v4 - 14;
    goto LABEL_21;
  }

  return result;
}

BOOL sub_1003B2804(uint64_t a1)
{
  v2 = *(a1 + 36);
  if (v2 != 202)
  {
    v3 = *a1;
    *(v3 + 10) = 21;
    *(v3 + 11) = v2;
    (**a1)(a1);
  }

  sub_1003AE068(a1);
  v4 = *(a1 + 56);
  if (v4 >= 1)
  {
    v5 = *(a1 + 288);
    v6 = *(a1 + 392);
    if (*(a1 + 96))
    {
      v7 = 8;
    }

    else
    {
      v7 = 4;
    }

    v8 = *(a1 + 396);
    if (v6 <= v7)
    {
      v13 = *(a1 + 384);
      if (v8 > v7)
      {
        v14 = 0;
        v15 = 2 * v8;
        v16 = *(a1 + 288);
        do
        {
          v17 = 2 * v16[2];
          v18 = v6;
          if (!(v13 % v17))
          {
            v19 = 2;
            do
            {
              v18 = v6 * v19;
              if (v6 * v19 > v7)
              {
                break;
              }

              v20 = v13 % (v19 * v17);
              v19 *= 2;
            }

            while (!v20);
          }

          v16[9] = v18;
          v16[10] = v8;
          if (v18 > v15)
          {
            v16[9] = v15;
          }

          else
          {
            v21 = 2 * v18;
            if (v8 > v21)
            {
              v16[10] = v21;
            }
          }

          ++v14;
          v16 += 24;
        }

        while (v14 != v4);
        goto LABEL_71;
      }

      v29 = 0;
      v30 = *(a1 + 388);
      v31 = *(a1 + 288);
LABEL_36:
      v32 = 1;
      while (!(v13 % (v32 * 2 * v31[2])))
      {
        v32 *= 2;
        v33 = v6 * v32;
        if (v6 * v32 > v7)
        {
          goto LABEL_41;
        }
      }

      v33 = v32 * v6;
LABEL_41:
      v31[9] = v33;
      v34 = 1;
      while (!(v30 % (v34 * 2 * v31[3])))
      {
        v34 *= 2;
        v35 = v8 * v34;
        if (v8 * v34 > v7)
        {
          v31[10] = v35;
          v36 = 2 * v35;
          if (v33 <= 2 * v35)
          {
LABEL_47:
            v37 = 2 * v33;
            if (v35 > v37)
            {
              v31[10] = v37;
            }

LABEL_35:
            ++v29;
            v31 += 24;
            if (v29 != v4)
            {
              goto LABEL_36;
            }

            goto LABEL_71;
          }

LABEL_34:
          v31[9] = v36;
          goto LABEL_35;
        }
      }

      v35 = v34 * v8;
      v31[10] = v34 * v8;
      v36 = 2 * v34 * v8;
      if (v33 <= v36)
      {
        goto LABEL_47;
      }

      goto LABEL_34;
    }

    v9 = 2 * v6;
    if (v8 > v7)
    {
      v10 = 2 * v8;
      if (v6 > 2 * v8)
      {
        if (v4 == 1)
        {
          LODWORD(v11) = 0;
          v12 = *(a1 + 288);
        }

        else
        {
          v11 = v4 & 0x7FFFFFFE;
          v12 = v5 + 96 * v11;
          v40 = (v5 + 136);
          v41 = v11;
          do
          {
            *(v40 - 25) = v10;
            *(v40 - 24) = v8;
            *(v40 - 1) = v10;
            *v40 = v8;
            v40 += 48;
            v41 -= 2;
          }

          while (v41);
          if (v11 == v4)
          {
            goto LABEL_71;
          }
        }

        v42 = (v12 + 40);
        v43 = v4 - v11;
        do
        {
          *(v42 - 1) = v10;
          *v42 = v8;
          v42 += 24;
          --v43;
        }

        while (v43);
        goto LABEL_71;
      }

      if (v8 > v9)
      {
        if (v4 == 1)
        {
          LODWORD(v38) = 0;
          v39 = *(a1 + 288);
        }

        else
        {
          v38 = v4 & 0x7FFFFFFE;
          v39 = v5 + 96 * v38;
          v46 = (v5 + 136);
          v47 = v38;
          do
          {
            *(v46 - 25) = v6;
            *(v46 - 24) = v9;
            *(v46 - 1) = v6;
            *v46 = v9;
            v46 += 48;
            v47 -= 2;
          }

          while (v47);
          if (v38 == v4)
          {
            goto LABEL_71;
          }
        }

        v48 = (v39 + 40);
        v49 = v4 - v38;
        do
        {
          *(v48 - 1) = v6;
          *v48 = v9;
          v48 += 24;
          --v49;
        }

        while (v49);
        goto LABEL_71;
      }

      if (v4 == 1)
      {
        LODWORD(v44) = 0;
        v45 = *(a1 + 288);
      }

      else
      {
        v44 = v4 & 0x7FFFFFFE;
        v45 = v5 + 96 * v44;
        v50 = (v5 + 136);
        v51 = v44;
        do
        {
          *(v50 - 25) = v6;
          *(v50 - 24) = v8;
          *(v50 - 1) = v6;
          *v50 = v8;
          v50 += 48;
          v51 -= 2;
        }

        while (v51);
        if (v44 == v4)
        {
          goto LABEL_71;
        }
      }

      v52 = (v45 + 40);
      v53 = v4 - v44;
      do
      {
        *(v52 - 1) = v6;
        *v52 = v8;
        v52 += 24;
        --v53;
      }

      while (v53);
      goto LABEL_71;
    }

    v22 = 0;
    v23 = *(a1 + 388);
    v24 = *(a1 + 288);
    do
    {
      v24[9] = v6;
      v25 = 2 * v24[3];
      v26 = v8;
      if (!(v23 % v25))
      {
        v27 = 2;
        do
        {
          v26 = v8 * v27;
          if (v8 * v27 > v7)
          {
            break;
          }

          v28 = v23 % (v27 * v25);
          v27 *= 2;
        }

        while (!v28);
      }

      v24[10] = v26;
      if (v6 > 2 * v26)
      {
        v24[9] = 2 * v26;
      }

      else if (v26 > v9)
      {
        v24[10] = v9;
      }

      ++v22;
      v24 += 24;
    }

    while (v22 != v4);
LABEL_71:
    v54 = 0;
    v55 = (v5 + 48);
    do
    {
      *(v55 - 1) = sub_1003C82AC(*(v55 - 3) * *(v55 - 10) * *(a1 + 48), *(a1 + 524) * *(a1 + 384));
      *v55 = sub_1003C82AC(*(v55 - 2) * *(v55 - 9) * *(a1 + 52), *(a1 + 524) * *(a1 + 388));
      v55 += 24;
      ++v54;
      LODWORD(v4) = *(a1 + 56);
    }

    while (v54 < v4);
  }

  v56 = *(a1 + 64) - 1;
  if (v56 <= 6)
  {
    LODWORD(v4) = dword_1003EC8E0[v56];
  }

  if (*(a1 + 98))
  {
    v57 = 1;
  }

  else
  {
    v57 = v4;
  }

  *(a1 + 124) = v4;
  *(a1 + 128) = v57;
  result = sub_1003B2C60(a1);
  if (result)
  {
    *(a1 + 132) = *(a1 + 388);
  }

  else
  {
    *(a1 + 132) = 1;
  }

  return result;
}

BOOL sub_1003B2C60(uint64_t a1)
{
  if (!*(a1 + 368) && (*(a1 + 60) | 4) == 7 && *(a1 + 56) == 3 && *(a1 + 64) == 2 && *(a1 + 124) == 3 && !*(a1 + 364) && (v2 = *(a1 + 288), v2[2] == 2) && v2[26] == 1 && v2[50] == 1 && v2[3] <= 2 && v2[27] == 1 && v2[51] == 1 && (v3 = v2[9], v3 == *(a1 + 392)) && v2[33] == v3 && v2[57] == v3 && (v4 = v2[10], v4 == *(a1 + 396)) && v2[34] == v4)
  {
    return v2[58] == v4;
  }

  else
  {
    return 0;
  }
}

uint64_t sub_1003B2D4C(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  *(a1 + 544) = v2;
  *v2 = sub_1003B31F0;
  *(v2 + 8) = sub_1003B33C4;
  *(v2 + 16) = 0;
  v3 = *(a1 + 280);
  if (v3 != 8)
  {
    v4 = *a1;
    *(v4 + 10) = 16;
    *(v4 + 11) = v3;
    (**a1)(a1);
  }

  sub_1003B2804(a1);
  v5 = (**(a1 + 8))(a1, 1, 1280);
  *v5 = 0u;
  v5[1] = 0u;
  v5[2] = 0u;
  v5[3] = 0u;
  v5[4] = 0u;
  v5[5] = 0u;
  v5[6] = 0u;
  v5[7] = 0u;
  v5[8] = 0u;
  v5[9] = 0u;
  v5[10] = 0u;
  v5[11] = 0u;
  v5[12] = 0u;
  v5[13] = 0u;
  v5[14] = 0u;
  v5[15] = 0u;
  v5[16] = 0u;
  v5[17] = 0u;
  v5[18] = 0u;
  v5[19] = 0u;
  v5[20] = 0u;
  v5[21] = 0u;
  v5[22] = 0u;
  v5[23] = 0u;
  v5[24] = 0u;
  v5[25] = 0u;
  v5[26] = 0u;
  v5[27] = 0u;
  v5[28] = 0u;
  v5[29] = 0u;
  v5[30] = 0u;
  v5[31] = 0u;
  *(a1 + 408) = v5 + 32;
  v5[32] = xmmword_1003EB180;
  v5[33] = xmmword_1003EB190;
  v5[39] = xmmword_1003EB1F0;
  v5[40] = xmmword_1003EB200;
  v5[41] = xmmword_1003EB210;
  v5[42] = xmmword_1003EB220;
  v5[43] = xmmword_1003EB230;
  v5[44] = xmmword_1003EB240;
  v5[45] = xmmword_1003EB250;
  v5[46] = xmmword_1003EB260;
  v5[47] = xmmword_1003EB270;
  *&v6 = -1;
  *(&v6 + 1) = -1;
  v5[48] = v6;
  v5[49] = v6;
  v5[50] = v6;
  v5[51] = v6;
  v5[52] = v6;
  v5[53] = v6;
  v5[54] = v6;
  v5[55] = v6;
  v5[56] = v6;
  v5[57] = v6;
  v5[58] = v6;
  v5[59] = v6;
  v5[60] = v6;
  v5[61] = v6;
  v5[62] = v6;
  v5[63] = v6;
  v5[64] = v6;
  v5[65] = v6;
  v5[66] = v6;
  v5[67] = v6;
  v5[68] = v6;
  v5[69] = v6;
  v5[70] = v6;
  v5[71] = v6;
  v5[72] = v6;
  v5[73] = v6;
  v5[74] = v6;
  v5[75] = v6;
  v5[76] = v6;
  v5[77] = v6;
  v5[78] = v6;
  v5[79] = v6;
  if (!*(a1 + 120) || (v7 = *(a1 + 116)) == 0 || (v8 = *(a1 + 124), v8 <= 0))
  {
    v9 = *a1;
    *(v9 + 10) = 33;
    (*v9)(a1);
    v7 = *(a1 + 116);
    v8 = *(a1 + 124);
  }

  if ((v7 * v8) >> 32)
  {
    v10 = *a1;
    *(v10 + 10) = 72;
    (*v10)(a1);
  }

  *(v2 + 24) = 0;
  v11 = sub_1003B2C60(a1);
  *(v2 + 32) = 0;
  *(v2 + 28) = v11;
  *(v2 + 40) = 0;
  if (*(a1 + 98))
  {
    if (!*(a1 + 88))
    {
      *(a1 + 112) = 0;
      *(a1 + 114) = 0;
    }

    if (*(a1 + 89))
    {
      v12 = *a1;
      *(v12 + 10) = 48;
      (*v12)(a1);
    }

    if (*(a1 + 124) == 3)
    {
      if (*(a1 + 144))
      {
        *(a1 + 113) = 1;
      }

      else if (*(a1 + 104))
      {
        *(a1 + 114) = 1;
      }

      else
      {
        *(a1 + 112) = 1;
      }
    }

    else
    {
      *(a1 + 112) = 1;
      *(a1 + 114) = 0;
      *(a1 + 144) = 0;
    }

    if (*(a1 + 112))
    {
      sub_1003C4D90(a1);
      *(v2 + 32) = *(a1 + 624);
    }

    if (*(a1 + 114) || *(a1 + 113))
    {
      sub_1003C6094(a1);
      *(v2 + 40) = *(a1 + 624);
    }
  }

  else
  {
    *(a1 + 112) = 0;
    *(a1 + 114) = 0;
  }

  if (*(a1 + 89))
  {
    sub_1003AA128(a1);
    if (*(a1 + 298))
    {
      goto LABEL_26;
    }
  }

  else
  {
    if (*(v2 + 28))
    {
      sub_1003B3404(a1);
    }

    else
    {
      sub_1003A8D84(a1);
      sub_1003B3FD4(a1);
    }

    sub_1003B3ACC(a1, *(a1 + 114));
    sub_1003AA128(a1);
    if (*(a1 + 298))
    {
LABEL_26:
      sub_1003A5A94(a1);
      if (*(*(a1 + 576) + 32))
      {
        goto LABEL_27;
      }

LABEL_45:
      sub_1003A7B6C(a1, *(a1 + 88) != 0);
      if (*(a1 + 89))
      {
        goto LABEL_29;
      }

      goto LABEL_28;
    }
  }

  sub_1003AAE10(a1);
  if (!*(*(a1 + 576) + 32))
  {
    goto LABEL_45;
  }

LABEL_27:
  sub_1003A7B6C(a1, 1);
  if (!*(a1 + 89))
  {
LABEL_28:
    sub_1003AEEF0(a1, 0);
  }

LABEL_29:
  (*(*(a1 + 8) + 48))(a1);
  result = (*(*(a1 + 576) + 16))(a1);
  v14 = *(a1 + 16);
  if (v14 && !*(a1 + 88) && *(*(a1 + 576) + 32))
  {
    if (*(a1 + 297))
    {
      v15 = 3 * *(a1 + 56) + 2;
    }

    else
    {
      v15 = *(a1 + 56);
    }

    v16 = *(a1 + 400);
    *(v14 + 8) = 0;
    *(v14 + 16) = v15 * v16;
    if (*(a1 + 114))
    {
      v17 = 3;
    }

    else
    {
      v17 = 2;
    }

    *(v14 + 24) = 0;
    *(v14 + 28) = v17;
    ++*(v2 + 24);
  }

  return result;
}

uint64_t sub_1003B31F0(uint64_t *a1)
{
  v2 = a1[68];
  if (*(v2 + 16))
  {
    *(v2 + 16) = 0;
    (*a1[78])(a1, 0);
    v3 = 2;
    (*a1[71])(a1, 2);
LABEL_3:
    result = (*a1[69])(a1, v3);
    goto LABEL_7;
  }

  if (*(a1 + 98) && !a1[18])
  {
    if (*(a1 + 104) && *(a1 + 114))
    {
      a1[78] = *(v2 + 40);
      *(v2 + 16) = 1;
    }

    else if (*(a1 + 112))
    {
      a1[78] = *(v2 + 32);
    }

    else
    {
      v11 = *a1;
      *(v11 + 40) = 47;
      (*v11)(a1);
    }
  }

  (*a1[75])(a1);
  result = (*(a1[70] + 16))(a1);
  if (!*(a1 + 89))
  {
    if (!*(v2 + 28))
    {
      (*a1[77])(a1);
    }

    (*a1[76])(a1);
    if (*(a1 + 98))
    {
      (*a1[78])(a1, *(v2 + 16));
    }

    if (*(v2 + 16))
    {
      v10 = 3;
    }

    else
    {
      v10 = 0;
    }

    (*a1[71])(a1, v10);
    v3 = 0;
    goto LABEL_3;
  }

LABEL_7:
  v5 = a1[2];
  if (v5)
  {
    v6 = *(v2 + 24);
    v7 = *(v2 + 16) ? 2 : 1;
    v8 = v7 + v6;
    *(v5 + 24) = v6;
    *(v5 + 28) = v8;
    if (*(a1 + 88))
    {
      if (!*(a1[72] + 33))
      {
        if (*(a1 + 114))
        {
          v9 = 2;
        }

        else
        {
          v9 = 1;
        }

        *(v5 + 28) = v9 + v8;
      }
    }
  }

  return result;
}

uint64_t sub_1003B33C4(uint64_t result)
{
  v1 = *(result + 544);
  if (*(result + 98))
  {
    result = (*(*(result + 624) + 16))();
  }

  ++*(v1 + 24);
  return result;
}

uint64_t sub_1003B3404(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  v3 = v2;
  *(a1 + 608) = v2;
  *v2 = sub_1003B3648;
  *(v2 + 16) = 0;
  *(v2 + 76) = *(a1 + 124) * *(a1 + 116);
  if (*(a1 + 388) == 2)
  {
    *(v2 + 8) = sub_1003B365C;
    *(v2 + 24) = sub_1003B378C;
    v4 = (*(*(a1 + 8) + 8))(a1, 1);
  }

  else
  {
    v4 = 0;
    v3[1] = sub_1003B395C;
    v3[3] = sub_1003B39B0;
  }

  v3[8] = v4;
  v5 = *(a1 + 60);
  v6 = *(a1 + 608);
  v6[4] = (**(a1 + 8))(a1, 1, 1024);
  v6[5] = (**(a1 + 8))(a1, 1, 1024);
  v6[6] = (**(a1 + 8))(a1, 1, 2048);
  result = (**(a1 + 8))(a1, 1, 2048);
  v6[7] = result;
  v8 = v6[4];
  v9 = v6[5];
  v10 = v6[6];
  if (v5 == 7)
  {
    v11 = 0;
    v12 = -29696512;
    v13 = -23488896;
    v14 = 5806464;
    v15 = 11981184;
    do
    {
      *(v8 + 4 * v11) = v13 >> 16;
      *(v9 + 4 * v11) = v12 >> 16;
      *(v10 + 8 * v11) = v15;
      *(result + 8 * v11++) = v14;
      v14 -= 45107;
      v15 -= 93603;
      v12 += 232260;
      v13 += 183763;
    }

    while (v11 != 256);
  }

  else
  {
    v16 = 0;
    v17 = -14831872;
    v18 = -11728000;
    v19 = 2919552;
    v20 = 5990656;
    do
    {
      *(v8 + 4 * v16) = v18 >> 16;
      *(v9 + 4 * v16) = v17 >> 16;
      *(v10 + 8 * v16) = v20;
      *(result + 8 * v16++) = v19;
      v19 -= 22553;
      v20 -= 46802;
      v17 += 116130;
      v18 += 91881;
    }

    while (v16 != 256);
  }

  return result;
}

uint64_t sub_1003B3648(uint64_t result)
{
  v1 = *(result + 608);
  *(v1 + 72) = 0;
  *(v1 + 80) = *(result + 120);
  return result;
}

char *sub_1003B365C(uint64_t a1, uint64_t a2, _DWORD *a3, uint64_t a4, uint64_t a5, _DWORD *a6, int a7)
{
  v9 = *(a1 + 608);
  if (*(v9 + 72))
  {
    result = sub_1003C82D0((v9 + 64), 0, a5 + 8 * *a6, 0, 1, *(v9 + 76));
    *(v9 + 72) = 0;
    ++*a6;
    --*(v9 + 80);
LABEL_3:
    ++*a3;
    return result;
  }

  v11 = *(v9 + 80);
  v12 = *a6;
  if (v11 >= a7 - v12)
  {
    v11 = a7 - v12;
  }

  v16 = *(a5 + 8 * v12);
  if (v11 >= 2)
  {
    v13 = 2;
  }

  else
  {
    v13 = v11;
  }

  if (v11 >= 2)
  {
    v14 = *(a5 + 8 * (v12 + 1));
  }

  else
  {
    v14 = *(v9 + 64);
    *(v9 + 72) = 1;
  }

  v17 = v14;
  result = (*(v9 + 24))();
  v15 = *(v9 + 72);
  *a6 += v13;
  *(v9 + 80) -= v13;
  if (!v15)
  {
    goto LABEL_3;
  }

  return result;
}

uint64_t sub_1003B378C(uint64_t result, void *a2, unsigned int a3, uint64_t a4)
{
  v4 = *(result + 608);
  v5 = *(result + 408);
  v7 = v4[4];
  v6 = v4[5];
  v8 = v4[6];
  v9 = v4[7];
  v10 = *(*a2 + 16 * a3);
  v11 = *(*a2 + 8 * ((2 * a3) | 1));
  v12 = *(a2[1] + 8 * a3);
  v13 = *(a2[2] + 8 * a3);
  v15 = *a4;
  v14 = *(a4 + 8);
  v16 = *(result + 116);
  if (v16 < 2)
  {
    if ((v16 & 1) == 0)
    {
      return result;
    }

LABEL_7:
    v31 = *v13;
    v32 = *(v7 + 4 * v31);
    v33 = *v12;
    v34 = *(v8 + 8 * v31) + *(v9 + 8 * v33);
    v35 = *(v6 + 4 * v33);
    v36 = *v10;
    *v15 = *(v5 + v32 + v36);
    v37 = (v34 >> 16);
    v15[1] = *(v5 + v36 + v37);
    v15[2] = *(v5 + v35 + v36);
    v38 = *v11;
    *v14 = *(v5 + v32 + v38);
    v14[1] = *(v5 + v38 + v37);
    v14[2] = *(v5 + v35 + v38);
    return result;
  }

  v17 = 0;
  v18 = v16 >> 1;
  do
  {
    v19 = v12[v17];
    v20 = v13[v17];
    v21 = *(v7 + 4 * v20);
    v22 = *(v8 + 8 * v20) + *(v9 + 8 * v19);
    v23 = *v10;
    v24 = *(v6 + 4 * v19);
    *v15 = *(v5 + v21 + v23);
    v25 = (v22 >> 16);
    v15[1] = *(v5 + v23 + v25);
    v15[2] = *(v5 + v24 + v23);
    v26 = v10[1];
    v15[3] = *(v5 + v21 + v26);
    v15[4] = *(v5 + v26 + v25);
    v15[5] = *(v5 + v24 + v26);
    v27 = *v11;
    *v14 = *(v5 + v21 + v27);
    v14[1] = *(v5 + v27 + v25);
    v14[2] = *(v5 + v24 + v27);
    v28 = v11[1];
    v14[3] = *(v5 + v21 + v28);
    LOBYTE(v21) = *(v5 + v28 + v25);
    v29 = v10 + 2;
    v30 = v11 + 2;
    v14[4] = v21;
    v15 += 6;
    v14[5] = *(v5 + v24 + v28);
    v14 += 6;
    ++v17;
    v11 += 2;
    v10 += 2;
  }

  while (v18 != v17);
  v13 += v17;
  v12 += v17;
  v10 = v29;
  v11 = v30;
  if (*(result + 116))
  {
    goto LABEL_7;
  }

  return result;
}

uint64_t sub_1003B395C(uint64_t a1, uint64_t a2, _DWORD *a3, uint64_t a4, uint64_t a5, _DWORD *a6)
{
  result = (*(*(a1 + 608) + 24))();
  ++*a6;
  ++*a3;
  return result;
}

uint64_t sub_1003B39B0(uint64_t result, void *a2, unsigned int a3, _BYTE **a4)
{
  v4 = *(result + 608);
  v5 = *(result + 408);
  v7 = v4[4];
  v6 = v4[5];
  v8 = v4[6];
  v9 = v4[7];
  v10 = *(*a2 + 8 * a3);
  v11 = *(a2[1] + 8 * a3);
  v12 = *(a2[2] + 8 * a3);
  v13 = *a4;
  v14 = *(result + 116);
  if (v14 < 2)
  {
    if ((v14 & 1) == 0)
    {
      return result;
    }

LABEL_7:
    v26 = *v11;
    v27 = *v12;
    v28 = (*(v8 + 8 * v27) + *(v9 + 8 * v26)) >> 16;
    v29 = *(v6 + 4 * v26);
    v30 = *v10;
    *v13 = *(v5 + *(v7 + 4 * v27) + v30);
    v13[1] = *(v5 + v30 + v28);
    v13[2] = *(v5 + v29 + v30);
    return result;
  }

  v15 = v14 >> 1;
  do
  {
    v17 = *v11++;
    v16 = v17;
    v18 = *v12++;
    v19 = *(v7 + 4 * v18);
    v20 = *(v8 + 8 * v18) + *(v9 + 8 * v16);
    v21 = *(v6 + 4 * v16);
    v22 = *v10;
    *v13 = *(v5 + v19 + v22);
    v23 = (v20 >> 16);
    v13[1] = *(v5 + v22 + v23);
    v13[2] = *(v5 + v21 + v22);
    v24 = v10 + 2;
    v25 = v10[1];
    v13[3] = *(v5 + v19 + v25);
    v13[4] = *(v5 + v25 + v23);
    v13[5] = *(v5 + v21 + v25);
    v13 += 6;
    v10 = v24;
    --v15;
  }

  while (v15);
  v10 = v24;
  if (*(result + 116))
  {
    goto LABEL_7;
  }

  return result;
}

uint64_t sub_1003B3ACC(uint64_t a1, int a2)
{
  result = (**(a1 + 8))();
  *(a1 + 568) = result;
  *result = sub_1003B3BA4;
  *(result + 16) = 0;
  *(result + 24) = 0;
  if (*(a1 + 98))
  {
    v5 = result;
    v6 = *(a1 + 388);
    *(result + 32) = v6;
    v7 = *(a1 + 8);
    v8 = *(a1 + 116);
    v9 = *(a1 + 124);
    v10 = (v9 * v8);
    if (a2)
    {
      v11 = *(v7 + 32);
      v12 = sub_1003C82BC(*(a1 + 120), v6);
      result = v11(a1, 1, 0, v10, v12, *(v5 + 32));
      *(v5 + 16) = result;
    }

    else
    {
      result = (*(v7 + 16))(a1, 1, (v9 * v8));
      *(v5 + 24) = result;
    }
  }

  return result;
}

uint64_t sub_1003B3BA4(uint64_t result, int a2)
{
  v2 = *(result + 568);
  if (a2 == 3)
  {
    if (!*(v2 + 16))
    {
      v5 = *result;
      *(v5 + 40) = 3;
      result = (*v5)(result);
    }

    *(v2 + 8) = sub_1003B3DBC;
    *(v2 + 36) = 0;
    *(v2 + 40) = 0;
  }

  else if (a2 == 2)
  {
    if (!*(v2 + 16))
    {
      v4 = *result;
      *(v4 + 40) = 3;
      result = (*v4)(result);
    }

    *(v2 + 8) = sub_1003B3EEC;
    *(v2 + 36) = 0;
    *(v2 + 40) = 0;
  }

  else if (a2)
  {
    v3 = *result;
    *(v3 + 40) = 3;
    result = (*v3)(result);
    *(v2 + 36) = 0;
    *(v2 + 40) = 0;
  }

  else if (*(result + 98))
  {
    *(v2 + 8) = sub_1003B3D24;
    if (!*(v2 + 24))
    {
      result = (*(*(result + 8) + 56))();
      *(v2 + 24) = result;
    }

    *(v2 + 36) = 0;
    *(v2 + 40) = 0;
  }

  else
  {
    *(v2 + 8) = *(*(result + 608) + 8);
    *(v2 + 36) = 0;
    *(v2 + 40) = 0;
  }

  return result;
}

uint64_t sub_1003B3D24(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _DWORD *a6)
{
  v9 = a1[71];
  (*(a1[76] + 8))();
  result = (*(a1[78] + 8))(a1, *(v9 + 24), a5 + 8 * *a6, 0);
  *a6 = *a6;
  return result;
}

uint64_t sub_1003B3DBC(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _DWORD *a6)
{
  v8 = a1[71];
  v9 = *(v8 + 40);
  if (v9)
  {
    v10 = *(v8 + 24);
  }

  else
  {
    v11 = a2;
    v12 = a3;
    v13 = a4;
    v14 = (*(a1[1] + 56))(a1, *(v8 + 16), *(v8 + 36), *(v8 + 32), 1);
    a2 = v11;
    a3 = v12;
    a4 = v13;
    v10 = v14;
    *(v8 + 24) = v14;
    v9 = *(v8 + 40);
  }

  result = (*(a1[76] + 8))(a1, a2, a3, a4, v10, v8 + 40, *(v8 + 32));
  v16 = *(v8 + 40);
  v17 = v16 - v9;
  if (v16 <= v9)
  {
    v18 = *(v8 + 32);
    if (v16 < v18)
    {
      return result;
    }

LABEL_8:
    *(v8 + 36) = *(v8 + 36) + v18;
    return result;
  }

  result = (*(a1[78] + 8))(a1, *(v8 + 24) + 8 * v9, 0, v17);
  *a6 += v17;
  v18 = *(v8 + 32);
  if (*(v8 + 40) >= v18)
  {
    goto LABEL_8;
  }

  return result;
}

uint64_t sub_1003B3EEC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _DWORD *a6, int a7)
{
  v9 = *(a1 + 568);
  v10 = *(v9 + 40);
  if (!v10)
  {
    v11 = a1;
    v12 = (*(*(a1 + 8) + 56))();
    a1 = v11;
    *(v9 + 24) = v12;
    v10 = *(v9 + 40);
  }

  v13 = *(v9 + 32) - v10;
  if (v13 >= a7 - *a6)
  {
    v13 = a7 - *a6;
  }

  if (v13 >= *(a1 + 120) - *(v9 + 36))
  {
    v14 = *(a1 + 120) - *(v9 + 36);
  }

  else
  {
    v14 = v13;
  }

  result = (*(*(a1 + 624) + 8))();
  *a6 += v14;
  v16 = *(v9 + 40) + v14;
  *(v9 + 40) = v16;
  v17 = *(v9 + 32);
  if (v16 >= v17)
  {
    *(v9 + 36) = *(v9 + 36) + v17;
  }

  return result;
}

uint64_t sub_1003B3FD4(uint64_t *a1)
{
  result = (*a1[1])();
  v3 = result;
  a1[76] = result;
  *result = sub_1003B41EC;
  *(result + 8) = sub_1003B4200;
  *(result + 16) = 0;
  if (*(a1 + 368))
  {
    v4 = *a1;
    *(v4 + 40) = 26;
    result = (*v4)(a1);
  }

  if (*(a1 + 14) >= 1)
  {
    v5 = 0;
    v6 = a1[36] + 36;
    do
    {
      while (1)
      {
        v7 = *(a1 + 98);
        v8 = *(v6 - 28);
        v9 = *v6;
        v10 = *(v6 + 4) * *(v6 - 24) / *(a1 + 99);
        v11 = *(a1 + 96);
        v12 = *(a1 + 97);
        *(v3 + 4 * v5 + 192) = v10;
        v13 = sub_1003B434C;
        if (*(v6 + 16))
        {
          v14 = v9 * v8 / v7;
          v13 = sub_1003B4354;
          if (v14 != v11 || v10 != v12)
          {
            break;
          }
        }

        v6 += 96;
        *(v3 + 104 + 8 * v5++) = v13;
        if (v5 >= *(a1 + 14))
        {
          return result;
        }
      }

      if (2 * v14 == v11 && v10 == v12)
      {
        v20 = v3 + 8 * v5;
        v21 = sub_1003B435C;
      }

      else
      {
        if (2 * v14 != v11 || 2 * v10 != v12)
        {
          v17 = v11 / v14;
          if (v11 % v14 || (v18 = v12 / v10, v12 % v10))
          {
            v19 = *a1;
            *(v19 + 40) = 39;
            (*v19)(a1);
          }

          else
          {
            *(v3 + 8 * v5 + 104) = sub_1003B4658;
            v24 = v3 + v5;
            *(v24 + 232) = v17;
            *(v24 + 242) = v18;
          }

          goto LABEL_23;
        }

        v20 = v3 + 8 * v5;
        v21 = sub_1003B44B8;
      }

      *(v20 + 104) = v21;
LABEL_23:
      v22 = *(a1[1] + 16);
      v23 = sub_1003C82BC(*(a1 + 29), *(a1 + 96));
      result = v22(a1, 1, v23, *(a1 + 97));
      v6 += 96;
      *(v3 + 24 + 8 * v5++) = result;
    }

    while (v5 < *(a1 + 14));
  }

  return result;
}

uint64_t sub_1003B41EC(uint64_t result)
{
  v1 = *(result + 608);
  v2 = *(result + 120);
  *(v1 + 184) = *(result + 388);
  *(v1 + 188) = v2;
  return result;
}

uint64_t sub_1003B4200(uint64_t a1, uint64_t a2, _DWORD *a3, uint64_t a4, uint64_t a5, _DWORD *a6, int a7)
{
  v10 = *(a1 + 608);
  v11 = *(v10 + 184);
  v12 = *(a1 + 388);
  if (v11 >= v12)
  {
    if (*(a1 + 56) >= 1)
    {
      v24 = a7;
      v14 = 0;
      v15 = *(a1 + 288);
      v16 = (v10 + 104);
      do
      {
        v17 = v16 - 10;
        v18 = *v16++;
        v18(a1, v15, *(a2 + 8 * v14) + 8 * (*(v10 + 192 + 4 * v14) * *a3), v17);
        ++v14;
        v15 += 96;
      }

      while (v14 < *(a1 + 56));
      v12 = *(a1 + 388);
      a7 = v24;
    }

    v11 = 0;
    *(v10 + 184) = 0;
  }

  v19 = v12 - v11;
  if (v19 >= *(v10 + 188))
  {
    v19 = *(v10 + 188);
  }

  if (v19 >= a7 - *a6)
  {
    v20 = a7 - *a6;
  }

  else
  {
    v20 = v19;
  }

  result = (*(*(a1 + 616) + 8))(a1, v10 + 24);
  *a6 += v20;
  v22 = *(v10 + 188) - v20;
  v23 = *(v10 + 184) + v20;
  *(v10 + 184) = v23;
  *(v10 + 188) = v22;
  if (v23 >= *(a1 + 388))
  {
    ++*a3;
  }

  return result;
}

uint64_t sub_1003B435C(uint64_t result, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v4 = *(result + 388);
  if (v4 >= 1)
  {
    if (*(result + 116))
    {
      v5 = 0;
      v6 = *a4;
      while (1)
      {
        v7 = *(result + 116);
        if (!v7)
        {
          goto LABEL_5;
        }

        v8 = *(v6 + 8 * v5);
        v9 = v8 + v7;
        v10 = *(a3 + 8 * v5);
        v11 = v8 + 2;
        if (v9 > v8 + 2)
        {
          v11 = v9;
        }

        v12 = v11 + ~v8;
        if (v12 >= 0xE && (v8 >= v10->u64 + (v12 >> 1) + 1 || v10 >= v8 + (v12 & 0xFFFFFFFFFFFFFFFELL) + 2))
        {
          v14 = (v12 >> 1) + 1;
          if (v12 < 0x3E)
          {
            v15 = 0;
LABEL_21:
            v20 = v8 + 2 * (v14 & 0xFFFFFFFFFFFFFFF8);
            v21 = (v10 + (v14 & 0xFFFFFFFFFFFFFFF8));
            v22 = &v10->i8[v15];
            v23 = (v8 + 2 * v15);
            v24 = v15 - (v14 & 0xFFFFFFFFFFFFFFF8);
            do
            {
              v25 = *v22++;
              v28.val[0] = v25;
              v28.val[1] = v25;
              vst2_s8(v23, v28);
              v23 += 16;
              v24 += 8;
            }

            while (v24);
            v8 = v20;
            v10 = v21;
            if (v14 == (v14 & 0xFFFFFFFFFFFFFFF8))
            {
              goto LABEL_4;
            }

            goto LABEL_26;
          }

          v15 = v14 & 0xFFFFFFFFFFFFFFE0;
          v16 = v10 + 1;
          v17 = (v8 + 32);
          v18 = v14 & 0xFFFFFFFFFFFFFFE0;
          do
          {
            v19 = v17 - 32;
            v29.val[0] = v16[-1];
            v30.val[0] = *v16;
            v29.val[1] = v29.val[0];
            vst2q_s8(v19, v29);
            v30.val[1] = v30.val[0];
            vst2q_s8(v17, v30);
            v16 += 2;
            v17 += 64;
            v18 -= 32;
          }

          while (v18);
          if (v14 == v15)
          {
            goto LABEL_4;
          }

          if ((v14 & 0x18) != 0)
          {
            goto LABEL_21;
          }

          v10 = (v10 + v15);
          v8 += 2 * v15;
        }

        do
        {
LABEL_26:
          v26 = v10->i8[0];
          v10 = (v10 + 1);
          *v8 = v26;
          *(v8 + 1) = v26;
          v8 += 2;
        }

        while (v8 < v9);
LABEL_4:
        LODWORD(v4) = *(result + 388);
LABEL_5:
        if (++v5 >= v4)
        {
          return result;
        }
      }
    }

      ;
    }
  }

  return result;
}

char *sub_1003B44B8(char *result, uint64_t a2, uint64_t a3, char **a4)
{
  if (*(result + 97) >= 1)
  {
    v5 = result;
    v6 = 0;
    v7 = 0;
    v8 = *a4;
    while (1)
    {
      v10 = *(v5 + 29);
      if (v10)
      {
        break;
      }

      v9 = 0;
LABEL_4:
      result = sub_1003C82D0(v8, v7, v8, v7 | 1, 1, v9);
      ++v6;
      v7 += 2;
      if (*(v5 + 97) <= v7)
      {
        return result;
      }
    }

    v11 = *&v8[8 * v7];
    v12 = v11 + v10;
    v13 = *(a3 + 8 * v6);
    v14 = v11 + 2;
    if (v12 > v11 + 2)
    {
      v14 = v12;
    }

    v15 = v14 + ~v11;
    if (v15 < 0xE)
    {
      goto LABEL_25;
    }

    if (v11 < v13->u64 + (v15 >> 1) + 1 && v13 < v11 + (v15 & 0xFFFFFFFFFFFFFFFELL) + 2)
    {
      goto LABEL_25;
    }

    v17 = (v15 >> 1) + 1;
    if (v15 >= 0x3E)
    {
      v18 = v17 & 0xFFFFFFFFFFFFFFE0;
      v19 = v13 + 1;
      v20 = (v11 + 32);
      v21 = v17 & 0xFFFFFFFFFFFFFFE0;
      do
      {
        v22 = v20 - 32;
        v31.val[0] = v19[-1];
        v32.val[0] = *v19;
        v31.val[1] = v31.val[0];
        vst2q_s8(v22, v31);
        v32.val[1] = v32.val[0];
        vst2q_s8(v20, v32);
        v19 += 2;
        v20 += 64;
        v21 -= 32;
      }

      while (v21);
      if (v17 == v18)
      {
        goto LABEL_26;
      }

      if ((v17 & 0x18) == 0)
      {
        v13 = (v13 + v18);
        v11 += 2 * v18;
        do
        {
LABEL_25:
          v29 = v13->i8[0];
          v13 = (v13 + 1);
          *v11 = v29;
          *(v11 + 1) = v29;
          v11 += 2;
        }

        while (v11 < v12);
LABEL_26:
        v9 = *(v5 + 29);
        goto LABEL_4;
      }
    }

    else
    {
      v18 = 0;
    }

    v23 = v11 + 2 * (v17 & 0xFFFFFFFFFFFFFFF8);
    v24 = (v13 + (v17 & 0xFFFFFFFFFFFFFFF8));
    v25 = &v13->i8[v18];
    v26 = (v11 + 2 * v18);
    v27 = v18 - (v17 & 0xFFFFFFFFFFFFFFF8);
    do
    {
      v28 = *v25++;
      v30.val[0] = v28;
      v30.val[1] = v28;
      vst2_s8(v26, v30);
      v26 += 16;
      v27 += 8;
    }

    while (v27);
    v11 = v23;
    v13 = v24;
    if (v17 == (v17 & 0xFFFFFFFFFFFFFFF8))
    {
      goto LABEL_26;
    }

    goto LABEL_25;
  }

  return result;
}

_DWORD *sub_1003B4658(_DWORD *result, uint64_t a2, uint64_t a3, char **a4)
{
  v4 = result[97];
  if (v4 >= 1)
  {
    v5 = result;
    v6 = *a4;
    v7 = *(result + 76) + *(a2 + 4);
    v8 = *(v7 + 232);
    v9 = *(v7 + 242);
    v10 = v9;
    v11 = v9 - 1;
    v12 = v8;
    if (!v8)
    {
      if (v9 < 2u)
      {
        v30 = 0;
        while (!result[29])
        {
          v30 += v10;
          if (v30 >= v4)
          {
            return result;
          }
        }
      }

      else
      {
        v22 = 0;
        while (!v5[29])
        {
          result = sub_1003C82D0(v6, v22, v6, v22 + 1, v10 - 1, 0);
          v22 += v10;
          if (v22 >= v5[97])
          {
            return result;
          }
        }
      }

        ;
      }
    }

    if (v9 > 1u)
    {
      v13 = 0;
      v14 = 0;
      v31 = v9;
      do
      {
        v16 = v5[29];
        if (v16)
        {
          v17 = v11;
          v18 = *&v6[8 * v14];
          v19 = &v18[v16];
          v20 = *(a3 + 8 * v13);
          do
          {
            v21 = *v20++;
            memset(v18, v21, v12);
            v18 += (v12 - 1) + 1;
          }

          while (v18 < v19);
          v15 = v5[29];
          v11 = v17;
          v10 = v31;
        }

        else
        {
          v15 = 0;
        }

        result = sub_1003C82D0(v6, v14, v6, v14 + 1, v11, v15);
        ++v13;
        v14 += v10;
      }

      while (v5[97] > v14);
    }

    else
    {
      v23 = 0;
      for (i = 0; i < v4; i += v10)
      {
        v25 = v5[29];
        if (v25)
        {
          v26 = *&v6[8 * i];
          v27 = &v26[v25];
          v28 = *(a3 + 8 * v23);
          do
          {
            v29 = *v28++;
            result = memset(v26, v29, v12);
            v26 += v12;
          }

          while (v26 < v27);
          v4 = v5[97];
        }

        ++v23;
      }
    }
  }

  return result;
}

uint64_t sub_1003B4824(uint64_t result)
{
  *result = sub_1003B4898;
  *(result + 8) = sub_1003B48C8;
  *(result + 16) = sub_1003B4940;
  *(result + 24) = sub_1003B49C0;
  *(result + 32) = sub_1003B4AAC;
  *(result + 124) = 0;
  *(result + 40) = 0;
  *(result + 128) = 0;
  *(result + 136) = off_10047B870;
  *(result + 144) = 126;
  *(result + 152) = 0;
  *(result + 160) = 0;
  return result;
}

void sub_1003B4898(uint64_t a1)
{
  (*(*a1 + 16))(a1);
  sub_10039D458(a1);
  exit(1);
}

uint64_t *sub_1003B48C8(uint64_t *result, int a2)
{
  v2 = *result;
  if (a2 < 0)
  {
    v4 = *(v2 + 128);
    if (!v4 || *(v2 + 124) >= 3)
    {
      result = (*(v2 + 16))();
      v4 = *(v2 + 128);
    }

    *(v2 + 128) = v4 + 1;
  }

  else if (*(v2 + 124) >= a2)
  {
    v3 = *(v2 + 16);

    return v3();
  }

  return result;
}

uint64_t sub_1003B49C0(uint64_t *a1, char *a2)
{
  v3 = *a1;
  v4 = *(*a1 + 40);
  if (v4 < 1 || v4 > *(v3 + 144))
  {
    v5 = *(v3 + 152);
    if (v5)
    {
      v6 = *(v3 + 160);
      v7 = __OFSUB__(v4, v6);
      v8 = v4 - v6;
      if (v8 < 0 == v7 && v4 <= *(v3 + 164))
      {
        v9 = *(v5 + 8 * v8);
        if (v9)
        {
          goto LABEL_10;
        }
      }
    }

    goto LABEL_9;
  }

  v9 = *(*(v3 + 136) + 8 * v4);
  if (!v9)
  {
LABEL_9:
    *(v3 + 44) = v4;
    v9 = **(v3 + 136);
  }

LABEL_10:
  v10 = v9;
  while (1)
  {
    v12 = *v10++;
    v11 = v12;
    if (!v12)
    {
      break;
    }

    if (v11 == 37)
    {
      if (*v10 == 115)
      {
        return sprintf(a2, v9, v3 + 44);
      }

      return sprintf(a2, v9, *(v3 + 44), *(v3 + 48), *(v3 + 52), *(v3 + 56), *(v3 + 60), *(v3 + 64), *(v3 + 68), *(v3 + 72));
    }
  }

  return sprintf(a2, v9, *(v3 + 44), *(v3 + 48), *(v3 + 52), *(v3 + 56), *(v3 + 60), *(v3 + 64), *(v3 + 68), *(v3 + 72));
}

uint64_t *sub_1003B4AAC(uint64_t *result)
{
  v1 = *result;
  *(v1 + 128) = 0;
  *(v1 + 40) = 0;
  return result;
}

float32x4_t sub_1003B4ABC(float32x4_t *a1, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  v4 = a3;
  do
  {
    f32 = a1[v3].f32;
    v6 = (*(a2 + v3 * 4) + v4);
    v7 = *v6;
    v8 = v6[7];
    v9 = v8 + v7;
    v10 = v7 - v8;
    v11 = v6[1];
    v12 = v6[6];
    v13 = v12 + v11;
    v14 = v6[2];
    v15 = v11 - v12;
    v16 = v6[5];
    v17 = v16 + v14;
    v18 = v14 - v16;
    v19 = v6[3];
    LODWORD(v6) = v6[4];
    v20 = v6 + v19 + v9;
    v21 = v9 - (v6 + v19);
    v22 = v10;
    LODWORD(v6) = v19 - v6 + v18;
    v23 = (v13 - v17 + v21) * 0.70711;
    v24 = v15 + v10;
    v25 = v23 + v21;
    v26 = v21 - v23;
    v27 = (v6 - v24) * 0.38268;
    v28 = v27 + (v6 * 0.5412);
    v29 = v27 + (v24 * 1.3066);
    v30 = (v18 + v15) * 0.70711;
    v31 = v30 + v22;
    v32 = v22 - v30;
    *f32 = (v20 + v17 + v13 - 1024);
    f32[1] = v31 + v29;
    f32[4] = (v20 - (v17 + v13));
    f32[5] = v32 + v28;
    f32[2] = v25;
    f32[3] = v32 - v28;
    f32[6] = v26;
    f32[7] = v31 - v29;
    v3 += 2;
  }

  while (v3 != 16);
  v33 = a1[1];
  v34 = a1[14];
  v35 = a1[15];
  v36 = vaddq_f32(*a1, v34);
  v37 = vsubq_f32(*a1, v34);
  v38 = a1[2];
  v39 = a1[3];
  v40 = a1[12];
  v41 = a1[13];
  v42 = vaddq_f32(v38, v40);
  v43 = vsubq_f32(v38, v40);
  v44 = a1[4];
  v45 = a1[5];
  v46 = a1[10];
  v47 = a1[11];
  v48 = vaddq_f32(v44, v46);
  v49 = vsubq_f32(v44, v46);
  v50 = a1[6];
  v51 = a1[7];
  v52 = a1[8];
  v53 = a1[9];
  v54 = vaddq_f32(v50, v52);
  v55 = vsubq_f32(v50, v52);
  v56 = vaddq_f32(v36, v54);
  v57 = vsubq_f32(v36, v54);
  v58 = vaddq_f32(v42, v48);
  v59 = vsubq_f32(v42, v48);
  v60 = vaddq_f32(v58, v56);
  v61 = vsubq_f32(v56, v58);
  v62 = vdupq_n_s32(0x3F3504F3u);
  v63 = vmulq_f32(vaddq_f32(v59, v57), v62);
  v64 = vaddq_f32(v57, v63);
  v65 = vsubq_f32(v57, v63);
  v66 = vaddq_f32(v49, v55);
  v67 = vaddq_f32(v43, v49);
  v68 = vaddq_f32(v37, v43);
  v69 = vdupq_n_s32(0x3EC3EF15u);
  v70 = vmulq_f32(vsubq_f32(v66, v68), v69);
  v71 = vdupq_n_s32(0x3F0A8BD4u);
  v72 = vmlaq_f32(v70, v71, v66);
  v73 = vdupq_n_s32(0x3FA73D75u);
  v74 = vmlaq_f32(v70, v73, v68);
  v75 = vmulq_f32(v67, v62);
  v76 = vaddq_f32(v37, v75);
  v77 = vsubq_f32(v37, v75);
  v78 = vaddq_f32(v77, v72);
  v79 = vsubq_f32(v77, v72);
  v80 = vaddq_f32(v76, v74);
  v81 = vsubq_f32(v76, v74);
  v82 = vaddq_f32(v33, v35);
  v83 = vsubq_f32(v33, v35);
  v84 = vaddq_f32(v39, v41);
  v85 = vsubq_f32(v39, v41);
  v86 = vaddq_f32(v45, v47);
  v87 = vsubq_f32(v45, v47);
  v88 = vaddq_f32(v51, v53);
  v89 = vsubq_f32(v51, v53);
  v90 = vaddq_f32(v82, v88);
  v91 = vsubq_f32(v82, v88);
  v92 = vaddq_f32(v84, v86);
  *a1 = v60;
  a1[1] = vaddq_f32(v92, v90);
  a1[8] = v61;
  a1[9] = vsubq_f32(v90, v92);
  v93 = vmulq_f32(vaddq_f32(vsubq_f32(v84, v86), v91), v62);
  a1[4] = v64;
  a1[5] = vaddq_f32(v91, v93);
  a1[12] = v65;
  a1[13] = vsubq_f32(v91, v93);
  v94 = vaddq_f32(v87, v89);
  v95 = vaddq_f32(v85, v87);
  v96 = vaddq_f32(v83, v85);
  v97 = vmulq_f32(vsubq_f32(v94, v96), v69);
  v98 = vmlaq_f32(v97, v71, v94);
  v99 = vmlaq_f32(v97, v73, v96);
  v100 = vmulq_f32(v95, v62);
  v101 = vaddq_f32(v83, v100);
  v102 = vsubq_f32(v83, v100);
  a1[10] = v78;
  a1[11] = vaddq_f32(v102, v98);
  a1[6] = v79;
  a1[7] = vsubq_f32(v102, v98);
  a1[2] = v80;
  a1[3] = vaddq_f32(v101, v99);
  result = vsubq_f32(v101, v99);
  a1[14] = v81;
  a1[15] = result;
  return result;
}

int32x4_t sub_1003B4D60(int32x4_t *a1, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  v4 = a3;
  do
  {
    v5 = &a1[v3];
    v6 = (*(a2 + v3 * 4) + v4);
    v7 = *v6;
    v8 = v6[7];
    v9 = v8 + v7;
    v10 = v7 - v8;
    v11 = v6[1];
    v12 = v6[6];
    v13 = v12 + v11;
    v14 = v11 - v12;
    v15 = v6[2];
    v16 = v6[5];
    v17 = v16 + v15;
    v18 = v15 - v16;
    v19 = v6[3];
    LODWORD(v6) = v6[4];
    v20 = v6 + v19;
    LODWORD(v6) = v19 - v6;
    v21 = v20 + v9;
    v22 = v9 - v20;
    v23 = v17 + v13;
    v24 = v13 - v17;
    v25 = v21 + v23;
    v26 = v21 - v23;
    v27 = (181 * (v24 + v22)) >> 8;
    v28 = v27 + v22;
    v29 = v22 - v27;
    LODWORD(v6) = v6 + v18;
    v30 = v18 + v14;
    v31 = v14 + v10;
    v32 = (98 * (v6 - v31)) >> 8;
    LODWORD(v6) = v32 + ((139 * v6) >> 8);
    v33 = (181 * v30) >> 8;
    v5[1].i32[0] = v26;
    v5[1].i32[1] = v6 + v10 - v33;
    v34 = v32 + ((334 * v31) >> 8);
    v5->i32[2] = v28;
    v5->i32[3] = v10 - v33 - v6;
    v5->i32[0] = v25 - 1024;
    v5->i32[1] = v34 + v33 + v10;
    v5[1].i32[2] = v29;
    v5[1].i32[3] = v33 + v10 - v34;
    v3 += 2;
  }

  while (v3 != 16);
  v35 = a1[1];
  v36 = a1[14];
  v37 = a1[15];
  v38 = vaddq_s32(v36, *a1);
  v39 = vsubq_s32(*a1, v36);
  v40 = a1[2];
  v41 = a1[3];
  v42 = a1[12];
  v43 = a1[13];
  v44 = vaddq_s32(v42, v40);
  v45 = vsubq_s32(v40, v42);
  v46 = a1[4];
  v47 = a1[5];
  v48 = a1[10];
  v49 = a1[11];
  v50 = vaddq_s32(v48, v46);
  v51 = vsubq_s32(v46, v48);
  v52 = a1[6];
  v53 = a1[7];
  v54 = a1[8];
  v55 = a1[9];
  v56 = vaddq_s32(v54, v52);
  v57 = vsubq_s32(v52, v54);
  v58 = vaddq_s32(v56, v38);
  v59 = vsubq_s32(v38, v56);
  v60 = vaddq_s32(v50, v44);
  v61 = vaddq_s32(v58, v60);
  v62 = vsubq_s32(v58, v60);
  v63 = vaddq_s32(vsubq_s32(v44, v50), v59);
  v58.i64[0] = 0xB5000000B5;
  v58.i64[1] = 0xB5000000B5;
  v64 = vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v63.i8, 0xB5000000B5), 8uLL), vmull_high_s32(v63, v58), 8uLL);
  v65 = vaddq_s32(v59, v64);
  v66 = vsubq_s32(v59, v64);
  v67 = vaddq_s32(v57, v51);
  v68 = vaddq_s32(v51, v45);
  v69 = vaddq_s32(v45, v39);
  v70 = vsubq_s32(v67, v69);
  v57.i64[0] = 0x6200000062;
  v57.i64[1] = 0x6200000062;
  v71 = vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v70.i8, 0x6200000062), 8uLL), vmull_high_s32(v70, v57), 8uLL);
  v51.i64[0] = 0x8B0000008BLL;
  v51.i64[1] = 0x8B0000008BLL;
  v72 = vdupq_n_s32(0x14Eu);
  v73 = vaddq_s32(v71, vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v67.i8, 0x8B0000008BLL), 8uLL), vmull_high_s32(v67, v51), 8uLL));
  v74 = vaddq_s32(v71, vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v69.i8, *v72.i8), 8uLL), vmull_high_s32(v69, v72), 8uLL));
  v75 = vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v68.i8, 0xB5000000B5), 8uLL), vmull_high_s32(v68, v58), 8uLL);
  v76 = vaddq_s32(v39, v75);
  v77 = vsubq_s32(v39, v75);
  v78 = vaddq_s32(v37, v35);
  v79 = vsubq_s32(v35, v37);
  v80 = vaddq_s32(v43, v41);
  v81 = vsubq_s32(v41, v43);
  v82 = vaddq_s32(v49, v47);
  v83 = vsubq_s32(v47, v49);
  v84 = vaddq_s32(v55, v53);
  v85 = vsubq_s32(v53, v55);
  v86 = vaddq_s32(v84, v78);
  v87 = vsubq_s32(v78, v84);
  v88 = vaddq_s32(v82, v80);
  *a1 = v61;
  a1[1] = vaddq_s32(v86, v88);
  a1[8] = v62;
  a1[9] = vsubq_s32(v86, v88);
  v89 = vaddq_s32(vsubq_s32(v80, v82), v87);
  v90 = vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v89.i8, 0xB5000000B5), 8uLL), vmull_high_s32(v89, v58), 8uLL);
  a1[4] = v65;
  a1[5] = vaddq_s32(v87, v90);
  a1[12] = v66;
  a1[13] = vsubq_s32(v87, v90);
  v91 = vaddq_s32(v85, v83);
  v92 = vaddq_s32(v83, v81);
  v93 = vaddq_s32(v81, v79);
  v94 = vsubq_s32(v91, v93);
  v95 = vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v94.i8, 0x6200000062), 8uLL), vmull_high_s32(v94, v57), 8uLL);
  v96 = vaddq_s32(v95, vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v91.i8, 0x8B0000008BLL), 8uLL), vmull_high_s32(v91, v51), 8uLL));
  v97 = vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v92.i8, 0xB5000000B5), 8uLL), vmull_high_s32(v92, v58), 8uLL);
  v98 = vsubq_s32(v79, v97);
  a1[10] = vaddq_s32(v73, v77);
  a1[11] = vaddq_s32(v96, v98);
  a1[6] = vsubq_s32(v77, v73);
  a1[7] = vsubq_s32(v98, v96);
  v99 = vaddq_s32(v95, vshrn_high_n_s64(vshrn_n_s64(vmull_s32(*v93.i8, *v72.i8), 8uLL), vmull_high_s32(v93, v72), 8uLL));
  v100 = vaddq_s32(v79, v97);
  a1[2] = vaddq_s32(v74, v76);
  a1[3] = vaddq_s32(v99, v100);
  result = vsubq_s32(v100, v99);
  a1[14] = vsubq_s32(v76, v74);
  a1[15] = result;
  return result;
}

uint64_t sub_1003B5054(uint64_t result, uint64_t a2, unsigned int a3)
{
  for (i = 0; i != 64; i += 8)
  {
    v4 = (result + 4 * i);
    v5 = (*(a2 + i) + a3);
    v6 = *v5;
    v7 = v5[7];
    v8 = v5[1];
    v9 = v5[6];
    v10 = (v9 + v8);
    v11 = v5[2];
    v12 = v5[5];
    v13 = (v12 + v11);
    v14 = v5[3];
    LODWORD(v5) = v5[4];
    v15 = v5 + v14 + v7 + v6;
    v16 = v7 + v6 - (v5 + v14);
    v17 = v13 + v10;
    v18 = v10 - v13;
    v19 = v6 - v7;
    v20 = v8 - v9;
    v21 = v11 - v12;
    LODWORD(v5) = v14 - v5;
    v22 = 4433 * (v16 + v18) + 1024;
    v23 = (v22 + 6270 * v16) >> 11;
    v24 = (v22 + 0x7FFFFFFC4DFLL * v18) >> 11;
    v25 = 9633 * (v5 + v20 + v21 + v19) + 1024;
    v26 = v25 - 3196 * (v21 + v19);
    v27 = v25 - 16069 * (v5 + v20);
    *v4 = 4 * (v15 + v17) - 4096;
    v4[1] = (12299 * v19 - 7373 * (v5 + v19) + v26) >> 11;
    v4[2] = v23;
    v4[3] = (25172 * v20 - 20995 * (v21 + v20) + v27) >> 11;
    v4[4] = 4 * (v15 - v17);
    v4[5] = (16819 * v21 - 20995 * (v21 + v20) + v26) >> 11;
    v4[6] = v24;
    v4[7] = (2446 * v5 - 7373 * (v5 + v19) + v27) >> 11;
  }

  v28 = 0;
  do
  {
    v29 = (result + v28);
    v30 = *(result + v28);
    v31 = *(result + v28 + 224);
    v32 = v31 + v30;
    v33 = *(result + v28 + 32);
    v34 = *(result + v28 + 192);
    v35 = v34 + v33;
    v36 = *(result + v28 + 64);
    v37 = *(result + v28 + 160);
    v38 = v37 + v36;
    v39 = *(result + v28 + 96);
    v40 = *(result + v28 + 128);
    v41 = v40 + v39;
    v42 = v32 + v41 + 2;
    v43 = v32 - v41;
    v44 = v38 + v35;
    v45 = v35 - v38;
    v46 = v30 - v31;
    v47 = v33 - v34;
    v48 = v36 - v37;
    v49 = v39 - v40;
    *v29 = (v42 + v44) >> 2;
    v29[32] = (v42 - v44) >> 2;
    v50 = 4433 * (v43 + v45) + 0x4000;
    v29[16] = (v50 + 6270 * v43) >> 15;
    v29[48] = (v50 + 0x7FFFFFFFC4DFLL * v45) >> 15;
    v51 = v48 + v46;
    v52 = v49 + v47;
    v53 = 9633 * (v52 + v51) + 0x4000;
    v54 = v53 - 3196 * v51;
    v55 = v53 - 16069 * v52;
    v56 = -7373 * (v49 + v46);
    v57 = -20995 * (v48 + v47);
    v29[8] = (v56 + 12299 * v46 + v54) >> 15;
    v29[24] = (v57 + 25172 * v47 + v55) >> 15;
    v29[40] = (v57 + 16819 * v48 + v54) >> 15;
    v29[56] = (v56 + 2446 * v49 + v55) >> 15;
    v28 += 4;
  }

  while (v28 != 32);
  return result;
}

_OWORD *sub_1003B5334(_OWORD *result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  result[14] = 0u;
  result[15] = 0u;
  result[12] = 0u;
  result[13] = 0u;
  result[10] = 0u;
  result[11] = 0u;
  result[8] = 0u;
  result[9] = 0u;
  result[6] = 0u;
  result[7] = 0u;
  result[4] = 0u;
  result[5] = 0u;
  result[2] = 0u;
  result[3] = 0u;
  *result = 0u;
  result[1] = 0u;
  do
  {
    v4 = &result[v3];
    v5 = (*(a2 + v3 * 4) + a3);
    v6 = *v5;
    v7 = v5[6];
    v8 = v7 + v6;
    v9 = v5[1];
    v10 = v5[5];
    v11 = (v10 + v9);
    v12 = v5[2];
    v13 = v5[4];
    v14 = v13 + v12;
    v15 = v5[3];
    v16 = v6 - v7;
    v17 = v9 - v10;
    LODWORD(v5) = v12 - v13;
    v18 = v13 + v12 + v8;
    v19 = 4 * (v15 + v11 + v18) - 3584;
    v20 = v18 - 4 * v15;
    v21 = v8 - (v13 + v12);
    v22 = v11 - v14;
    v23 = (7542 * v21 + 2578 * (v11 - v14) + 2896 * v20 + 1024) >> 11;
    v24 = 7223 * (v8 - v11) + 1024;
    v25 = (v24 + 2578 * v22 + 0x7FFFFFFE95FLL * (v11 - 2 * v15)) >> 11;
    v4[6] = (v24 - 7542 * v21 + 2896 * v20) >> 11;
    LODWORD(v24) = v17 + v16;
    v26 = 1395 * (v16 - v17);
    v27 = v5 + v17;
    v28 = 5027 * (v5 + v16) + 1024;
    *v4 = v19;
    v4[1] = (v28 - v26 + 7663 * v24) >> 11;
    v4[2] = v23;
    v4[3] = (v26 - 11295 * v27 + 7663 * v24 + 1024) >> 11;
    v4[4] = v25;
    v4[5] = (v28 + 15326 * v5 - 11295 * v27) >> 11;
    v3 += 2;
  }

  while (v3 != 14);
  v29 = 0;
  do
  {
    v30 = (result + v29);
    v31 = *(result + v29);
    v32 = *(result + v29 + 192);
    v33 = v32 + v31;
    v34 = *(result + v29 + 32);
    v35 = *(result + v29 + 160);
    v36 = v35 + v34;
    v37 = *(result + v29 + 64);
    v38 = *(result + v29 + 128);
    v39 = v38 + v37;
    v40 = *(result + v29 + 96);
    v41 = v31 - v32;
    v42 = v34 - v35;
    v43 = v37 - v38;
    *v30 = (10700 * (v40 + v36 + v39 + v33) + 0x4000) >> 15;
    v44 = 3783 * (v39 + v33 - 4 * v40);
    v45 = 9850 * (v33 - v39);
    v46 = 3367 * (v36 - v39);
    v30[16] = (v46 + v45 + v44 + 0x4000) >> 15;
    v47 = 9434 * (v33 - v36) + 0x4000;
    v30[32] = (v47 + v46 + 0x7FFFFFFFE272 * (v36 - 2 * v40)) >> 15;
    v30[48] = (v47 - v45 + v44) >> 15;
    v48 = 10009 * (v42 + v41);
    v49 = 1822 * (v41 - v42);
    v50 = -14752 * (v43 + v42);
    v51 = 6565 * (v43 + v41) + 0x4000;
    v30[8] = (v51 - v49 + v48) >> 15;
    v30[24] = (v50 + v49 + v48 + 0x4000) >> 15;
    v30[40] = (v51 + 20017 * v43 + v50) >> 15;
    v29 += 4;
  }

  while (v29 != 28);
  return result;
}

uint64_t sub_1003B5604(uint64_t result, void *a2, unsigned int a3)
{
  v3 = 0;
  *(result + 224) = 0u;
  *(result + 240) = 0u;
  *(result + 192) = 0u;
  *(result + 208) = 0u;
  *(result + 160) = 0u;
  *(result + 176) = 0u;
  *(result + 128) = 0u;
  *(result + 144) = 0u;
  *(result + 96) = 0u;
  *(result + 112) = 0u;
  *(result + 64) = 0u;
  *(result + 80) = 0u;
  *(result + 32) = 0u;
  *(result + 48) = 0u;
  *result = 0u;
  *(result + 16) = 0u;
  v4 = a3;
  v5 = a2[1];
  v6 = (*a2 + a3);
  v7 = *v6;
  v8 = v6[5];
  v9 = v6[1];
  v10 = v6[4];
  v11 = v10 + v9;
  v12 = v6[2];
  LODWORD(v6) = v6[3];
  v13 = v6 + v12 + v8 + v7;
  v14 = v8 + v7 - (v6 + v12);
  v15 = v9 - v10;
  v16 = v12 - v6;
  v17 = 4 * (v13 + v11) - 3072;
  v18 = (5793 * (v13 - 2 * v11) + 1024) >> 11;
  v19 = (2998 * (v16 + v7 - v8) + 1024) >> 11;
  *result = v17;
  *(result + 4) = v19 + 4 * (v15 + v7 - v8);
  *(result + 8) = (10033 * v14 + 1024) >> 11;
  *(result + 12) = 4 * (v7 - v8 - (v15 + v16));
  *(result + 16) = v18;
  *(result + 20) = v19 + 4 * (v16 - v15);
  v20 = (v5 + v4);
  v21 = *v20;
  v22 = v20[5];
  v23 = v20[1];
  v24 = v20[4];
  LODWORD(v19) = v20[2];
  LODWORD(v20) = v20[3];
  v25 = v20 + v19 + v22 + v21;
  LODWORD(v18) = v22 + v21 - (v20 + v19);
  v26 = v21 - v22;
  LODWORD(v20) = v19 - v20;
  v27 = (2998 * (v20 + v26) + 1024) >> 11;
  *(result + 32) = 4 * (v25 + v24 + v23) - 3072;
  *(result + 36) = v27 + 4 * (v23 - v24 + v26);
  *(result + 40) = (10033 * v18 + 1024) >> 11;
  *(result + 44) = 4 * (v26 - (v23 - v24 + v20));
  *(result + 48) = (5793 * (v25 - 2 * (v24 + v23)) + 1024) >> 11;
  *(result + 52) = v27 + 4 * (v20 - (v23 - v24));
  v28 = a2[3];
  v29 = (a2[2] + v4);
  v30 = *v29;
  LODWORD(v18) = v29[5];
  v31 = v29[2];
  LODWORD(v27) = v29[3];
  v32 = v27 + v31 + v18 + v30;
  v33 = v18 + v30 - (v27 + v31);
  v34 = v29[1];
  LODWORD(v29) = v29[4];
  v35 = v30 - v18;
  LODWORD(v18) = v29 + v34;
  LODWORD(v29) = v34 - v29;
  v36 = v31 - v27;
  v37 = (2998 * (v36 + v35) + 1024) >> 11;
  *(result + 64) = 4 * (v32 + v18) - 3072;
  *(result + 68) = v37 + 4 * (v29 + v35);
  *(result + 72) = (10033 * v33 + 1024) >> 11;
  *(result + 76) = 4 * (v35 - (v29 + v36));
  *(result + 80) = (5793 * (v32 - 2 * v18) + 1024) >> 11;
  *(result + 84) = v37 + 4 * (v36 - v29);
  v38 = (v28 + v4);
  LODWORD(v28) = *(v28 + v4);
  v39 = v38[5];
  v40 = v38[1];
  v41 = v38[4];
  LODWORD(v27) = v38[2];
  LODWORD(v38) = v38[3];
  v42 = v38 + v27 + v39 + v28;
  LODWORD(v18) = v39 + v28 - (v38 + v27);
  LODWORD(v28) = v28 - v39;
  LODWORD(v38) = v27 - v38;
  v43 = (2998 * (v38 + v28) + 1024) >> 11;
  *(result + 96) = 4 * (v42 + v41 + v40) - 3072;
  *(result + 100) = v43 + 4 * (v40 - v41 + v28);
  *(result + 104) = (10033 * v18 + 1024) >> 11;
  *(result + 108) = 4 * (v28 - (v40 - v41 + v38));
  *(result + 112) = (5793 * (v42 - 2 * (v41 + v40)) + 1024) >> 11;
  *(result + 116) = v43 + 4 * (v38 - (v40 - v41));
  v44 = a2[5];
  v45 = (a2[4] + v4);
  v46 = *v45;
  LODWORD(v18) = v45[5];
  v47 = v45[1];
  v48 = v45[4];
  LODWORD(v43) = v45[2];
  LODWORD(v45) = v45[3];
  v49 = v45 + v43 + v18 + v46;
  v50 = v18 + v46 - (v45 + v43);
  v51 = v46 - v18;
  LODWORD(v45) = v43 - v45;
  v52 = (2998 * (v45 + v51) + 1024) >> 11;
  *(result + 128) = 4 * (v49 + v48 + v47) - 3072;
  *(result + 132) = v52 + 4 * (v47 - v48 + v51);
  *(result + 136) = (10033 * v50 + 1024) >> 11;
  *(result + 140) = 4 * (v51 - (v47 - v48 + v45));
  *(result + 144) = (5793 * (v49 - 2 * (v48 + v47)) + 1024) >> 11;
  *(result + 148) = v52 + 4 * (v45 - (v47 - v48));
  v53 = (v44 + v4);
  LODWORD(v45) = *v53;
  LODWORD(v44) = v53[5];
  LODWORD(v18) = v53[1];
  v54 = v53[4];
  v55 = v53[2];
  LODWORD(v53) = v53[3];
  LODWORD(v37) = v53 + v55 + v44 + v45;
  v56 = v44 + v45 - (v53 + v55);
  LODWORD(v45) = v45 - v44;
  LODWORD(v53) = v55 - v53;
  v57 = (2998 * (v53 + v45) + 1024) >> 11;
  *(result + 160) = 4 * (v37 + v54 + v18) - 3072;
  *(result + 164) = v57 + 4 * (v18 - v54 + v45);
  *(result + 168) = (10033 * v56 + 1024) >> 11;
  *(result + 172) = 4 * (v45 - (v18 - v54 + v53));
  *(result + 176) = (5793 * (v37 - 2 * (v54 + v18)) + 1024) >> 11;
  *(result + 180) = v57 + 4 * (v53 - (v18 - v54));
  do
  {
    v58 = (result + v3);
    v59 = *(result + v3);
    v60 = *(result + v3 + 160);
    v61 = v60 + v59;
    v62 = *(result + v3 + 32);
    v63 = *(result + v3 + 128);
    v64 = v63 + v62;
    v65 = *(result + v3 + 64);
    v66 = *(result + v3 + 96);
    v67 = v66 + v65;
    v68 = v59 - v60;
    v69 = v62 - v63;
    v70 = v65 - v66;
    *v58 = (14564 * (v67 + v61 + v64) + 0x4000) >> 15;
    v58[16] = (17837 * (v61 - v67) + 0x4000) >> 15;
    v58[32] = (10298 * (v67 + v61 - 2 * v64) + 0x4000) >> 15;
    v71 = 5331 * (v70 + v68) + 0x4000;
    v58[8] = (v71 + 14564 * (v69 + v68)) >> 15;
    v58[24] = (14564 * (v68 - (v69 + v70)) + 0x4000) >> 15;
    v58[40] = (v71 + 14564 * (v70 - v69)) >> 15;
    v3 += 4;
  }

  while (v3 != 24);
  return result;
}

double sub_1003B5AD4(int *a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 14) = 0u;
  *(a1 + 15) = 0u;
  *(a1 + 12) = 0u;
  *(a1 + 13) = 0u;
  *(a1 + 10) = 0u;
  *(a1 + 11) = 0u;
  *(a1 + 8) = 0u;
  *(a1 + 9) = 0u;
  *(a1 + 6) = 0u;
  *(a1 + 7) = 0u;
  *(a1 + 4) = 0u;
  *(a1 + 5) = 0u;
  *(a1 + 2) = 0u;
  *(a1 + 3) = 0u;
  *a1 = 0u;
  *(a1 + 1) = 0u;
  v4 = a3;
  v5 = a2[1];
  v6 = (*a2 + a3);
  v7 = *v6;
  v8 = v6[4];
  v9 = v6[1];
  v10 = v6[3];
  LODWORD(v6) = v6[2];
  v11 = v10 + v9 + v8 + v7;
  v12 = v8 + v7 - (v10 + v9);
  v13 = v7 - v8;
  v14 = v9 - v10;
  LODWORD(v9) = 8 * (v11 + v6) - 5120;
  v15 = v11 - 4 * v6;
  v16 = 6476 * v12 + 512;
  a1[4] = (v16 - 2896 * v15) >> 10;
  v17 = 6810 * (v14 + v13) + 512;
  *a1 = v9;
  a1[1] = (v17 + 4209 * v13) >> 10;
  a1[2] = (v16 + 2896 * v15) >> 10;
  a1[3] = (v17 + 0x3FFFFFFBA5CLL * v14) >> 10;
  v18 = (v5 + v4);
  v19 = *v18;
  LODWORD(v17) = v18[4];
  v20 = v18[1];
  v21 = v18[3];
  LODWORD(v18) = v18[2];
  v22 = v21 + v20 + v17 + v19;
  v23 = v17 + v19 - (v21 + v20);
  v24 = v19 - v17;
  v25 = v20 - v21;
  LODWORD(v20) = 8 * (v22 + v18) - 5120;
  LODWORD(v18) = v22 - 4 * v18;
  v26 = 6476 * v23 + 512;
  v27 = (v26 + 2896 * v18) >> 10;
  a1[12] = (v26 - 2896 * v18) >> 10;
  v28 = 6810 * (v25 + v24) + 512;
  a1[8] = v20;
  a1[9] = (v28 + 4209 * v24) >> 10;
  a1[10] = v27;
  a1[11] = (v28 + 0x3FFFFFFBA5CLL * v25) >> 10;
  v29 = a2[3];
  v30 = (a2[2] + v4);
  LODWORD(v25) = *v30;
  LODWORD(v26) = v30[4];
  v31 = v30[1];
  v32 = v30[3];
  LODWORD(v30) = v30[2];
  v33 = v32 + v31 + v26 + v25;
  LODWORD(v20) = v26 + v25 - (v32 + v31);
  LODWORD(v25) = v25 - v26;
  v34 = v31 - v32;
  LODWORD(v31) = 8 * (v33 + v30) - 5120;
  LODWORD(v30) = v33 - 4 * v30;
  v35 = 6476 * v20 + 512;
  v36 = (v35 + 2896 * v30) >> 10;
  a1[20] = (v35 - 2896 * v30) >> 10;
  v37 = 6810 * (v34 + v25) + 512;
  a1[16] = v31;
  a1[17] = (v37 + 4209 * v25) >> 10;
  a1[18] = v36;
  a1[19] = (v37 + 0x3FFFFFFBA5CLL * v34) >> 10;
  v38 = (v29 + v4);
  LODWORD(v29) = *(v29 + v4);
  LODWORD(v25) = v38[4];
  v39 = v38[1];
  v40 = v38[3];
  v41 = v38[2];
  v42 = v40 + v39 + v25 + v29;
  LODWORD(v34) = v25 + v29 - (v40 + v39);
  LODWORD(v29) = v29 - v25;
  v43 = v39 - v40;
  LODWORD(v38) = 8 * (v42 + v41) - 5120;
  LODWORD(v39) = v42 - 4 * v41;
  v44 = 6476 * v34 + 512;
  v45 = (v44 + 2896 * v39) >> 10;
  v46 = (v44 - 2896 * v39) >> 10;
  v47 = 6810 * (v43 + v29) + 512;
  v48 = (a2[4] + v4);
  a1[27] = (v47 + 0x3FFFFFFBA5CLL * v43) >> 10;
  a1[28] = v46;
  a1[24] = v38;
  a1[25] = (v47 + 4209 * v29) >> 10;
  a1[26] = v45;
  LODWORD(v29) = *v48;
  LODWORD(v43) = v48[4];
  v49 = v48[1];
  v50 = v48[3];
  LODWORD(v36) = v50 + v49 + v43 + v29;
  v51 = v48[2];
  LODWORD(v48) = 8 * (v36 + v51) - 5120;
  LODWORD(v10) = v36 - 4 * v51;
  v52 = v43 + v29 - (v50 + v49);
  LODWORD(v29) = v29 - v43;
  v53 = 6476 * v52 + 512;
  v54 = (v53 + 2896 * v10) >> 10;
  v55 = (v53 - 2896 * v10) >> 10;
  v56 = 6810 * (v49 - v50 + v29) + 512;
  v57 = (v56 + 4209 * v29) >> 10;
  v58 = (v56 + 0x3FFFFFFBA5CLL * (v49 - v50)) >> 10;
  v59 = *a1;
  LODWORD(v43) = a1[1];
  v60 = v48 + *a1;
  LODWORD(v10) = a1[8];
  LODWORD(v53) = a1[9];
  v61 = v38 + v10;
  v62 = v61 + v60;
  a1[35] = v58;
  a1[36] = v55;
  v63 = v60 - v61;
  LODWORD(v36) = v59 - v48;
  v64 = v10 - v38;
  v66 = a1[16];
  v65 = a1[17];
  a1[34] = v54;
  v67 = (10486 * (v62 + v66) + 0x4000) >> 15;
  v68 = 3707 * (v62 - 4 * v66);
  v69 = 8290 * v63 + 0x4000;
  v70 = 8716 * (v64 + v36) + 0x4000;
  v71 = (v70 + 5387 * v36) >> 15;
  v72 = (v70 + 0x7FFFFFFFA6DCLL * v64) >> 15;
  v73 = v43 + v57;
  v74 = a1[25];
  LODWORD(v64) = a1[26];
  v75 = v74 + v53;
  LODWORD(v57) = v43 - v57;
  v76 = v53 - v74;
  *a1 = v67;
  a1[1] = (10486 * (v75 + v73 + v65) + 0x4000) >> 15;
  v77 = 3707 * (v75 + v73 - 4 * v65);
  v78 = 8290 * (v73 - v75) + 0x4000;
  a1[16] = (v69 + v68) >> 15;
  a1[17] = (v78 + v77) >> 15;
  a1[32] = (v69 - v68) >> 15;
  a1[33] = (v78 - v77) >> 15;
  v79 = 8716 * (v76 + v57) + 0x4000;
  a1[8] = v71;
  a1[9] = (v79 + 5387 * v57) >> 15;
  a1[24] = v72;
  a1[25] = (v79 + 0x7FFFFFFFA6DCLL * v76) >> 15;
  LODWORD(v78) = a1[2];
  LODWORD(v57) = a1[3];
  LODWORD(v72) = a1[34];
  LODWORD(v76) = a1[35];
  v80 = v72 + v78;
  LODWORD(v71) = a1[10];
  LODWORD(v79) = a1[11];
  v81 = v64 + v71;
  v82 = v81 + v80;
  v83 = v80 - v81;
  LODWORD(v81) = v78 - v72;
  v84 = v71 - v64;
  v85 = a1[18];
  v86 = a1[19];
  v87 = v82 + v85;
  v88 = 3707 * (v82 - 4 * v85);
  v89 = 8290 * v83 + 0x4000;
  v90 = v89 + v88;
  v91 = v89 - v88;
  v92 = 8716 * (v84 + v81) + 0x4000;
  v93 = v92 + 5387 * v81;
  v94 = v92 + 0x7FFFFFFFA6DCLL * v84;
  v95 = v76 + v57;
  LODWORD(v92) = a1[27];
  v96 = a1[28];
  v97 = v92 + v79;
  LODWORD(v57) = v57 - v76;
  LODWORD(v79) = v79 - v92;
  a1[2] = (10486 * v87 + 0x4000) >> 15;
  a1[3] = (10486 * (v97 + v95 + v86) + 0x4000) >> 15;
  v98 = v90 >> 15;
  v99 = v91 >> 15;
  v100 = v93 >> 15;
  v101 = v94 >> 15;
  v102 = 3707 * (v97 + v95 - 4 * v86);
  v103 = 8290 * (v95 - v97) + 0x4000;
  a1[18] = v98;
  a1[19] = (v103 + v102) >> 15;
  a1[34] = v99;
  a1[35] = (v103 - v102) >> 15;
  v104 = 8716 * (v79 + v57) + 0x4000;
  a1[10] = v100;
  a1[11] = (v104 + 5387 * v57) >> 15;
  a1[26] = v101;
  a1[27] = (v104 + 0x7FFFFFFFA6DCLL * v79) >> 15;
  LODWORD(v104) = a1[4];
  LODWORD(v57) = a1[36];
  v105 = v57 + v104;
  LODWORD(v79) = a1[12];
  v106 = v96 + v79;
  v107 = a1[20];
  LODWORD(v104) = v104 - v57;
  v108 = v79 - v96;
  a1[4] = (10486 * (v106 + v105 + v107) + 0x4000) >> 15;
  v109 = 3707 * (v106 + v105 - 4 * v107);
  v110 = 8290 * (v105 - v106) + 0x4000;
  a1[20] = (v110 + v109) >> 15;
  a1[36] = (v110 - v109) >> 15;
  v111 = 8716 * (v108 + v104) + 0x4000;
  a1[12] = (v111 + 5387 * v104) >> 15;
  a1[28] = (v111 + 0x7FFFFFFFA6DCLL * v108) >> 15;
  return result;
}

double sub_1003B6024(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = a2[1];
  v5 = (*a2 + a3);
  v6 = *v5;
  v7 = v5[3];
  v8 = v7 + v6;
  v9 = v5[1];
  v10 = v5[2];
  v11 = v10 + v9;
  v12 = v6 - v7;
  v13 = v9 - v10;
  v14 = 16 * (v11 + v8) - 0x2000;
  v15 = 16 * (v8 - v11);
  v16 = 4433 * (v13 + v12) + 256;
  *a1 = v14;
  *(a1 + 4) = (v16 + 6270 * v12) >> 9;
  *(a1 + 8) = v15;
  *(a1 + 12) = (v16 + 0x1FFFFFFC4DFLL * v13) >> 9;
  v17 = (v4 + a3);
  v18 = *v17;
  LODWORD(v13) = v17[3];
  LODWORD(v16) = v13 + v18;
  v19 = v17[1];
  v20 = v17[2];
  v21 = v20 + v19;
  v22 = v18 - v13;
  v23 = v19 - v20;
  v24 = 4433 * (v23 + v22) + 256;
  *(a1 + 32) = 16 * (v21 + v16) - 0x2000;
  *(a1 + 36) = (v24 + 6270 * v22) >> 9;
  *(a1 + 40) = 16 * (v16 - v21);
  *(a1 + 44) = (v24 + 0x1FFFFFFC4DFLL * v23) >> 9;
  v25 = a2[3];
  v26 = (a2[2] + a3);
  v27 = *v26;
  LODWORD(v16) = v26[3];
  LODWORD(v24) = v16 + v27;
  v28 = v26[1];
  v29 = v26[2];
  v30 = v29 + v28;
  v31 = v27 - v16;
  v32 = v28 - v29;
  LODWORD(v29) = 16 * (v29 + v28 + v24) - 0x2000;
  v33 = 4433 * (v32 + v31) + 256;
  v34 = (v33 + 6270 * v31) >> 9;
  *(a1 + 64) = v29;
  *(a1 + 68) = v34;
  *(a1 + 72) = 16 * (v24 - v30);
  *(a1 + 76) = (v33 + 0x1FFFFFFC4DFLL * v32) >> 9;
  v35 = (v25 + a3);
  LODWORD(v25) = *v35;
  LODWORD(v32) = v35[3];
  LODWORD(v33) = v32 + v25;
  v36 = v35[1];
  v37 = v35[2];
  v38 = v37 + v36;
  LODWORD(v32) = v25 - v32;
  v39 = v36 - v37;
  LODWORD(v36) = 16 * (v38 + v33) - 0x2000;
  LODWORD(v25) = v33 - v38;
  v40 = 4433 * (v39 + v32) + 256;
  v41 = (v40 + 6270 * v32) >> 9;
  v42 = v40 + 0x1FFFFFFC4DFLL * v39;
  LODWORD(v40) = *(a1 + 4);
  v43 = v36 + *a1 + 2;
  v44 = *(a1 + 32);
  v45 = *(a1 + 36);
  v46 = v29 + v44;
  v47 = *a1 - v36;
  v48 = v44 - v29;
  v49 = (v43 + v46) >> 2;
  v50 = v43 - v46;
  v51 = 4433 * (v48 + v47) + 0x4000;
  v52 = v51 + 6270 * v47;
  v53 = v51 + 0x7FFFFFFFC4DFLL * v48;
  v54 = v40 + v41 + 2;
  LODWORD(v41) = v40 - v41;
  v55 = v45 + v34;
  *a1 = v49;
  *(a1 + 4) = (v54 + v55) >> 2;
  LODWORD(v25) = 16 * v25;
  v56 = v45 - v34;
  *(a1 + 64) = v50 >> 2;
  *(a1 + 68) = (v54 - v55) >> 2;
  v57 = 4433 * (v56 + v41) + 0x4000;
  *(a1 + 32) = v52 >> 15;
  *(a1 + 36) = (v57 + 6270 * v41) >> 15;
  *(a1 + 96) = v53 >> 15;
  *(a1 + 100) = (v57 + 0x7FFFFFFFC4DFLL * v56) >> 15;
  LODWORD(v56) = *(a1 + 8);
  LODWORD(v41) = *(a1 + 12);
  v58 = v25 + v56 + 2;
  LODWORD(v56) = v56 - v25;
  LODWORD(v25) = *(a1 + 40);
  LODWORD(v57) = *(a1 + 44);
  LODWORD(v50) = *(a1 + 72);
  LODWORD(v49) = *(a1 + 76);
  v59 = v50 + v25;
  v60 = v25 - v50;
  v61 = v58 + v59;
  v62 = v58 - v59;
  v63 = 4433 * (v60 + v56) + 0x4000;
  v42 >>= 9;
  *(a1 + 104) = (v63 + 0x7FFFFFFFC4DFLL * v60) >> 15;
  *(a1 + 108) = v42;
  v64 = v42 + v41 + 2;
  LODWORD(v42) = v41 - v42;
  v65 = v49 + v57;
  v66 = v57 - v49;
  *(a1 + 8) = v61 >> 2;
  *(a1 + 12) = (v64 + v65) >> 2;
  *(a1 + 72) = v62 >> 2;
  *(a1 + 76) = (v64 - v65) >> 2;
  v67 = 4433 * (v66 + v42) + 0x4000;
  *(a1 + 40) = (v63 + 6270 * v56) >> 15;
  *(a1 + 44) = (v67 + 6270 * v42) >> 15;
  *(a1 + 108) = (v67 + 0x7FFFFFFFC4DFLL * v66) >> 15;
  return result;
}

double sub_1003B6338(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = a2[1];
  v5 = (*a2 + a3);
  v6 = *v5;
  v7 = v5[2];
  LODWORD(v5) = v5[1];
  v8 = 16 * (v7 + v6 + v5);
  *(a1 + 8) = (5793 * (v7 + v6 - 2 * v5) + 256) >> 9;
  v9 = (10033 * (v6 - v7) + 256) >> 9;
  *a1 = v8 - 6144;
  *(a1 + 4) = v9;
  v10 = (v4 + a3);
  LODWORD(v4) = *v10;
  v11 = v10[2];
  v12 = v11 + v4;
  LODWORD(v10) = v10[1];
  v13 = v4 - v11;
  v14 = 16 * (v12 + v10) - 6144;
  LODWORD(v4) = 5793 * (v12 - 2 * v10) + 256;
  v15 = 10033 * v13 + 256;
  *(a1 + 32) = v14;
  *(a1 + 36) = v15 >> 9;
  *(a1 + 40) = v4 >> 9;
  v16 = (a2[2] + a3);
  v17 = *v16;
  v18 = v16[2];
  v19 = v18 + v17;
  LODWORD(v16) = v16[1];
  v20 = v17 - v18;
  v21 = 16 * (v19 + v16);
  LODWORD(v16) = (5793 * (v19 - 2 * v16) + 256) >> 9;
  v22 = (10033 * v20 + 256) >> 9;
  v23 = v21 - 6144 + v8 - 6144;
  *a1 = (14564 * (v23 + v14) + 0x4000) >> 15;
  *(a1 + 4) = (14564 * (v22 + v9 + (v15 >> 9)) + 0x4000) >> 15;
  *(a1 + 64) = (10298 * (v23 - 2 * v14) + 0x4000) >> 15;
  *(a1 + 68) = (10298 * (v22 + v9 - 2 * (v15 >> 9)) + 0x4000) >> 15;
  *(a1 + 32) = (17837 * (v8 - v21) + 0x4000) >> 15;
  *(a1 + 36) = (17837 * (v9 - v22) + 0x4000) >> 15;
  v24 = *(a1 + 8);
  v25 = v16 + v24;
  *(a1 + 8) = (14564 * (v25 + (v4 >> 9)) + 0x4000) >> 15;
  *(a1 + 72) = (10298 * (v25 - 2 * (v4 >> 9)) + 0x4000) >> 15;
  *(a1 + 40) = (17837 * (v24 - v16) + 0x4000) >> 15;
  return result;
}

double sub_1003B6504(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = (*a2 + a3);
  v5 = *v4;
  LODWORD(v4) = v4[1];
  v6 = v4 + v5;
  LODWORD(v4) = v5 - v4;
  v7 = (a2[1] + a3);
  v8 = *v7;
  LODWORD(v7) = v7[1];
  v9 = v7 + v8;
  LODWORD(v7) = v8 - v7;
  *a1 = 16 * (v9 + v6) - 0x2000;
  *(a1 + 4) = 16 * (v7 + v4);
  *(a1 + 32) = 16 * (v6 - v9);
  *(a1 + 36) = 16 * (v4 - v7);
  return result;
}

double sub_1003B6588(_OWORD *a1, void *a2, unsigned int a3)
{
  result = 0.0;
  a1[14] = 0u;
  a1[15] = 0u;
  a1[12] = 0u;
  a1[13] = 0u;
  a1[10] = 0u;
  a1[11] = 0u;
  a1[8] = 0u;
  a1[9] = 0u;
  a1[6] = 0u;
  a1[7] = 0u;
  a1[4] = 0u;
  a1[5] = 0u;
  a1[2] = 0u;
  a1[3] = 0u;
  *a1 = 0u;
  a1[1] = 0u;
  *a1 = (*(*a2 + a3) << 6) - 0x2000;
  return result;
}

_DWORD *sub_1003B65C4(_DWORD *result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  for (i = result; ; i += 8)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v3) + a3);
      v6 = *v5;
      v7 = v5[8];
      v8 = (v7 + v6);
      v9 = v5[1];
      v10 = v5[7];
      v11 = (v10 + v9);
      v12 = v5[2];
      v13 = v5[6];
      v14 = (v13 + v12);
      v15 = v5[3];
      v16 = v5[5];
      v17 = (v16 + v15);
      v18 = v5[4];
      v19 = v6 - v7;
      LODWORD(v5) = v9 - v10;
      v20 = v12 - v13;
      v21 = v14 + v8 + v17;
      v22 = 2 * (v21 + v18 + v11) - 2304;
      v23 = (5793 * (v21 - 2 * (v18 + v11)) + 2048) >> 12;
      LODWORD(v11) = v11 - 2 * v18;
      v24 = 10887 * (v8 - v14) + 2048;
      v25 = (v24 + 2012 * (v17 - v8) - 5793 * v11) >> 12;
      i[2] = (v24 + 8875 * (v14 - v17) + 5793 * v11) >> 12;
      i[3] = (10033 * (v19 - (v20 + v15 - v16)) + 2048) >> 12;
      v26 = 7447 * (v20 + v19);
      v27 = 3962 * (v15 - v16 + v19);
      *i = v22;
      i[1] = (v26 + 10033 * v5 + v27 + 2048) >> 12;
      v28 = v20 - (v15 - v16);
      i[4] = v25;
      i[5] = (v26 - 11409 * v28 - 10033 * v5 + 2048) >> 12;
      i[6] = v23;
      i[7] = (v27 - 10033 * v5 + 11409 * v28 + 2048) >> 12;
      if (v3 != 7)
      {
        break;
      }

      i = v54;
      ++v3;
    }

    if (v3 == 8)
    {
      break;
    }

    ++v3;
  }

  v29 = 0;
  do
  {
    v30 = &result[v29];
    v31 = result[v29];
    v32 = *&v54[v29 * 4];
    v33 = v32 + v31;
    v34 = result[v29 + 8];
    v35 = result[v29 + 56];
    v36 = v35 + v34;
    v37 = result[v29 + 16];
    v38 = result[v29 + 48];
    v39 = v38 + v37;
    v40 = result[v29 + 24];
    v41 = result[v29 + 40];
    v42 = v41 + v40;
    v43 = result[v29 + 32];
    v44 = v31 - v32;
    v45 = v34 - v35;
    v46 = v37 - v38;
    v47 = v40 - v41;
    v48 = v39 + v33 + v42;
    *v30 = (12945 * (v48 + v43 + v36) + 0x4000) >> 15;
    v30[48] = (9154 * (v48 - 2 * (v43 + v36)) + 0x4000) >> 15;
    v49 = 9154 * (v36 - 2 * v43);
    v50 = 17203 * (v33 - v39) + 0x4000;
    v30[16] = (v50 + 14024 * (v39 - v42) + v49) >> 15;
    v30[32] = (v50 + 3179 * (v42 - v33) - v49) >> 15;
    v30[24] = (15855 * (v44 - (v46 + v47)) + 0x4000) >> 15;
    v51 = 11768 * (v46 + v44);
    v52 = 6262 * (v47 + v44);
    v30[8] = (v51 + 15855 * v45 + v52 + 0x4000) >> 15;
    v53 = 18029 * (v46 - v47);
    v30[40] = (v51 - 15855 * v45 - v53 + 0x4000) >> 15;
    v30[56] = (v52 - 15855 * v45 + v53 + 0x4000) >> 15;
    ++v29;
  }

  while ((v29 * 4) != 32);
  return result;
}

unint64_t sub_1003B6900(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  for (i = a1; ; i += 8)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v3) + a3);
      v6 = *v5;
      v7 = v5[9];
      v8 = v5[1];
      v9 = v5[8];
      v10 = (v9 + v8);
      v11 = v5[3];
      v12 = v5[6];
      v13 = (v12 + v11);
      v14 = v5[4];
      v15 = v5[5];
      v16 = v15 + v14 + v7 + v6;
      v17 = v7 + v6 - (v15 + v14);
      v18 = v13 + v10;
      v19 = v10 - v13;
      v20 = v6 - v7;
      v21 = v5[2];
      v22 = v5[7];
      v23 = v8 - v9;
      LODWORD(v8) = v22 + v21;
      v24 = v21 - v22;
      v25 = v11 - v12;
      LODWORD(v11) = v8 + v16 + v18;
      v26 = (0xFFFFFFFF204 * (v18 - (2 * v8)) + 9373 * (v16 - 2 * v8) + 2048) >> 12;
      v27 = 6810 * (v17 + v19) + 2048;
      LODWORD(v8) = v14 - v15 + v20;
      i[4] = v26;
      i[5] = 2 * (v8 - (v23 - v25 + v24));
      v24 <<= 13;
      *i = 2 * v11 - 2560;
      i[1] = (10323 * v23 + 11443 * v20 + v24 + 5260 * v25 + 1812 * (v14 - v15) + 2048) >> 12;
      v28 = -4815 * (v25 + v23) + 7791 * (v20 - (v14 - v15));
      v29 = 2531 * (v8 + v23 - v25) - v24 + ((v23 - v25) << 12);
      v28 += 2048;
      i[2] = (v27 + 4209 * v17) >> 12;
      i[3] = (v28 + v29) >> 12;
      i[6] = (v27 + 0xFFFFFFFBA5CLL * v19) >> 12;
      i[7] = (v28 - v29) >> 12;
      if (v3 != 7)
      {
        break;
      }

      i = v64;
      ++v3;
    }

    if (v3 == 9)
    {
      break;
    }

    ++v3;
  }

  v30 = 0;
  do
  {
    v31 = &a1[v30];
    v32 = a1[v30];
    v33 = *&v64[v30 * 4 + 32];
    v34 = v33 + v32;
    v35 = a1[v30 + 8];
    v36 = *&v64[v30 * 4];
    v37 = v36 + v35;
    v38 = a1[v30 + 24];
    v39 = a1[v30 + 48];
    v40 = v39 + v38;
    v41 = a1[v30 + 32];
    v42 = a1[v30 + 40];
    v43 = v42 + v41;
    v44 = v43 + v34;
    v45 = v34 - v43;
    v46 = v40 + v37;
    v47 = v37 - v40;
    LODWORD(v40) = a1[v30 + 16];
    v48 = v32 - v33;
    v49 = a1[v30 + 56];
    v50 = v35 - v36;
    v51 = v49 + v40;
    v52 = v40 - v49;
    *v31 = (10486 * (v46 + v51 + v44) + 0x4000) >> 15;
    v53 = 2 * v51;
    v54 = v44 - v53;
    v55 = v46 - v53;
    v56 = v38 - v39;
    v31[32] = (11997 * v54 + 0x7FFFFFFFEE1ALL * v55 + 0x4000) >> 15;
    v57 = 8716 * (v45 + v47) + 0x4000;
    v31[16] = (v57 + 5387 * v45) >> 15;
    v31[48] = (v57 + 0x7FFFFFFFA6DCLL * v47) >> 15;
    v58 = v41 - v42 + v48;
    v59 = v50 - v56;
    v31[40] = (10486 * (v58 - (v59 + v52)) + 0x4000) >> 15;
    v31[8] = (13213 * v50 + 14647 * v48 + 10486 * v52 + 6732 * v56 + 2320 * (v41 - v42) + 0x4000) >> 15;
    v60 = 5243 * v59 - 10486 * v52 + 3240 * (v58 + v59);
    v61 = -6163 * (v56 + v50) + 9973 * (v48 - (v41 - v42)) + 0x4000;
    result = (v61 + v60) >> 15;
    v31[24] = result;
    v31[56] = (v61 - v60) >> 15;
    ++v30;
  }

  while ((v30 * 4) != 32);
  return result;
}

uint64_t sub_1003B6CBC(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  for (i = a1; ; i += 8)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v3) + a3);
      v6 = *v5;
      v7 = v5[10];
      v8 = (v7 + v6);
      v9 = v5[2];
      v10 = v5[8];
      v11 = (v10 + v9);
      v12 = v5[3];
      v13 = v5[7];
      v14 = (v13 + v12);
      v15 = v5[4];
      v16 = v5[6];
      v17 = (v16 + v15);
      v18 = v5[5];
      v19 = 2 * v5[5];
      v20 = v8 - v19;
      v21 = v11 - v19;
      v22 = v14 - v19;
      v23 = v17 - v19;
      v24 = 1649 * (v11 - 2 * v18 + v17 - 2 * v18) + 11116 * (v8 - 2 * v18 + v14 - 2 * v18);
      v25 = v5[1];
      LODWORD(v5) = v5[9];
      v26 = v6 - v7;
      v27 = (v5 + v25);
      v28 = v25 - v5;
      LODWORD(v6) = v9 - v10;
      LODWORD(v7) = v12 - v13;
      v29 = v27 - v19;
      LODWORD(v11) = v27 + v8 + v11 + v14 + v18;
      v30 = 9746 * (v8 - v27) + 2048;
      v31 = v30 - v29 + (v29 << 9) + 0xFFFFFFFD494 * v21 + 4813 * v23 + 7587 * (v27 - v14);
      v32 = v30 + 0xFFFFFFFCC25 * v20 + 0xFFFFFFFE6C3 * v21 + v24;
      v33 = 10538 * (v28 + v26) + 2048;
      *i = 2 * (v17 + v11) - 2816;
      i[1] = (v33 + 0xFFFFFFFC8F6 * v26 + 8756 * (v6 + v26) + 6263 * (v7 + v26) + 3264 * (v15 - v16)) >> 12;
      i[2] = (0xFFFFFFFDF6ALL * v22 + 7587 * (v27 - 2 * v18 - v22) + 0xFFFFFFFD37DLL * (v17 - 2 * v18) + v24 + 2048) >> 12;
      i[3] = (v33 + 10456 * v28 - 6263 * (v6 + v28) - 11467 * (v7 + v28) + 0xFFFFFFFDDCCLL * (v15 - v16)) >> 12;
      i[4] = v31 >> 12;
      i[5] = (-16294 * v6 - 6263 * (v6 + v28) + 8756 * (v6 + v26) + 3264 * (v7 + v6) + 11467 * (v15 - v16) + 2048) >> 12;
      i[6] = v32 >> 12;
      i[7] = (10695 * v7 + 3264 * (v7 + v6) - 11467 * (v7 + v28) + 6263 * (v7 + v26) + 0xFFFFFFFD6D6 * (v15 - v16) + 2048) >> 12;
      if (v3 != 7)
      {
        break;
      }

      i = v74;
      ++v3;
    }

    if (v3 == 10)
    {
      break;
    }

    ++v3;
  }

  v34 = 0;
  do
  {
    v35 = &a1[v34];
    v36 = a1[v34];
    v37 = *&v74[v34 * 4 + 64];
    v38 = v37 + v36;
    v39 = a1[v34 + 8];
    v40 = *&v74[v34 * 4 + 32];
    v41 = v40 + v39;
    v42 = a1[v34 + 16];
    v43 = *&v74[v34 * 4];
    v44 = v43 + v42;
    v45 = a1[v34 + 24];
    v46 = a1[v34 + 56];
    v47 = v46 + v45;
    v48 = a1[v34 + 32];
    v49 = v36 - v37;
    v50 = a1[v34 + 48];
    v51 = v39 - v40;
    v52 = v50 + v48;
    v53 = v42 - v43;
    v54 = a1[v34 + 40];
    v55 = v45 - v46;
    v56 = v48 - v50;
    *v35 = (8666 * (v41 + v38 + v44 + v47 + v52 + v54) + 0x4000) >> 15;
    v54 *= 2;
    v57 = v38 - v54;
    v58 = v44 - v54;
    v59 = v52 - v54;
    v60 = 1744 * (v58 + v52 - v54);
    v61 = v41 - v54;
    v62 = v47 - v54;
    v63 = v60 + 11759 * (v57 + v62);
    v64 = 8026 * (v61 - v62);
    v35[16] = (v64 + 0x7FFFFFFFDD87 * v62 + 0x7FFFFFFFD0EALL * v59 + v63 + 0x4000) >> 15;
    v65 = 10310 * (v57 - v61) + 0x4000;
    v35[32] = (v65 + 540 * v61 + 0x7FFFFFFFD211 * v58 + 5091 * v59 + v64) >> 15;
    v35[48] = (v65 + 0x7FFFFFFFC925 * v57 + 0x7FFFFFFFE54DLL * v58 + v63) >> 15;
    v66 = 9262 * (v53 + v49);
    v67 = 6626 * (v55 + v49);
    v68 = 11148 * (v51 + v49) + 0x4000;
    v35[8] = (v68 + 0x7FFFFFFFC5C7 * v49 + v66 + v67 + 3453 * v56) >> 15;
    v69 = -6626 * (v53 + v51);
    v70 = 3453 * (v55 + v53);
    result = 0x7FFFFFFFD474;
    v35[24] = (v68 + 11061 * v51 + v69 - 12131 * (v55 + v51) + 0x7FFFFFFFDBD2 * v56) >> 15;
    v35[40] = (v69 - 17237 * v53 + v66 + v70 + 12131 * v56 + 0x4000) >> 15;
    v35[56] = (v70 + 11314 * v55 + -12131 * (v55 + v51) + v67 + 0x7FFFFFFFD474 * v56 + 0x4000) >> 15;
    ++v34;
  }

  while ((v34 * 4) != 32);
  return result;
}

uint64_t sub_1003B7190(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  for (i = a1; ; i += 8)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v3) + a3);
      v6 = *v5;
      v7 = v5[11];
      v8 = v5[1];
      v9 = v5[2];
      v10 = v5[9];
      v11 = (v10 + v9);
      v12 = v5[3];
      v13 = v5[8];
      v14 = (v13 + v12);
      v15 = v5[5];
      v16 = v5[6];
      v17 = v16 + v15 + v7 + v6;
      v18 = v7 + v6 - (v16 + v15);
      v19 = v14 + v11;
      v20 = v11 - v14;
      v21 = v5[10];
      v22 = v6 - v7;
      v23 = (v21 + v8);
      v24 = v8 - v21;
      v25 = v9 - v10;
      v26 = v5[4];
      LODWORD(v5) = v5[7];
      LODWORD(v6) = v12 - v13;
      v27 = (v5 + v26);
      v28 = v26 - v5;
      v29 = v15 - v16;
      v30 = v23 - v27;
      LODWORD(v9) = v19 + v23 + v27 + v17 - 1536;
      v31 = v18 - (v23 - v27 + v20);
      LODWORD(v27) = v17 - v19;
      v32 = v30 - v20 + 11190 * (v18 + v20);
      v33 = 6270 * v24 + 4433 * (v28 + v24);
      v34 = -15137 * v28 + 4433 * (v28 + v24);
      v35 = 9191 * (v25 + v22) + 4096;
      *i = v9;
      i[1] = (v35 + 0x1FFFFFFFED6ALL * v22 + 7053 * (v6 + v22) + v33 + 1512 * v29) >> 13;
      i[2] = (v32 + 4096) >> 13;
      i[3] = (v34 + 10703 * (v22 - v6) + 0x1FFFFFFFEEAFLL * (v29 + v25) + 4096) >> 13;
      i[4] = (10033 * v27 + 4096) >> 13;
      i[5] = (v35 - 19165 * v25 - 1512 * (v6 + v25) - v34 + 7053 * v29) >> 13;
      i[6] = v31;
      i[7] = (5946 * v6 + 7053 * (v6 + v22) - 1512 * (v6 + v25) - v33 + 0x1FFFFFFFDC19 * v29 + 4096) >> 13;
      if (v3 != 7)
      {
        break;
      }

      i = v68;
      ++v3;
    }

    if (v3 == 11)
    {
      break;
    }

    ++v3;
  }

  v36 = 0;
  do
  {
    v37 = &a1[v36];
    v38 = a1[v36];
    v39 = *&v68[v36 * 4 + 96];
    v40 = v39 + v38;
    v41 = a1[v36 + 16];
    v42 = *&v68[v36 * 4 + 32];
    v43 = v42 + v41;
    v44 = a1[v36 + 24];
    v45 = *&v68[v36 * 4];
    v46 = v45 + v44;
    v47 = a1[v36 + 40];
    v48 = a1[v36 + 48];
    v49 = v48 + v47;
    v50 = v49 + v40;
    v51 = v40 - v49;
    v52 = v46 + v43;
    v53 = v43 - v46;
    LODWORD(v40) = a1[v36 + 8];
    v54 = *&v68[v36 * 4 + 64];
    LODWORD(v46) = v38 - v39;
    v55 = v54 + v40;
    v56 = v40 - v54;
    LODWORD(v40) = a1[v36 + 32];
    v57 = v41 - v42;
    v58 = a1[v36 + 56];
    v59 = v58 + v40;
    v60 = v40 - v58;
    LODWORD(v40) = v47 - v48;
    v61 = v55 - v59;
    *v37 = (7282 * (v52 + v55 + v59 + v50) + 0x2000) >> 14;
    v37[48] = (7282 * (v51 - (v61 + v53)) + 0x2000) >> 14;
    v37[32] = (8918 * (v50 - v52) + 0x2000) >> 14;
    v37[16] = (9947 * (v51 + v53) + 7282 * (v61 - v53) + 0x2000) >> 14;
    v62 = 3941 * (v60 + v56);
    v63 = v62 + 5573 * v56;
    v64 = v62 - 13455 * v60;
    result = 6269 * (v44 - v45 + v46);
    v66 = 8170 * (v57 + v46) + 0x2000;
    v37[8] = (v66 + 0x3FFFFFFFEF7BLL * v46 + result + v63 + 1344 * v40) >> 14;
    v37[24] = (v64 + 9514 * (v46 - (v44 - v45)) + 0x3FFFFFFFF09BLL * (v40 + v57) + 0x2000) >> 14;
    v37[40] = (v66 - 17036 * v57 - 1344 * (v44 - v45 + v57) - v64 + 6269 * v40) >> 14;
    v37[56] = (result + 5285 * (v44 - v45) - 1344 * (v44 - v45 + v57) - v63 + 0x3FFFFFFFE016 * v40 + 0x2000) >> 14;
    ++v36;
  }

  while ((v36 * 4) != 32);
  return result;
}

uint64_t sub_1003B75BC(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = a1;
  v4 = 0;
  v88 = a3;
  while (1)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v4) + v88);
      v6 = *v5;
      v7 = v5[12];
      v90 = v7 + v6;
      v91 = v4;
      v8 = v5[1];
      v9 = 2 * v5[6];
      v10 = v7 + v6 - v9;
      v11 = v5[11];
      v12 = v11 + v8;
      v13 = v11 + v8 - v9;
      v14 = v5[2];
      v15 = v5[10];
      v16 = v15 + v14 - v9;
      v17 = v5[3];
      v18 = v5[9];
      v19 = (v18 + v17);
      v20 = v19 - v9;
      v21 = v5[4];
      v22 = v5[8];
      v23 = (v22 + v21);
      v24 = v23 - v9;
      v25 = v5[5];
      v26 = v5[7];
      v27 = (v26 + v25);
      v28 = v27 - v9;
      v29 = 11249 * v10 + 8672 * v13 + 4108 * v16 + 0x1FFFFFFFFA8CLL * (v19 - v9) + 0x1FFFFFFFE64BLL * (v23 - v9) + 0x1FFFFFFFD7EELL * (v27 - v9);
      v30 = v6 - v7;
      v31 = v8 - v11;
      v32 = v21 - v22;
      v33 = v25 - v26;
      v34 = 9465 * (v10 - v16) - 3570 * (v20 - v24) - 2592 * (v13 - v28);
      LODWORD(v26) = v27 + v12 + v90 + v15 + v14 + v19 + v23 + v5[6] - 1664;
      v35 = 793 * (v10 + v16) - 7678 * (v20 + v24) + 3989 * (v13 + v28);
      v36 = v35 + v34;
      v37 = v34 - v35;
      v38 = 7682 * (v17 - v18 + v30) + 2773 * (v33 + v32);
      v39 = -2773 * (v14 - v15 + v31) + 7682 * (v32 - v33);
      v40 = 10832 * (v31 + v30) + 4096;
      LODWORD(v34) = v14 - v15 + v30;
      *v3 = v26;
      v3[1] = (v40 + 0x1FFFFFFFBF5BLL * v30 + 9534 * v34 + 2611 * v32 + v38) >> 13;
      v41 = v40 + 6859 * v31;
      v42 = v17 - v18 + v31;
      v3[2] = (v29 + 4096) >> 13;
      v3[3] = (v41 - 9534 * v42 + 0x1FFFFFFFB511 * v32 + v39) >> 13;
      LODWORD(v5) = v17 - v18 + v14 - v15;
      v3[4] = (v36 + 4096) >> 13;
      v3[5] = (-12879 * (v14 - v15) + 9534 * v34 - 5384 * v5 + 18515 * v33 + v39 + 4096) >> 13;
      v3[6] = (v37 + 4096) >> 13;
      v3[7] = (18068 * (v17 - v18) - 5384 * v5 - 9534 * v42 + 0x1FFFFFFFC83FLL * v33 + v38 + 4096) >> 13;
      if (v91 != 7)
      {
        break;
      }

      v3 = v92;
      v4 = v91 + 1;
    }

    if (v91 == 12)
    {
      break;
    }

    v3 += 8;
    v4 = v91 + 1;
  }

  v43 = 0;
  do
  {
    v44 = &a1[v43];
    v45 = a1[v43];
    v46 = *&v92[v43 * 4 + 128];
    v47 = v46 + v45;
    v48 = a1[v43 + 8];
    v49 = *&v92[v43 * 4 + 96];
    v50 = a1[v43 + 16];
    v51 = v49 + v48;
    v52 = *&v92[v43 * 4 + 64];
    v53 = a1[v43 + 24];
    v54 = *&v92[v43 * 4 + 32];
    v55 = v52 + v50;
    v56 = v54 + v53;
    v57 = a1[v43 + 32];
    v58 = *&v92[v43 * 4];
    v59 = a1[v43 + 40];
    v60 = v58 + v57;
    v61 = a1[v43 + 56];
    v62 = a1[v43 + 48];
    v63 = v45 - v46;
    v64 = v48 - v49;
    v65 = v61 + v59;
    v66 = v50 - v52;
    v67 = v53 - v54;
    v68 = v51 + v47;
    v69 = v55 + v56;
    v70 = v60 + v65;
    v71 = v47 - 2 * v62;
    v72 = v51 - 2 * v62;
    v73 = v55 - 2 * v62;
    v74 = v56 - 2 * v62;
    v75 = v60 - 2 * v62;
    v76 = v65 - 2 * v62;
    v77 = 7169 * (v71 - v73) - 2704 * (v74 - v75) - 1963 * (v72 - v76);
    LODWORD(v65) = v57 - v58;
    v78 = v59 - v61;
    *v44 = (6205 * (v68 + v69 + v70 + v62) + 0x2000) >> 14;
    v79 = 8520 * v71 + 6568 * v72 + 3112 * v73 + 0x3FFFFFFFFBDELL * v74 + 0x3FFFFFFFEC87 * v75;
    v80 = 601 * (v71 + v73) - 5816 * (v74 + v75) + 3021 * (v72 + v76);
    v81 = v80 + v77;
    v82 = 5819 * (v67 + v63) + 2100 * (v78 + v65);
    v83 = v77 - v80;
    result = -2100 * (v66 + v64) + 5819 * (v65 - v78);
    v85 = 8204 * (v64 + v63) + 0x2000;
    v86 = 7221 * (v66 + v63);
    v44[8] = (v85 + 0x3FFFFFFFCF0ALL * v63 + v86 + 1978 * v65 + v82) >> 14;
    v44[32] = (v81 + 0x2000) >> 14;
    v44[24] = (v85 + 5195 * v64 - 7221 * (v67 + v64) + 0x3FFFFFFFC73FLL * v65 + result) >> 14;
    v44[48] = (v83 + 0x2000) >> 14;
    v44[40] = (v86 - 9754 * v66 - 4078 * (v67 + v66) + 14023 * v78 + result + 0x2000) >> 14;
    v44[16] = (v79 + 0x3FFFFFFFE1A6 * v76 + 0x2000) >> 14;
    v44[56] = (-4078 * (v67 + v66) + 13685 * v67 - 7221 * (v67 + v64) + 0x3FFFFFFFD5C5 * v78 + v82 + 0x2000) >> 14;
    ++v43;
  }

  while ((v43 * 4) != 32);
  return result;
}

uint64_t sub_1003B7B40(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  for (i = a1; ; i += 8)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v3) + a3);
      v6 = *v5;
      v7 = v5[13];
      v8 = v5[1];
      v9 = v5[12];
      v10 = (v9 + v8);
      v11 = v5[2];
      v12 = v5[11];
      v13 = (v12 + v11);
      v14 = v5[4];
      v15 = v5[9];
      v16 = (v15 + v14);
      v17 = v5[5];
      v18 = v5[8];
      v19 = (v18 + v17);
      v20 = v5[6];
      v21 = v5[7];
      v22 = v21 + v20 + v7 + v6;
      v23 = v7 + v6 - (v21 + v20);
      v24 = v19 + v10;
      v25 = v10 - v19;
      v26 = v16 + v13;
      v27 = v13 - v16;
      v28 = v6 - v7;
      v29 = v8 - v9;
      v30 = v5[3];
      v31 = v5[10];
      v32 = v11 - v12;
      LODWORD(v11) = v31 + v30;
      v33 = v30 - v31;
      LODWORD(v10) = v14 - v15;
      v34 = v17 - v18;
      v35 = v11 + v24 + v26 + v22;
      v36 = 9058 * (v23 + v25) + 4096;
      v37 = v36 + 5027 * v27 + 2237 * v23;
      LODWORD(v17) = v17 - v18 - v10;
      i[6] = (v36 + 0x1FFFFFFFD3E1 * v27 + 0x1FFFFFFFC8FCLL * v25) >> 13;
      i[7] = v28 + v33 - (v20 - v21) - (v32 + v29 + v17);
      v38 = v33 << 13;
      v39 = 11512 * v17 - (v33 << 13) - 1297 * (v32 + v29);
      v40 = 9810 * (v32 + v28) + 6164 * (v20 - v21 + v10);
      v39 += 4096;
      i[4] = (0x1FFFFFFFE3C9 * (v26 - (2 * v11)) + 2578 * (v24 - 2 * v11) + 10438 * (v22 - 2 * v11) + 4096) >> 13;
      i[5] = (v39 + 0x1FFFFFFFB409 * v32 + 9175 * v10 + v40) >> 13;
      v41 = 10935 * (v29 + v28) + 3826 * (v34 - (v20 - v21));
      i[2] = v37 >> 13;
      i[3] = (v39 + 0x1FFFFFFFF26ELL * v29 + 0x1FFFFFFF9DC4 * v34 + v41) >> 13;
      *i = v35 - 1792;
      i[1] = (v41 + v38 + v20 - v21 + 0x1FFFFFFFDBF0 * (v20 - v21 + v28) + v40 + 4096) >> 13;
      if (v3 != 7)
      {
        break;
      }

      i = v84;
      ++v3;
    }

    if (v3 == 13)
    {
      break;
    }

    ++v3;
  }

  v42 = 0;
  do
  {
    v43 = &a1[v42];
    v44 = a1[v42];
    v45 = *&v84[v42 * 4 + 160];
    v46 = v45 + v44;
    v47 = a1[v42 + 8];
    v48 = *&v84[v42 * 4 + 128];
    v49 = a1[v42 + 16];
    v50 = *&v84[v42 * 4 + 96];
    v51 = v48 + v47;
    v52 = v50 + v49;
    v53 = a1[v42 + 32];
    v54 = *&v84[v42 * 4 + 32];
    v55 = v54 + v53;
    v56 = a1[v42 + 40];
    v57 = a1[v42 + 48];
    v58 = a1[v42 + 56];
    v59 = *&v84[v42 * 4] + v56;
    v60 = v58 + v57;
    v61 = v60 + v46;
    v62 = v46 - v60;
    v63 = v59 + v51;
    v64 = v51 - v59;
    v65 = v55 + v52;
    v66 = v52 - v55;
    LODWORD(v51) = v44 - v45;
    v67 = v47 - v48;
    v68 = a1[v42 + 24];
    v69 = *&v84[v42 * 4 + 64];
    v70 = v49 - v50;
    v71 = v51;
    v72 = v67;
    v73 = v70;
    v74 = v53 - v54;
    v75 = v56 - *&v84[v42 * 4];
    v76 = v57 - v58;
    *v43 = (5350 * (v65 + v69 + v68 + v63 + v61) + 0x2000) >> 14;
    v77 = 5915 * (v62 + v64) + 0x2000;
    v43[56] = (5350 * (v71 + v68 - v69 - (v73 + v72 + v75 - v74 + v76)) + 0x2000) >> 14;
    v78 = v77 + 0x3FFFFFFFE330 * v66 + 0x3FFFFFFFDC12 * v64;
    v43[16] = (v77 + 3283 * v66 + 1461 * v62) >> 14;
    v79 = 7518 * (v75 - v74) - 5350 * (v68 - v69) - 847 * (v73 + v72) + 0x2000;
    v43[48] = v78 >> 14;
    v43[32] = (1684 * (v63 - 2 * (v69 + v68)) + 0x3FFFFFFFED93 * (v65 - 2 * (v69 + v68)) + 6817 * (v61 - 2 * (v69 + v68)) + 0x2000) >> 14;
    v80 = 7141 * (v72 + v71) + 2499 * (v75 - v76);
    result = v80 + 0x3FFFFFFFE873 * v71 + 5350 * (v68 - v69) + 0x3FFFFFFFFD59 * v76;
    v82 = 6406 * (v73 + v71) + 4025 * (v76 + v74);
    v43[40] = (v79 + 0x3FFFFFFFCE64 * v73 + 5992 * v74 + v82) >> 14;
    v43[24] = (v79 + 0x3FFFFFFFF723 * v72 + 0x3FFFFFFFBFD9 * v75 + v80) >> 14;
    v43[8] = (result + v82 + 0x2000) >> 14;
    ++v42;
  }

  while ((v42 * 4) != 32);
  return result;
}

uint64_t sub_1003B8008(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  for (i = a1; ; i += 8)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v3) + a3);
      v6 = *v5;
      v7 = v5[14];
      v8 = (v7 + v6);
      v9 = v5[1];
      v10 = v5[13];
      v11 = (v10 + v9);
      v12 = v5[2];
      v13 = v5[12];
      v14 = (v13 + v12);
      v15 = v5[3];
      v16 = v5[11];
      v17 = (v16 + v15);
      v18 = v5[4];
      v19 = v5[10];
      v20 = (v19 + v18);
      v21 = v5[5];
      v22 = v5[9];
      v23 = (v22 + v21);
      v24 = v6 - v7;
      v25 = v5[6];
      v26 = v9 - v10;
      v27 = v5[8];
      v28 = v12 - v13;
      v29 = (v27 + v25);
      v30 = v5[7];
      v31 = v15 - v16;
      v32 = v25 - v27;
      v33 = v20 + v8 + v23;
      v34 = v17 + v11 + v29;
      LODWORD(v27) = v30 + v14 + v33 + v34;
      v35 = 0x1FFFFFFFF204 * (v34 - 2 * (v30 + v14)) + 9373 * (v33 - 2 * (v30 + v14));
      v36 = v14 - 2 * v30 + ((v20 + v11) >> 1);
      v37 = 11332 * (v8 - v17) + 6476 * (v11 - v20) + 7752 * (v29 - v23) + 4096;
      v38 = 11018 * (v18 - v19 + v26) + 4712 * (v21 - v22 + v31) + 11522 * (v24 - v32);
      *i = v27 - 1920;
      i[1] = (3897 * v31 + 10033 * v28 + 0x1FFFFFFFEF8FLL * (v18 - v19) + 13930 * v32 + v38 + 4096) >> 13;
      i[2] = (v37 + 12543 * (v17 - v36) + 0x1FFFFFFFB860 * (v29 - v36)) >> 13;
      i[3] = (6810 * (v26 - (v31 + v32)) + 11018 * (v24 - (v18 - v19 + v21 - v22)) + 4096) >> 13;
      i[4] = (v37 + 6541 * (v23 - v36) + 0x1FFFFFFFFD14 * (v8 - v36)) >> 13;
      i[5] = (10033 * (v24 - (v28 + v31) + v21 - v22 + v32) + 4096) >> 13;
      i[6] = (v35 + 4096) >> 13;
      i[7] = (-17828 * v26 - 2912 * v24 - 10033 * v28 + 0x1FFFFFFFE42FLL * (v21 - v22) + v38 + 4096) >> 13;
      if (v3 != 7)
      {
        break;
      }

      i = v83;
      ++v3;
    }

    if (v3 == 14)
    {
      break;
    }

    ++v3;
  }

  v39 = 0;
  do
  {
    v40 = &a1[v39];
    v41 = a1[v39];
    v42 = *&v83[v39 * 4 + 192];
    v43 = v42 + v41;
    v44 = a1[v39 + 8];
    v45 = *&v83[v39 * 4 + 160];
    v46 = a1[v39 + 16];
    v47 = *&v83[v39 * 4 + 128];
    v48 = v45 + v44;
    v49 = v47 + v46;
    v50 = a1[v39 + 24];
    v51 = *&v83[v39 * 4 + 96];
    v52 = v51 + v50;
    v53 = a1[v39 + 32];
    v54 = *&v83[v39 * 4 + 64];
    v55 = a1[v39 + 40];
    v56 = *&v83[v39 * 4 + 32];
    v57 = v54 + v53;
    v58 = a1[v39 + 48];
    v59 = *&v83[v39 * 4];
    v60 = v41 - v42;
    v61 = v56 + v55;
    v62 = v44 - v45;
    v63 = a1[v39 + 56];
    v64 = v46 - v47;
    v65 = v50 - v51;
    v66 = v53 - v54;
    v67 = v55 - v56;
    v68 = v57 + v43 + v61;
    v69 = v52 + v48 + v59 + v58;
    v70 = 2 * (v63 + v49);
    v71 = v69 + v68 + v63 + v49;
    v72 = v49 - 2 * v63 + ((v57 + v48) >> 1);
    *v40 = (9321 * v71 + 0x4000) >> 15;
    v73 = 12893 * (v43 - v52) + 7369 * (v48 - v57) + 8820 * (v59 + v58 - v61);
    v40[48] = (0x7FFFFFFFF017 * (v69 - v70) + 10664 * (v68 - v70) + 0x4000) >> 15;
    v74 = v65;
    v75 = v67;
    v73 += 0x4000;
    v76 = v73 + 14271 * (v52 - v72) + 0x7FFFFFFFAE82 * (v59 + v58 - v72);
    v77 = v73 + 7442 * (v61 - v72) + 0x7FFFFFFFFCACLL * (v43 - v72);
    v78 = v60 - (v65 + v64) + v75 + v58 - v59;
    result = 4434 * v65 + 11415 * v64 + 0x7FFFFFFFED4CLL * v66;
    v80 = 12536 * (v66 + v62) + 5361 * (v75 + v74) + 13109 * (v60 - (v58 - v59));
    v40[8] = (result + 15850 * (v58 - v59) + v80 + 0x4000) >> 15;
    v40[24] = (7748 * (v62 - (v74 + v58 - v59)) + 12536 * (v60 - (v66 + v75)) + 0x4000) >> 15;
    v40[40] = (11415 * v78 + 0x4000) >> 15;
    v40[16] = v76 >> 15;
    v40[32] = v77 >> 15;
    v40[56] = (-20284 * v62 - 3314 * v60 - 11415 * v64 + 0x7FFFFFFFE05ALL * v75 + v80 + 0x4000) >> 15;
    ++v39;
  }

  while ((v39 * 4) != 32);
  return result;
}

uint64_t sub_1003B8520(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = a1;
  v4 = 0;
  v87 = a3;
  while (1)
  {
    while (1)
    {
      v95 = v4;
      v5 = (*(a2 + 8 * v4) + v87);
      v91 = *v5;
      v93 = v5[15];
      v6 = (v93 + v91);
      v89 = v5[1];
      v7 = v5[14];
      v8 = v5[2];
      v9 = v5[13];
      v10 = v5[3];
      v11 = v5[12];
      v12 = (v11 + v10);
      v13 = v5[4];
      v14 = v5[11];
      v15 = (v14 + v13);
      v16 = v5[5];
      v17 = v5[10];
      v18 = v5[6];
      v19 = v5[7];
      v20 = v5[8];
      v21 = (v20 + v19);
      v22 = v21 + v6;
      v23 = v5[9];
      LODWORD(v5) = v23 + v18 + v7 + v89;
      v24 = v17 + v16 + v9 + v8;
      v25 = 10703 * (v21 + v6 - (v15 + v12)) + 4433 * (v5 - v24);
      v26 = v6 - v21;
      v27 = v7 + v89 - (v23 + v18);
      v28 = v9 + v8 - (v17 + v16);
      LODWORD(v6) = v89 - v7;
      v29 = v8 - v9;
      v30 = 2260 * (v12 - v15 - v27) + 11363 * (v26 - v28) + 1024;
      v31 = v30 + 17799 * v28 + 11893 * v27;
      v32 = v10 - v11;
      v33 = v13 - v14;
      v34 = v24 + v15 + v12 + v5 + v22;
      v35 = v30 + 0x7FFFFFFDE07 * (v12 - v15) + 0x7FFFFFFF93ELL * v26;
      v36 = 11086 * (v6 + v91 - v93) + 3363 * (v18 - v23 - (v19 - v20));
      v37 = 10217 * (v29 + v91 - v93) + 5461 * (v19 - v20 + v16 - v17);
      v38 = 8956 * (v10 - v11 + v91 - v93) + 7350 * (v13 - v14 - (v19 - v20));
      v39 = 1136 * (v29 + v6) + 11529 * (v18 - v23 - (v16 - v17));
      v40 = -5461 * (v32 + v6) - 10217 * (v18 - v23 + v13 - v14);
      v41 = -11086 * (v32 + v29) + 3363 * (v16 - v17 - v33);
      *v3 = 4 * v34 - 0x2000;
      v3[1] = (v37 + 0x7FFFFFFB6D6 * (v91 - v93) + 6387 * (v19 - v20) + v36 + v38 + 1024) >> 11;
      v3[2] = v31 >> 11;
      v3[3] = (v40 + 589 * v6 + 0x7FFFFFFCAC1 * (v18 - v23) + v39 + v36 + 1024) >> 11;
      v3[4] = (v25 + 1024) >> 11;
      v3[5] = (v41 + 1024 - 9222 * v29 + 10055 * (v16 - v17) + v39 + v37) >> 11;
      v3[6] = v35 >> 11;
      v3[7] = (v41 + 1024 + 8728 * v32 + 17760 * v33 + v40 + v38) >> 11;
      if (v95 != 7)
      {
        break;
      }

      v3 = v97;
      v4 = v95 + 1;
    }

    if (v95 == 15)
    {
      break;
    }

    v3 += 8;
    v4 = v95 + 1;
  }

  v42 = 0;
  do
  {
    v43 = &a1[v42];
    v94 = a1[v42];
    v96 = *&v97[v42 * 4 + 224];
    v44 = v96 + v94;
    v90 = a1[v42 + 8];
    v92 = *&v97[v42 * 4 + 192];
    v45 = v92 + v90;
    v46 = a1[v42 + 16];
    v47 = *&v97[v42 * 4 + 160];
    v48 = v47 + v46;
    v49 = a1[v42 + 24];
    v50 = *&v97[v42 * 4 + 128];
    v51 = v50 + v49;
    v52 = a1[v42 + 32];
    v53 = *&v97[v42 * 4 + 96];
    v54 = v53 + v52;
    v55 = a1[v42 + 40];
    v56 = *&v97[v42 * 4 + 64];
    v57 = v56 + v55;
    v58 = a1[v42 + 48];
    v59 = a1[v42 + 56];
    v60 = *&v97[v42 * 4];
    v61 = v60 + v59;
    v62 = v61 + v44;
    v63 = v54 + v51;
    v64 = *&v97[v42 * 4 + 32];
    v65 = v64 + v58;
    v66 = v65 + v45;
    v67 = v57 + v48;
    v68 = 10703 * (v61 + v44 - (v54 + v51)) + 4433 * (v65 + v45 - (v57 + v48));
    v69 = v44 - v61;
    v70 = v45 - v65;
    v71 = v48 - v57;
    v72 = v51 - v54;
    result = (v52 - v53);
    v74 = v90 - v92;
    *v43 = (v63 + v67 + v66 + v62 + 8) >> 4;
    v43[32] = (v68 + 0x10000) >> 17;
    v75 = v55 - v56;
    v76 = v58 - v64;
    v77 = 2260 * (v72 - v70) + 11363 * (v69 - v71) + 0x10000;
    v78 = v77 + 17799 * v71 + 11893 * v70;
    v79 = v59 - v60;
    v43[16] = v78 >> 17;
    v43[48] = (v77 + 0x1FFFFFFFFDE07 * v72 + 0x1FFFFFFFFF93ELL * v69) >> 17;
    v80 = 11086 * (v74 + v94 - v96) + 3363 * (v76 - v79);
    v81 = 10217 * (v46 - v47 + (v94 - v96)) + 5461 * (v79 + v75);
    v82 = 8956 * (v49 - v50 + (v94 - v96)) + 7350 * (result - v79);
    v83 = 1136 * (v46 - v47 + v74) + 11529 * (v76 - v75);
    v84 = -5461 * (v49 - v50 + v74) - 10217 * (v76 + result);
    v43[8] = (v81 + 0x1FFFFFFFFB6D6 * (v94 - v96) + 6387 * (v59 - v60) + v80 + v82 + 0x10000) >> 17;
    v43[24] = (v84 + 589 * (v90 - v92) + 0x1FFFFFFFFCAC1 * v76 + v83 + v80 + 0x10000) >> 17;
    v85 = -11086 * (v49 - v50 + (v46 - v47)) + 3363 * (v75 - result) + 0x10000;
    v43[40] = (v85 - 9222 * (v46 - v47) + 10055 * v75 + v83 + v81) >> 17;
    v43[56] = (v85 + 8728 * (v49 - v50) + 17760 * result + v84 + v82) >> 17;
    ++v42;
  }

  while ((v42 * 4) != 32);
  return result;
}

uint64_t sub_1003B8B00(uint64_t result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  v4 = a3;
  do
  {
    v5 = (*(a2 + v3) + v4);
    v6 = *v5;
    v7 = v5[15];
    v8 = (v7 + v6);
    v9 = v5[1];
    v10 = v5[14];
    v11 = v5[2];
    v12 = v5[13];
    v13 = v5[3];
    v14 = v5[5];
    v15 = v5[10];
    v16 = v5[6];
    v17 = v5[9];
    v18 = v5[7];
    v19 = v5[8];
    v20 = (v19 + v18);
    v21 = v20 + v8;
    v22 = v8 - v20;
    LODWORD(v20) = v17 + v16 + v10 + v9;
    v23 = v10 + v9 - (v17 + v16);
    v24 = v15 + v14 + v12 + v11;
    v25 = v12 + v11 - (v15 + v14);
    v26 = v5[12];
    v27 = v6 - v7;
    v28 = v5[4];
    LODWORD(v7) = v9 - v10;
    v29 = (v26 + v13);
    v30 = v5[11];
    LODWORD(v6) = v11 - v12;
    v31 = (v30 + v28);
    LODWORD(v5) = v13 - v26;
    v32 = v29 - v31;
    v33 = v31 + v29;
    v34 = v18 - v19;
    v35 = 11086 * (v7 + v27) + 3363 * (v16 - v17 - (v18 - v19));
    v36 = v28 - v30;
    v37 = v14 - v15;
    v38 = 10703 * (v21 - v33) + 4433 * (v20 - v24);
    v39 = v24 + v33 + v20 + v21;
    v40 = 2260 * (v32 - v23) + 11363 * (v22 - v25) + 1024;
    v41 = v40 + 17799 * v25;
    v42 = 10217 * (v6 + v27) + 5461 * (v34 + v37);
    v43 = 8956 * (v5 + v27) + 7350 * (v36 - v34);
    v44 = v40 + 0x7FFFFFFDE07 * v32;
    v45 = 1136 * (v6 + v7) + 11529 * (v16 - v17 - v37);
    v46 = v41 + 11893 * v23;
    v47 = -5461 * (v5 + v7) - 10217 * (v16 - v17 + v36);
    v48 = v44 + 0x7FFFFFFF93ELL * v22;
    v49 = -11086 * (v5 + v6) + 3363 * (v37 - v36) + 1024;
    v50 = (result + 4 * v3);
    v50[4] = (v38 + 1024) >> 11;
    v50[5] = (v49 - 9222 * v6 + 10055 * v37 + v45 + v42) >> 11;
    *v50 = 4 * v39 - 0x2000;
    v50[1] = (v42 + 0x7FFFFFFB6D6 * v27 + 6387 * v34 + v35 + v43 + 1024) >> 11;
    v50[2] = v46 >> 11;
    v50[3] = (v47 + 589 * v7 + 0x7FFFFFFCAC1 * (v16 - v17) + v45 + v35 + 1024) >> 11;
    v50[6] = v48 >> 11;
    v50[7] = (v49 + 8728 * v5 + 17760 * v36 + v47 + v43) >> 11;
    v3 += 8;
  }

  while (v3 != 64);
  v51 = 0;
  do
  {
    v52 = (result + v51);
    v53 = *(result + v51);
    v54 = *(result + v51 + 224);
    v55 = v54 + v53;
    v56 = *(result + v51 + 32);
    v57 = *(result + v51 + 192);
    v58 = v57 + v56;
    v59 = *(result + v51 + 64);
    v60 = *(result + v51 + 160);
    v61 = v60 + v59;
    v62 = *(result + v51 + 96);
    v63 = *(result + v51 + 128);
    v64 = v63 + v62;
    v65 = v64 + v55;
    v66 = v55 - v64;
    v67 = v61 + v58;
    v68 = v58 - v61;
    v69 = v53 - v54;
    v70 = v56 - v57;
    v71 = v59 - v60;
    v72 = v62 - v63;
    *v52 = (v67 + v65 + 4) >> 3;
    v52[32] = (v65 - v67 + 4) >> 3;
    v73 = 4433 * (v66 + v68) + 0x8000;
    v52[16] = (v73 + 6270 * v66) >> 16;
    v52[48] = (v73 + 0xFFFFFFFFC4DFLL * v68) >> 16;
    v74 = v71 + v69;
    v75 = v72 + v70;
    v76 = 9633 * (v75 + v74);
    v77 = v76 - 3196 * v74;
    v78 = v76 - 16069 * v75;
    v79 = -7373 * (v72 + v69) + 0x8000;
    v52[8] = (v79 + 12299 * v69 + v77) >> 16;
    v80 = -20995 * (v71 + v70) + 0x8000;
    v52[24] = (v80 + 25172 * v70 + v78) >> 16;
    v52[40] = (v80 + 16819 * v71 + v77) >> 16;
    v52[56] = (v79 + 2446 * v72 + v78) >> 16;
    v51 += 4;
  }

  while (v51 != 32);
  return result;
}

uint64_t sub_1003B8EFC(uint64_t result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  *(result + 224) = 0u;
  *(result + 240) = 0u;
  do
  {
    v4 = (*(a2 + v3) + a3);
    v5 = *v4;
    v6 = v4[13];
    v7 = v4[1];
    v8 = v4[12];
    v9 = v4[2];
    v10 = v4[11];
    v11 = (v8 + v7);
    v12 = v4[3];
    v13 = v4[5];
    v14 = v4[8];
    v15 = v4[6];
    v16 = v4[7];
    v17 = (v14 + v13);
    v18 = v16 + v15 + v6 + v5;
    v19 = v6 + v5 - (v16 + v15);
    v20 = v17 + v11;
    v21 = v11 - v17;
    v22 = (v10 + v9);
    v23 = v5 - v6;
    v24 = v4[10];
    v25 = v7 - v8;
    LODWORD(v7) = v4[4];
    v26 = v9 - v10;
    LODWORD(v8) = v24 + v12;
    LODWORD(v4) = v4[9];
    v27 = v12 - v24;
    v28 = (v4 + v7);
    LODWORD(v4) = v7 - v4;
    v29 = v28 + v22;
    v30 = v22 - v28;
    v31 = v13 - v14;
    v32 = v15 - v16;
    v33 = (2 * v8);
    LODWORD(v8) = v8 + v20 + v29 + v18;
    v34 = 9058 * (v19 + v21) + 1024;
    v35 = v34 + 5027 * v30;
    v36 = 0x7FFFFFFE3C9 * (v29 - v33) + 2578 * (v20 - v33) + 10438 * (v18 - v33);
    v37 = v34 + 0x7FFFFFFD3E1 * v30;
    v38 = v23 + v27 - v32 - (v26 + v25 + v31 - v4);
    v27 <<= 13;
    v39 = v35 + 2237 * v19;
    v40 = 9810 * (v26 + v23) + 6164 * (v32 + v4);
    v41 = 10935 * (v25 + v23) + 3826 * (v31 - v32);
    v42 = 11512 * (v31 - v4) - v27 - 1297 * (v26 + v25) + 1024;
    v43 = (result + 4 * v3);
    v43[6] = (v37 + 0x7FFFFFFC8FCLL * v21) >> 11;
    v43[7] = 4 * v38;
    v43[4] = (v36 + 1024) >> 11;
    v43[5] = (v42 + 0x7FFFFFFB409 * v26 + 9175 * v4 + v40) >> 11;
    v43[2] = v39 >> 11;
    v43[3] = (v42 + 0x7FFFFFFF26ELL * v25 + 0x7FFFFFF9DC4 * v31 + v41) >> 11;
    *v43 = 4 * v8 - 7168;
    v43[1] = (v41 + v27 + v32 + 0x7FFFFFFDBF0 * (v32 + v23) + v40 + 1024) >> 11;
    v3 += 8;
  }

  while (v3 != 56);
  v44 = 0;
  do
  {
    v45 = (result + v44);
    v46 = *(result + v44);
    v47 = *(result + v44 + 192);
    v48 = v47 + v46;
    v49 = *(result + v44 + 32);
    v50 = *(result + v44 + 160);
    v51 = v50 + v49;
    v52 = *(result + v44 + 64);
    v53 = *(result + v44 + 128);
    v54 = v53 + v52;
    v55 = *(result + v44 + 96);
    v56 = v46 - v47;
    v57 = v49 - v50;
    v58 = v52 - v53;
    *v45 = (10700 * (v55 + v51 + v54 + v48) + 0x8000) >> 16;
    v59 = 3783 * (v54 + v48 - 4 * v55);
    v60 = 9850 * (v48 - v54);
    v61 = 3367 * (v51 - v54);
    v45[16] = (v61 + v60 + v59 + 0x8000) >> 16;
    v62 = 9434 * (v48 - v51) + 0x8000;
    v45[32] = (v62 + v61 + 0xFFFFFFFFE272 * (v51 - 2 * v55)) >> 16;
    v45[48] = (v62 - v60 + v59) >> 16;
    v63 = 10009 * (v57 + v56);
    v64 = 1822 * (v56 - v57);
    v65 = -14752 * (v58 + v57);
    v66 = 6565 * (v58 + v56) + 0x8000;
    v45[8] = (v66 - v64 + v63) >> 16;
    v45[24] = (v65 + v64 + v63 + 0x8000) >> 16;
    v45[40] = (v66 + 20017 * v58 + v65) >> 16;
    v44 += 4;
  }

  while (v44 != 32);
  return result;
}

_OWORD *sub_1003B9294(_OWORD *result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  result[14] = 0u;
  result[15] = 0u;
  result[12] = 0u;
  result[13] = 0u;
  do
  {
    v4 = (*(a2 + v3 * 4) + a3);
    v5 = *v4;
    v6 = v4[11];
    v7 = v4[1];
    v8 = v4[2];
    v9 = v4[9];
    v10 = (v9 + v8);
    v11 = v4[3];
    v12 = v4[8];
    v13 = (v12 + v11);
    v14 = v4[5];
    v15 = v4[6];
    v16 = v15 + v14 + v6 + v5;
    v17 = v6 + v5 - (v15 + v14);
    v18 = v13 + v10;
    v19 = v10 - v13;
    v20 = v4[10];
    v21 = v5 - v6;
    v22 = (v20 + v7);
    v23 = v7 - v20;
    LODWORD(v6) = v4[4];
    LODWORD(v4) = v4[7];
    LODWORD(v5) = v11 - v12;
    v24 = (v4 + v6);
    v25 = v6 - v4;
    v26 = &result[v3];
    v27 = v14 - v15;
    v28 = v22 - v24;
    LODWORD(v15) = v18 + v22 + v24 + v16;
    LODWORD(v24) = v17 - (v22 - v24 + v19);
    v29 = v28 - v19 + 11190 * (v17 + v19);
    v30 = 6270 * v23 + 4433 * (v25 + v23);
    v31 = -15137 * v25 + 4433 * (v25 + v23);
    v32 = 9191 * (v8 - v9 + v21) + 1024;
    *v26 = 4 * v15 - 6144;
    v26[1] = (v32 + 0x7FFFFFFED6ALL * v21 + 7053 * (v5 + v21) + v30 + 1512 * v27) >> 11;
    v26[2] = (v29 + 1024) >> 11;
    v26[3] = (v31 + 10703 * (v21 - v5) + 0x7FFFFFFEEAFLL * (v27 + v8 - v9) + 1024) >> 11;
    v26[4] = (10033 * (v16 - v18) + 1024) >> 11;
    v26[5] = (v32 - 19165 * (v8 - v9) - 1512 * (v5 + v8 - v9) - v31 + 7053 * v27) >> 11;
    v26[6] = 4 * v24;
    v26[7] = (5946 * v5 + 7053 * (v5 + v21) - 1512 * (v5 + v8 - v9) - v30 + 0x7FFFFFFDC19 * v27 + 1024) >> 11;
    v3 += 2;
  }

  while (v3 != 12);
  v33 = 0;
  do
  {
    v34 = (result + v33);
    v35 = *(result + v33);
    v36 = *(result + v33 + 160);
    v37 = v36 + v35;
    v38 = *(result + v33 + 32);
    v39 = *(result + v33 + 128);
    v40 = v39 + v38;
    v41 = *(result + v33 + 64);
    v42 = *(result + v33 + 96);
    v43 = v42 + v41;
    v44 = v35 - v36;
    v45 = v38 - v39;
    v46 = v41 - v42;
    *v34 = (14564 * (v43 + v37 + v40) + 0x8000) >> 16;
    v34[16] = (17837 * (v37 - v43) + 0x8000) >> 16;
    v34[32] = (10298 * (v43 + v37 - 2 * v40) + 0x8000) >> 16;
    v47 = 5331 * (v46 + v44) + 0x8000;
    v34[8] = (v47 + 14564 * (v45 + v44)) >> 16;
    v34[24] = (14564 * (v44 - (v45 + v46)) + 0x8000) >> 16;
    v34[40] = (v47 + 14564 * (v46 - v45)) >> 16;
    v33 += 4;
  }

  while (v33 != 32);
  return result;
}

_OWORD *sub_1003B9568(_OWORD *result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  result[14] = 0u;
  result[15] = 0u;
  result[12] = 0u;
  result[13] = 0u;
  result[10] = 0u;
  result[11] = 0u;
  do
  {
    v4 = (*(a2 + v3 * 4) + a3);
    v5 = *v4;
    v6 = v4[9];
    v7 = v4[1];
    v8 = v4[8];
    v9 = (v8 + v7);
    v10 = v4[3];
    v11 = v4[6];
    v12 = (v11 + v10);
    v13 = v4[4];
    v14 = v4[5];
    v15 = v14 + v13 + v6 + v5;
    v16 = v6 + v5 - (v14 + v13);
    v17 = v12 + v9;
    v18 = v9 - v12;
    v19 = v5 - v6;
    v20 = v4[2];
    v21 = v4[7];
    v22 = v7 - v8;
    LODWORD(v7) = v21 + v20;
    v23 = v20 - v21;
    v24 = &result[v3];
    v25 = v10 - v11;
    LODWORD(v11) = v7 + v15 + v17;
    v26 = (0x7FFFFFFF204 * (v17 - (2 * v7)) + 9373 * (v15 - 2 * v7) + 1024) >> 11;
    v27 = 6810 * (v16 + v18) + 1024;
    LODWORD(v7) = v13 - v14 + v19;
    v24[4] = v26;
    v24[5] = 4 * (v7 - (v22 - v25 + v23));
    v23 <<= 13;
    *v24 = 4 * v11 - 5120;
    v24[1] = (10323 * v22 + 11443 * v19 + v23 + 5260 * v25 + 1812 * (v13 - v14) + 1024) >> 11;
    v28 = -4815 * (v25 + v22) + 7791 * (v19 - (v13 - v14));
    v29 = 2531 * (v7 + v22 - v25) - v23 + ((v22 - v25) << 12);
    v28 += 1024;
    v24[2] = (v27 + 4209 * v16) >> 11;
    v24[3] = (v28 + v29) >> 11;
    v24[6] = (v27 + 0x7FFFFFFBA5CLL * v18) >> 11;
    v24[7] = (v28 - v29) >> 11;
    v3 += 2;
  }

  while (v3 != 10);
  v30 = 0;
  do
  {
    v31 = (result + v30);
    v32 = *(result + v30);
    v33 = *(result + v30 + 128);
    v34 = v33 + v32;
    v35 = *(result + v30 + 32);
    v36 = *(result + v30 + 96);
    v37 = v36 + v35;
    v38 = *(result + v30 + 64);
    v39 = v32 - v33;
    v40 = v35 - v36;
    *v31 = (10486 * (v37 + v34 + v38) + 0x4000) >> 15;
    v41 = 3707 * (v37 + v34 - 4 * v38);
    v42 = 8290 * (v34 - v37) + 0x4000;
    v31[16] = (v42 + v41) >> 15;
    v31[32] = (v42 - v41) >> 15;
    v43 = 8716 * (v40 + v39) + 0x4000;
    v31[8] = (v43 + 5387 * v39) >> 15;
    v31[24] = (v43 + 0x7FFFFFFFA6DCLL * v40) >> 15;
    v30 += 4;
  }

  while (v30 != 32);
  return result;
}

int32x4_t sub_1003B97E8(uint64_t a1, void *a2, unsigned int a3)
{
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  v3 = a3;
  v4 = a2[1];
  v5 = (*a2 + a3);
  v6 = *v5;
  v7 = v5[7];
  v8 = v5[1];
  v9 = v5[6];
  v10 = (v9 + v8);
  v11 = v5[2];
  v12 = v5[5];
  v13 = (v12 + v11);
  v14 = v5[3];
  LODWORD(v5) = v5[4];
  v15 = v5 + v14 + v7 + v6;
  v16 = v7 + v6 - (v5 + v14);
  v17 = v13 + v10;
  v18 = v10 - v13;
  v19 = v6 - v7;
  v20 = v8 - v9;
  v21 = v11 - v12;
  v22 = 4433 * (v16 + v18) + 512;
  v23 = (v22 + 6270 * v16) >> 10;
  v24 = v11 - v12 + v19;
  v25 = 9633 * (v14 - v5 + v20 + v24) + 512;
  v26 = v25 - 3196 * v24;
  v27 = v25 - 16069 * (v14 - v5 + v20);
  v28 = v14 - v5 + v19;
  *a1 = 8 * (v15 + v17) - 0x2000;
  *(a1 + 4) = (12299 * v19 - 7373 * v28 + v26) >> 10;
  *(a1 + 8) = v23;
  *(a1 + 12) = (25172 * v20 - 20995 * (v21 + v20) + v27) >> 10;
  *(a1 + 16) = 8 * (v15 - v17);
  *(a1 + 20) = (16819 * v21 - 20995 * (v21 + v20) + v26) >> 10;
  *(a1 + 24) = (v22 + 0x3FFFFFFC4DFLL * v18) >> 10;
  *(a1 + 28) = (2446 * (v14 - v5) - 7373 * v28 + v27) >> 10;
  v29 = (v4 + v3);
  v30 = *v29;
  v31 = v29[7];
  v32 = v29[1];
  LODWORD(v23) = v29[6];
  v33 = (v23 + v32);
  LODWORD(v26) = v29[2];
  LODWORD(v27) = v29[5];
  v34 = (v27 + v26);
  v35 = v29[3];
  LODWORD(v29) = v29[4];
  v36 = v29 + v35 + v31 + v30;
  v37 = v31 + v30 - (v29 + v35);
  v38 = v34 + v33;
  v39 = v33 - v34;
  v40 = v30 - v31;
  v41 = v32 - v23;
  v42 = v26 - v27;
  LODWORD(v29) = v35 - v29;
  v43 = 4433 * (v37 + v39) + 512;
  v44 = (v43 + 6270 * v37) >> 10;
  v45 = (v43 + 0x3FFFFFFC4DFLL * v39) >> 10;
  v46 = 9633 * (v29 + v41 + v42 + v40) + 512;
  v47 = v46 - 3196 * (v42 + v40);
  v48 = v46 - 16069 * (v29 + v41);
  *(a1 + 32) = 8 * (v36 + v38) - 0x2000;
  *(a1 + 36) = (12299 * v40 - 7373 * (v29 + v40) + v47) >> 10;
  *(a1 + 40) = v44;
  *(a1 + 44) = (25172 * v41 - 20995 * (v42 + v41) + v48) >> 10;
  *(a1 + 48) = 8 * (v36 - v38);
  *(a1 + 52) = (16819 * v42 - 20995 * (v42 + v41) + v47) >> 10;
  *(a1 + 56) = v45;
  *(a1 + 60) = (2446 * v29 - 7373 * (v29 + v40) + v48) >> 10;
  v50 = a2[2];
  v49 = a2[3];
  v51 = (v50 + v3);
  v52 = *v51;
  v53 = v51[7];
  v54 = v51[1];
  LODWORD(v23) = v51[6];
  v55 = (v23 + v54);
  LODWORD(v26) = v51[2];
  LODWORD(v47) = v51[5];
  v56 = (v47 + v26);
  LODWORD(v46) = v51[3];
  LODWORD(v51) = v51[4];
  v57 = v51 + v46 + v53 + v52;
  LODWORD(v44) = v53 + v52 - (v51 + v46);
  v58 = v56 + v55;
  v59 = v55 - v56;
  v60 = v52 - v53;
  v61 = v54 - v23;
  v62 = v26 - v47;
  LODWORD(v51) = v46 - v51;
  v63 = 4433 * (v44 + v59) + 512;
  v64 = (v63 + 6270 * v44) >> 10;
  v65 = (v63 + 0x3FFFFFFC4DFLL * v59) >> 10;
  v66 = 9633 * (v51 + v61 + v62 + v60) + 512;
  v67 = v66 - 3196 * (v62 + v60);
  v68 = v66 - 16069 * (v51 + v61);
  *(a1 + 64) = 8 * (v57 + v58) - 0x2000;
  *(a1 + 68) = (12299 * v60 - 7373 * (v51 + v60) + v67) >> 10;
  *(a1 + 72) = v64;
  *(a1 + 76) = (25172 * v61 - 20995 * (v62 + v61) + v68) >> 10;
  *(a1 + 80) = 8 * (v57 - v58);
  *(a1 + 84) = (16819 * v62 - 20995 * (v62 + v61) + v67) >> 10;
  *(a1 + 88) = v65;
  *(a1 + 92) = (2446 * v51 - 7373 * (v51 + v60) + v68) >> 10;
  v69 = (v49 + v3);
  LODWORD(v49) = *v69;
  LODWORD(v51) = v69[7];
  v70 = v69[1];
  LODWORD(v64) = v69[6];
  v71 = (v64 + v70);
  LODWORD(v23) = v69[2];
  LODWORD(v65) = v69[5];
  v72 = (v65 + v23);
  LODWORD(v67) = v69[3];
  LODWORD(v69) = v69[4];
  LODWORD(v66) = v69 + v67 + v51 + v49;
  v73 = v51 + v49 - (v69 + v67);
  LODWORD(v68) = v72 + v71;
  v74 = v71 - v72;
  LODWORD(v49) = v49 - v51;
  LODWORD(v51) = v70 - v64;
  v75 = v23 - v65;
  v76 = 4433 * (v73 + v74) + 512;
  v77 = 9633 * (v67 - v69 + v51 + v75 + v49) + 512;
  v78 = v77 - 3196 * (v75 + v49);
  v79 = v77 - 16069 * (v67 - v69 + v51);
  v80 = (12299 * v49 - 7373 * (v67 - v69 + v49) + v78) >> 10;
  *(a1 + 104) = (v76 + 6270 * v73) >> 10;
  *(a1 + 108) = (25172 * v51 - 20995 * (v75 + v51) + v79) >> 10;
  *(a1 + 112) = 8 * (v66 - v68);
  *(a1 + 116) = (16819 * v75 - 20995 * (v75 + v51) + v78) >> 10;
  *(a1 + 120) = (v76 + 0x3FFFFFFC4DFLL * v74) >> 10;
  *(a1 + 124) = (2446 * (v67 - v69) - 7373 * (v67 - v69 + v49) + v79) >> 10;
  v81 = *(a1 + 104);
  v82 = *(a1 + 112);
  v83 = *(a1 + 16);
  v84.i32[0] = 8 * (v66 + v68) - 0x2000;
  v84.i32[1] = v80;
  v84.i64[1] = v81;
  v85 = vaddq_s32(v84, *a1);
  LODWORD(v78) = *(a1 + 8);
  LODWORD(v18) = HIDWORD(*a1);
  v86 = *(a1 + 32);
  v87 = *(a1 + 48);
  v88 = *(a1 + 64);
  v89 = *(a1 + 80);
  v90 = vsubq_s32(v87, v89);
  v91 = vsubq_s32(v86, v88);
  v92 = vaddq_s32(v82, v83);
  v93 = 4433 * (v91.i32[0] + (*a1 - (8 * (v66 + v68) - 0x2000))) + 0x4000;
  v94 = vdupq_n_s64(2uLL);
  v95 = vaddw_s32(v94, *v85.i8);
  v96 = vaddw_high_s32(v94, v85);
  v97 = vaddw_s32(v94, *v92.i8);
  v98 = vaddw_high_s32(v94, v92);
  v99 = vaddq_s32(v88, v86);
  v100 = vaddq_s32(v89, v87);
  v101 = 4433 * (v91.i32[1] + (HIDWORD(*a1) - v80)) + 0x4000;
  v102 = (v101 + 6270 * (HIDWORD(*a1) - v80)) >> 15;
  *(a1 + 32) = (v93 + 6270 * (*a1 - (8 * (v66 + v68) - 0x2000))) >> 15;
  *(a1 + 36) = v102;
  *(a1 + 96) = (v93 + 0x7FFFFFFFC4DFLL * v91.i32[0]) >> 15;
  *(a1 + 100) = (v101 + 0x7FFFFFFFC4DFLL * v91.i32[1]) >> 15;
  v103 = 4433 * (v91.i32[2] + (v78 - v81)) + 0x4000;
  v104 = (v103 + 6270 * (v78 - v81)) >> 15;
  v105 = (v103 + 0x7FFFFFFFC4DFLL * v91.i32[2]) >> 15;
  v106 = 4433 * (v91.i32[3] + (v18 - HIDWORD(v81))) + 0x4000;
  *(a1 + 40) = v104;
  *(a1 + 44) = (v106 + 6270 * (v18 - HIDWORD(v81))) >> 15;
  *(a1 + 104) = v105;
  *(a1 + 108) = (v106 + 0x7FFFFFFFC4DFLL * v91.i32[3]) >> 15;
  v107 = 4433 * (v90.i32[0] + (v83.i32[0] - v82.i32[0])) + 0x4000;
  v108 = (v107 + 6270 * (v83.i32[0] - v82.i32[0])) >> 15;
  v109 = (v107 + 0x7FFFFFFFC4DFLL * v90.i32[0]) >> 15;
  v110 = 4433 * (v90.i32[1] + (v83.i32[1] - v82.i32[1])) + 0x4000;
  *(a1 + 48) = v108;
  *(a1 + 52) = (v110 + 6270 * (v83.i32[1] - v82.i32[1])) >> 15;
  *(a1 + 112) = v109;
  *(a1 + 116) = (v110 + 0x7FFFFFFFC4DFLL * v90.i32[1]) >> 15;
  v111 = 4433 * (v90.i32[2] + (v83.i32[2] - v82.i32[2])) + 0x4000;
  v112 = (v111 + 6270 * (v83.i32[2] - v82.i32[2])) >> 15;
  v113 = (v111 + 0x7FFFFFFFC4DFLL * v90.i32[2]) >> 15;
  LODWORD(v111) = v83.i32[3] - v82.i32[3];
  *a1 = vshrn_high_n_s64(vshrn_n_s64(vaddw_s32(v95, *v99.i8), 2uLL), vaddw_high_s32(v96, v99), 2uLL);
  *(a1 + 16) = vshrn_high_n_s64(vshrn_n_s64(vaddw_s32(v97, *v100.i8), 2uLL), vaddw_high_s32(v98, v100), 2uLL);
  result = vshrn_high_n_s64(vshrn_n_s64(vsubw_s32(v97, *v100.i8), 2uLL), vsubw_high_s32(v98, v100), 2uLL);
  *(a1 + 64) = vshrn_high_n_s64(vshrn_n_s64(vsubw_s32(v95, *v99.i8), 2uLL), vsubw_high_s32(v96, v99), 2uLL);
  *(a1 + 80) = result;
  v115 = 4433 * (v90.i32[3] + v111) + 0x4000;
  *(a1 + 56) = v112;
  *(a1 + 60) = (v115 + 6270 * v111) >> 15;
  *(a1 + 120) = v113;
  *(a1 + 124) = (v115 + 0x7FFFFFFFC4DFLL * v90.i32[3]) >> 15;
  return result;
}

double sub_1003B9E40(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = a3;
  v5 = a2[1];
  v6 = (*a2 + a3);
  v7 = *v6;
  v8 = v6[5];
  v9 = v6[1];
  v10 = v6[4];
  v11 = v6[2];
  LODWORD(v6) = v6[3];
  v12 = v6 + v11 + v8 + v7;
  v13 = v8 + v7 - (v6 + v11);
  LODWORD(v6) = v11 - v6;
  v14 = 8 * (v12 + v10 + v9) - 6144;
  v15 = (5793 * (v12 - 2 * (v10 + v9)) + 512) >> 10;
  v16 = (2998 * (v6 + v7 - v8) + 512) >> 10;
  *a1 = v14;
  *(a1 + 4) = v16 + 8 * (v9 - v10 + v7 - v8);
  *(a1 + 8) = (10033 * v13 + 512) >> 10;
  *(a1 + 12) = 8 * (v7 - v8 - (v9 - v10 + v6));
  *(a1 + 16) = v15;
  *(a1 + 20) = v16 + 8 * (v6 - (v9 - v10));
  v17 = (v5 + a3);
  LODWORD(v5) = *v17;
  LODWORD(v15) = v17[5];
  v18 = v17[1];
  LODWORD(v16) = v17[4];
  v19 = v16 + v18;
  v20 = v17[2];
  LODWORD(v17) = v17[3];
  v21 = v17 + v20 + v15 + v5;
  v22 = v15 + v5 - (v17 + v20);
  LODWORD(v15) = v5 - v15;
  v23 = v18 - v16;
  LODWORD(v16) = v20 - v17;
  LODWORD(v17) = 8 * (v21 + v19) - 6144;
  v24 = (2998 * (v16 + v15) + 512) >> 10;
  LODWORD(v5) = v24 + 8 * (v23 + v15);
  *(a1 + 32) = v17;
  *(a1 + 36) = v5;
  *(a1 + 40) = (10033 * v22 + 512) >> 10;
  *(a1 + 44) = 8 * (v15 - (v23 + v16));
  *(a1 + 48) = (5793 * (v21 - 2 * v19) + 512) >> 10;
  *(a1 + 52) = v24 + 8 * (v16 - v23);
  v25 = (a2[2] + v4);
  LODWORD(v15) = *v25;
  v26 = v25[5];
  v27 = v25[1];
  LODWORD(v16) = v25[4];
  LODWORD(v24) = v25[2];
  v28 = v25[3];
  v29 = v28 + v24 + v26 + v15;
  LODWORD(v25) = 8 * (v29 + v16 + v27) - 6144;
  v30 = v26 + v15 - (v28 + v24);
  LODWORD(v15) = v15 - v26;
  v31 = (10033 * v30 + 512) >> 10;
  v32 = (2998 * (v24 - v28 + v15) + 512) >> 10;
  v33 = v32 + 8 * (v27 - v16 + v15);
  v34 = 8 * (v15 - (v27 - v16 + v24 - v28));
  *(a1 + 80) = (5793 * (v29 - 2 * (v16 + v27)) + 512) >> 10;
  *(a1 + 84) = v32 + 8 * (v24 - v28 - (v27 - v16));
  LODWORD(v15) = *(a1 + 4);
  v35 = v25 + *a1;
  v36 = *a1 - v25;
  v37 = v15 + v33;
  *a1 = (14564 * (v35 + v17) + 0x4000) >> 15;
  *(a1 + 4) = (14564 * (v37 + v5) + 0x4000) >> 15;
  *(a1 + 64) = (10298 * (v35 - 2 * v17) + 0x4000) >> 15;
  *(a1 + 68) = (10298 * (v37 - 2 * v5) + 0x4000) >> 15;
  *(a1 + 32) = (17837 * v36 + 0x4000) >> 15;
  *(a1 + 36) = (17837 * (v15 - v33) + 0x4000) >> 15;
  LODWORD(v5) = *(a1 + 8);
  v38 = *(a1 + 12);
  v39 = v31 + v5;
  LODWORD(v5) = v5 - v31;
  v40 = *(a1 + 40);
  v41 = *(a1 + 44);
  v42 = (14564 * (v39 + v40) + 0x4000) >> 15;
  v43 = (10298 * (v39 - 2 * v40) + 0x4000) >> 15;
  v44 = v34 + v38;
  *(a1 + 8) = v42;
  *(a1 + 12) = (14564 * (v44 + v41) + 0x4000) >> 15;
  *(a1 + 72) = v43;
  *(a1 + 76) = (10298 * (v44 - 2 * v41) + 0x4000) >> 15;
  *(a1 + 40) = (17837 * v5 + 0x4000) >> 15;
  *(a1 + 44) = (17837 * (v38 - v34) + 0x4000) >> 15;
  LODWORD(v5) = *(a1 + 16);
  v45 = *(a1 + 20);
  LODWORD(v43) = *(a1 + 80);
  v46 = *(a1 + 84);
  v47 = v43 + v5;
  LODWORD(v5) = v5 - v43;
  v48 = *(a1 + 48);
  v49 = *(a1 + 52);
  v50 = (14564 * (v47 + v48) + 0x4000) >> 15;
  v51 = (10298 * (v47 - 2 * v48) + 0x4000) >> 15;
  v52 = v46 + v45;
  *(a1 + 16) = v50;
  *(a1 + 20) = (14564 * (v52 + v49) + 0x4000) >> 15;
  *(a1 + 80) = v51;
  *(a1 + 84) = (10298 * (v52 - 2 * v49) + 0x4000) >> 15;
  *(a1 + 48) = (17837 * v5 + 0x4000) >> 15;
  *(a1 + 52) = (17837 * (v45 - v46) + 0x4000) >> 15;
  return result;
}

double sub_1003BA1C4(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = a2[1];
  v5 = (*a2 + a3);
  v6 = *v5;
  v7 = v5[3];
  v8 = v7 + v6;
  v9 = v5[1];
  v10 = v5[2];
  v11 = v10 + v9;
  v12 = v6 - v7;
  v13 = v9 - v10;
  v14 = (32 * (v11 + v8));
  v15 = v8 - v11;
  v16 = 32 * (v8 - v11);
  v17 = 4433 * (v13 + v12) + 128;
  v18 = v17 + 6270 * v12;
  *a1 = v14 - 0x4000;
  *(a1 + 4) = v18 >> 8;
  v19 = v17 + 0xFFFFFFC4DFLL * v13;
  *(a1 + 8) = v16;
  *(a1 + 12) = v19 >> 8;
  v20 = (v4 + a3);
  LODWORD(v4) = *v20;
  v21 = v20[3];
  LODWORD(v17) = v21 + v4;
  v22 = v20[1];
  v23 = v20[2];
  v24 = v23 + v22;
  LODWORD(v4) = v4 - v21;
  v25 = v22 - v23;
  v26 = 32 * (v24 + v17) - 0x4000;
  LODWORD(v17) = 32 * (v17 - v24);
  v27 = 4433 * (v25 + v4) + 128;
  v14 -= 16382;
  v28 = (v18 >> 8) + 2;
  v29 = (v27 + 6270 * v4) >> 8;
  *a1 = (v14 + v26) >> 2;
  *(a1 + 4) = (v28 + v29) >> 2;
  *(a1 + 32) = (v14 - v26) >> 2;
  *(a1 + 36) = (v28 - v29) >> 2;
  v30 = (32 * v15) | 2;
  v31 = (v19 >> 8) + 2;
  v32 = ((v27 + 0xFFFFFFC4DFLL * v25) >> 8);
  *(a1 + 8) = (v30 + v17) >> 2;
  *(a1 + 12) = (v31 + v32) >> 2;
  *(a1 + 40) = (v30 - v17) >> 2;
  *(a1 + 44) = (v31 - v32) >> 2;
  return result;
}

double sub_1003BA330(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = (*a2 + a3);
  v5 = *v4;
  LODWORD(v4) = v4[1];
  *a1 = 32 * (v4 + v5) - 0x2000;
  *(a1 + 4) = 32 * (v5 - v4);
  return result;
}

uint64_t sub_1003BA380(_DWORD *a1, uint64_t a2, unsigned int a3)
{
  v3 = a1;
  for (i = 0; ; ++i)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * i) + a3);
      v6 = *v5;
      v7 = v5[7];
      v8 = v5[1];
      v9 = v5[6];
      v10 = (v9 + v8);
      v11 = v5[2];
      v12 = v5[5];
      v13 = (v12 + v11);
      v14 = v5[3];
      LODWORD(v5) = v5[4];
      v15 = v5 + v14 + v7 + v6;
      v16 = v7 + v6 - (v5 + v14);
      v17 = v13 + v10;
      v18 = v10 - v13;
      v19 = v6 - v7;
      v20 = v8 - v9;
      v21 = v11 - v12;
      LODWORD(v5) = v14 - v5;
      v22 = 4433 * (v16 + v18) + 1024;
      v23 = (v22 + 6270 * v16) >> 11;
      v24 = (v22 + 0x7FFFFFFC4DFLL * v18) >> 11;
      LODWORD(v13) = v5 + v20 + v21 + v19;
      v25 = -3196 * (v21 + v19) + 9633 * v13;
      v26 = -16069 * (v5 + v20) + 9633 * v13;
      v27 = -20995 * (v21 + v20);
      v28 = -7373 * (v5 + v19) + 1024;
      *v3 = 4 * (v15 + v17) - 4096;
      v3[1] = (v28 + 12299 * v19 + v25) >> 11;
      v3[2] = v23;
      v3[3] = (v27 + 1024 + 25172 * v20 + v26) >> 11;
      v3[4] = 4 * (v15 - v17);
      v3[5] = (v27 + 1024 + 16819 * v21 + v25) >> 11;
      v3[6] = v24;
      v3[7] = (v28 + 2446 * v5 + v26) >> 11;
      if (i != 7)
      {
        break;
      }

      v3 = v79;
      ++i;
    }

    if (i == 15)
    {
      break;
    }

    v3 += 8;
  }

  v29 = 0;
  do
  {
    v30 = &a1[v29];
    v77 = a1[v29];
    v78 = *&v79[v29 * 4 + 224];
    v31 = v78 + v77;
    v75 = a1[v29 + 8];
    v76 = *&v79[v29 * 4 + 192];
    v32 = v76 + v75;
    v33 = a1[v29 + 16];
    v34 = *&v79[v29 * 4 + 160];
    v35 = v34 + v33;
    v36 = a1[v29 + 24];
    v37 = *&v79[v29 * 4 + 128];
    v38 = v37 + v36;
    v39 = a1[v29 + 32];
    v40 = *&v79[v29 * 4 + 96];
    v41 = v40 + v39;
    v42 = a1[v29 + 40];
    v43 = *&v79[v29 * 4 + 64];
    v44 = v43 + v42;
    v45 = a1[v29 + 48];
    v46 = a1[v29 + 56];
    v47 = *&v79[v29 * 4];
    v48 = v47 + v46;
    v49 = v48 + v31;
    v50 = v41 + v38;
    v51 = *&v79[v29 * 4 + 32];
    v52 = v51 + v45;
    v53 = v52 + v32;
    v54 = v44 + v35;
    v55 = 10703 * (v48 + v31 - (v41 + v38)) + 4433 * (v52 + v32 - (v44 + v35));
    v56 = v31 - v48;
    v57 = v32 - v52;
    v58 = v35 - v44;
    v59 = v38 - v41;
    v60 = v33 - v34;
    LODWORD(v52) = v36 - v37;
    v61 = v39 - v40;
    v62 = v77 - v78;
    v63 = v75 - v76;
    *v30 = (v50 + v54 + v53 + v49 + 4) >> 3;
    v30[32] = (v55 + 0x8000) >> 16;
    v64 = v45 - v51;
    v65 = 2260 * (v59 - v57) + 11363 * (v56 - v58) + 0x8000;
    v66 = v65 + 17799 * v58 + 11893 * v57;
    v67 = v46 - v47;
    v30[16] = v66 >> 16;
    v30[48] = (v65 + 0xFFFFFFFFDE07 * v59 + 0xFFFFFFFFF93ELL * v56) >> 16;
    v68 = 11086 * (v63 + v62) + 3363 * (v64 - v67);
    result = 10217 * (v60 + v62) + 5461 * (v67 + v42 - v43);
    v70 = 8956 * (v52 + v62) + 7350 * (v61 - v67);
    v71 = 1136 * (v60 + v63) + 11529 * (v64 - (v42 - v43));
    v72 = -5461 * (v52 + v63) - 10217 * (v64 + v61);
    v30[8] = (result + 0xFFFFFFFFB6D6 * v62 + 6387 * (v46 - v47) + v68 + v70 + 0x8000) >> 16;
    v30[24] = (v72 + 589 * (v75 - v76) + 0xFFFFFFFFCAC1 * v64 + v71 + v68 + 0x8000) >> 16;
    v73 = -11086 * (v52 + v60) + 3363 * (v42 - v43 - v61) + 0x8000;
    v30[40] = (v73 - 9222 * v60 + 10055 * (v42 - v43) + v71 + result) >> 16;
    v30[56] = (v73 + 8728 * v52 + 17760 * v61 + v72 + v70) >> 16;
    ++v29;
  }

  while ((v29 * 4) != 32);
  return result;
}

_OWORD *sub_1003BA818(_OWORD *result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  result[14] = 0u;
  result[15] = 0u;
  result[12] = 0u;
  result[13] = 0u;
  result[10] = 0u;
  result[11] = 0u;
  result[8] = 0u;
  result[9] = 0u;
  result[6] = 0u;
  result[7] = 0u;
  result[4] = 0u;
  result[5] = 0u;
  result[2] = 0u;
  result[3] = 0u;
  v4 = result;
  *result = 0u;
  result[1] = 0u;
  while (1)
  {
    while (1)
    {
      v5 = (*(a2 + 8 * v3) + a3);
      v6 = *v5;
      v7 = v5[6];
      v8 = v7 + v6;
      v9 = v5[1];
      v10 = v5[5];
      v11 = (v10 + v9);
      v12 = v5[2];
      v13 = v5[4];
      v14 = v13 + v12;
      v15 = v5[3];
      v16 = v6 - v7;
      v17 = v9 - v10;
      LODWORD(v5) = v12 - v13;
      v18 = v13 + v12 + v8;
      v19 = 4 * (v15 + v11 + v18) - 3584;
      v20 = v18 - 4 * v15;
      v21 = v8 - (v13 + v12);
      v22 = v11 - v14;
      v23 = (7542 * v21 + 2578 * (v11 - v14) + 2896 * v20 + 1024) >> 11;
      v24 = 7223 * (v8 - v11) + 1024;
      v25 = (v24 + 2578 * v22 + 0x7FFFFFFE95FLL * (v11 - 2 * v15)) >> 11;
      v4[6] = (v24 - 7542 * v21 + 2896 * v20) >> 11;
      LODWORD(v24) = v17 + v16;
      v26 = 1395 * (v16 - v17);
      v27 = v5 + v17;
      v28 = 5027 * (v5 + v16) + 1024;
      *v4 = v19;
      v4[1] = (v28 - v26 + 7663 * v24) >> 11;
      v4[2] = v23;
      v4[3] = (v26 - 11295 * v27 + 7663 * v24 + 1024) >> 11;
      v4[4] = v25;
      v4[5] = (v28 + 15326 * v5 - 11295 * v27) >> 11;
      if (v3 != 7)
      {
        break;
      }

      v4 = v71;
      ++v3;
    }

    if (v3 == 13)
    {
      break;
    }

    v4 += 8;
    ++v3;
  }

  v29 = 0;
  do
  {
    v30 = (result + v29);
    v31 = *(result + v29);
    v32 = *&v71[v29 + 160];
    v33 = v32 + v31;
    v34 = *(result + v29 + 32);
    v35 = *&v71[v29 + 128];
    v36 = *(result + v29 + 64);
    v37 = *&v71[v29 + 96];
    v38 = v35 + v34;
    v39 = v37 + v36;
    v40 = *(result + v29 + 128);
    v41 = *&v71[v29 + 32];
    v42 = v41 + v40;
    v43 = *(result + v29 + 160);
    v44 = *&v71[v29];
    v45 = *(result + v29 + 192);
    v46 = *(result + v29 + 224);
    v47 = v44 + v43;
    v48 = v46 + v45;
    v49 = v48 + v33;
    v50 = v33 - v48;
    v51 = v47 + v38;
    v52 = v38 - v47;
    v53 = v42 + v39;
    v54 = v39 - v42;
    LODWORD(v42) = v31 - v32;
    v55 = v34 - v35;
    v56 = *(result + v29 + 96);
    v57 = *&v71[v29 + 64];
    v58 = v36 - v37;
    v59 = v57 + v56;
    v60 = v56 - v57;
    v61 = v55;
    v62 = v58;
    v63 = v40 - v41;
    v64 = v43 - v44;
    v65 = v45 - v46;
    *v30 = (5350 * (v53 + v59 + v51 + v49) + 0x4000) >> 15;
    v66 = 5915 * (v50 + v52) + 0x4000;
    v30[56] = (5350 * (v42 + v60 - (v62 + v61 + v64 - v63 + v65)) + 0x4000) >> 15;
    v67 = v66 + 0x7FFFFFFFE330 * v54 + 0x7FFFFFFFDC12 * v52;
    v30[16] = (v66 + 3283 * v54 + 1461 * v50) >> 15;
    v68 = 7518 * (v64 - v63) - 5350 * v60 - 847 * (v62 + v61) + 0x4000;
    v30[48] = v67 >> 15;
    v30[32] = (1684 * (v51 - 2 * v59) + 0x7FFFFFFFED93 * (v53 - 2 * v59) + 6817 * (v49 - 2 * v59) + 0x4000) >> 15;
    v69 = 7141 * (v61 + v42) + 2499 * (v64 - v65);
    v70 = 6406 * (v62 + v42) + 4025 * (v65 + v63);
    v30[40] = (v68 + 0x7FFFFFFFCE64 * v62 + 5992 * v63 + v70) >> 15;
    v30[24] = (v68 + 0x7FFFFFFFF723 * v61 + 0x7FFFFFFFBFD9 * v64 + v69) >> 15;
    v30[8] = (v69 + 0x7FFFFFFFE873 * v42 + 5350 * v60 + 0x7FFFFFFFFD59 * v65 + v70 + 0x4000) >> 15;
    v29 += 4;
  }

  while (v29 != 28);
  return result;
}

int *sub_1003BAC34(int *result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  *(result + 14) = 0u;
  *(result + 15) = 0u;
  *(result + 12) = 0u;
  *(result + 13) = 0u;
  *(result + 10) = 0u;
  *(result + 11) = 0u;
  *(result + 8) = 0u;
  *(result + 9) = 0u;
  *(result + 6) = 0u;
  *(result + 7) = 0u;
  *(result + 4) = 0u;
  *(result + 5) = 0u;
  v4 = a3;
  *(result + 2) = 0u;
  *(result + 3) = 0u;
  v5 = result;
  *result = 0u;
  *(result + 1) = 0u;
  while (1)
  {
    while (1)
    {
      v6 = (*(a2 + 8 * v3) + v4);
      v7 = *v6;
      v8 = v6[5];
      v9 = v6[1];
      v10 = v6[4];
      v11 = v10 + v9;
      v12 = v6[2];
      LODWORD(v6) = v6[3];
      v13 = v6 + v12 + v8 + v7;
      v14 = v8 + v7 - (v6 + v12);
      v15 = v7 - v8;
      v16 = v9 - v10;
      LODWORD(v6) = v12 - v6;
      v17 = 4 * (v13 + v10 + v9) - 3072;
      v18 = (5793 * (v13 - 2 * v11) + 1024) >> 11;
      v19 = (2998 * (v6 + v15) + 1024) >> 11;
      *v5 = v17;
      v5[1] = v19 + 4 * (v16 + v15);
      v5[2] = (10033 * v14 + 1024) >> 11;
      v5[3] = 4 * (v15 - (v16 + v6));
      v5[4] = v18;
      v5[5] = v19 + 4 * (v6 - v16);
      if (v3 != 7)
      {
        break;
      }

      v5 = v54;
      ++v3;
    }

    if (v3 == 11)
    {
      break;
    }

    v5 += 8;
    ++v3;
  }

  v20 = 0;
  do
  {
    v21 = &result[v20];
    v22 = result[v20];
    v23 = *&v54[v20 * 4 + 96];
    v24 = v23 + v22;
    v25 = result[v20 + 16];
    v26 = *&v54[v20 * 4 + 32];
    v27 = v26 + v25;
    v28 = result[v20 + 24];
    v29 = *&v54[v20 * 4];
    v30 = v29 + v28;
    v31 = result[v20 + 40];
    v32 = result[v20 + 48];
    v33 = v32 + v31;
    v34 = v33 + v24;
    v35 = v24 - v33;
    v36 = v30 + v27;
    v37 = v27 - v30;
    LODWORD(v27) = result[v20 + 8];
    v38 = *&v54[v20 * 4 + 64];
    v39 = v22 - v23;
    v40 = v38 + v27;
    LODWORD(v27) = v27 - v38;
    v41 = result[v20 + 32];
    v42 = v25 - v26;
    v43 = result[v20 + 56];
    v44 = v43 + v41;
    v45 = v41 - v43;
    v46 = v40;
    v47 = v31 - v32;
    v48 = v46 - v44;
    *v21 = (7282 * (v36 + v46 + v44 + v34) + 0x4000) >> 15;
    v21[48] = (7282 * (v35 - (v48 + v37)) + 0x4000) >> 15;
    v21[32] = (8918 * (v34 - v36) + 0x4000) >> 15;
    v21[16] = (9947 * (v35 + v37) + 7282 * (v48 - v37) + 0x4000) >> 15;
    v49 = 3941 * (v45 + v27);
    v50 = v49 + 5573 * v27;
    v51 = v49 - 13455 * v45;
    v52 = 6269 * (v28 - v29 + v39);
    v53 = 8170 * (v42 + v39) + 0x4000;
    v21[8] = (v53 + 0x7FFFFFFFEF7BLL * v39 + v52 + v50 + 1344 * v47) >> 15;
    v21[24] = (v51 + 9514 * (v39 - (v28 - v29)) + 0x7FFFFFFFF09BLL * (v47 + v42) + 0x4000) >> 15;
    v21[40] = (v53 - 17036 * v42 - 1344 * (v28 - v29 + v42) - v51 + 6269 * v47) >> 15;
    v21[56] = (v52 + 5285 * (v28 - v29) - 1344 * (v28 - v29 + v42) - v50 + 0x7FFFFFFFE016 * v47 + 0x4000) >> 15;
    ++v20;
  }

  while ((v20 * 4) != 24);
  return result;
}

_OWORD *sub_1003BAF9C(_OWORD *result, uint64_t a2, unsigned int a3)
{
  v3 = 0;
  result[14] = 0u;
  result[15] = 0u;
  result[12] = 0u;
  result[13] = 0u;
  result[10] = 0u;
  result[11] = 0u;
  result[8] = 0u;
  result[9] = 0u;
  result[6] = 0u;
  result[7] = 0u;
  result[4] = 0u;
  result[5] = 0u;
  v4 = a3;
  result[2] = 0u;
  result[3] = 0u;
  v5 = result;
  *result = 0u;
  result[1] = 0u;
  while (1)
  {
    while (1)
    {
      v6 = (*(a2 + 8 * v3) + v4);
      v7 = *v6;
      v8 = v6[4];
      v9 = v8 + v7;
      v10 = v6[1];
      v11 = v6[3];
      v12 = v11 + v10;
      LODWORD(v6) = v6[2];
      v13 = v7 - v8;
      v14 = v10 - v11;
      LODWORD(v10) = 4 * (v11 + v10 + v9 + v6) - 2560;
      LODWORD(v6) = v12 + v9 - 4 * v6;
      v15 = 6476 * (v9 - v12) + 1024;
      v16 = (v15 + 2896 * v6) >> 11;
      v5[4] = (v15 - 2896 * v6) >> 11;
      v17 = 6810 * (v14 + v13) + 1024;
      *v5 = v10;
      v5[1] = (v17 + 4209 * v13) >> 11;
      v5[2] = v16;
      v5[3] = (v17 + 0x7FFFFFFBA5CLL * v14) >> 11;
      if (v3 != 7)
      {
        break;
      }

      v5 = v50;
      ++v3;
    }

    if (v3 == 9)
    {
      break;
    }

    v5 += 8;
    ++v3;
  }

  v18 = 0;
  do
  {
    v19 = (result + v18);
    v20 = *(result + v18);
    v21 = *&v50[v18 + 32];
    v22 = v21 + v20;
    v23 = *(result + v18 + 32);
    v24 = *&v50[v18];
    v25 = v24 + v23;
    v26 = *(result + v18 + 96);
    v27 = *(result + v18 + 192);
    v28 = v27 + v26;
    v29 = *(result + v18 + 128);
    v30 = *(result + v18 + 160);
    v31 = v30 + v29;
    v32 = v31 + v22;
    v33 = v22 - v31;
    v34 = v28 + v25;
    v35 = v25 - v28;
    LODWORD(v28) = *(result + v18 + 64);
    v36 = v20 - v21;
    v37 = *(result + v18 + 224);
    v38 = v23 - v24;
    *v19 = (10486 * (v34 + v37 + v28 + v32) + 0x4000) >> 15;
    v39 = 2 * (v37 + v28);
    v40 = v32 - v39;
    v41 = v34 - v39;
    v42 = v26 - v27;
    v43 = 11997 * v40 + 0x7FFFFFFFEE1ALL * v41;
    v44 = v29 - v30;
    v19[32] = (v43 + 0x4000) >> 15;
    v45 = 8716 * (v33 + v35) + 0x4000;
    v19[16] = (v45 + 5387 * v33) >> 15;
    v19[48] = (v45 + 0x7FFFFFFFA6DCLL * v35) >> 15;
    v46 = v44 + v36;
    v47 = v38 - v42;
    v19[40] = (10486 * (v46 - (v47 + v28 - v37)) + 0x4000) >> 15;
    v19[8] = (13213 * v38 + 14647 * v36 + 10486 * (v28 - v37) + 6732 * v42 + 2320 * v44 + 0x4000) >> 15;
    v48 = 5243 * v47 - 10486 * (v28 - v37) + 3240 * (v46 + v47);
    v49 = -6163 * (v42 + v38) + 9973 * (v36 - v44) + 0x4000;
    v19[24] = (v49 + v48) >> 15;
    v19[56] = (v49 - v48) >> 15;
    v18 += 4;
  }

  while (v18 != 20);
  return result;
}

uint64_t sub_1003BB2B0(uint64_t result, void *a2, unsigned int a3)
{
  v3 = 0;
  *(result + 224) = 0u;
  *(result + 240) = 0u;
  *(result + 192) = 0u;
  *(result + 208) = 0u;
  *(result + 160) = 0u;
  *(result + 176) = 0u;
  *(result + 128) = 0u;
  *(result + 144) = 0u;
  *(result + 96) = 0u;
  *(result + 112) = 0u;
  *(result + 64) = 0u;
  *(result + 80) = 0u;
  *(result + 32) = 0u;
  *(result + 48) = 0u;
  *result = 0u;
  *(result + 16) = 0u;
  v4 = a3;
  v5 = a2[1];
  v6 = (*a2 + a3);
  v7 = *v6;
  v8 = v6[3];
  v9 = v8 + v7;
  v10 = v6[1];
  v11 = v6[2];
  v12 = v11 + v10;
  v13 = v7 - v8;
  v14 = v10 - v11;
  v15 = 8 * (v12 + v9) - 4096;
  v16 = 8 * (v9 - v12);
  v17 = 4433 * (v14 + v13) + 512;
  *result = v15;
  *(result + 4) = (v17 + 6270 * v13) >> 10;
  *(result + 8) = v16;
  *(result + 12) = (v17 + 0x3FFFFFFC4DFLL * v14) >> 10;
  v18 = (v5 + a3);
  v19 = *v18;
  LODWORD(v14) = v18[3];
  LODWORD(v17) = v14 + v19;
  v20 = v18[1];
  v21 = v18[2];
  v22 = v21 + v20;
  v23 = v19 - v14;
  v24 = v20 - v21;
  v25 = 4433 * (v24 + v23) + 512;
  *(result + 32) = 8 * (v22 + v17) - 4096;
  *(result + 36) = (v25 + 6270 * v23) >> 10;
  *(result + 40) = 8 * (v17 - v22);
  *(result + 44) = (v25 + 0x3FFFFFFC4DFLL * v24) >> 10;
  v26 = a2[3];
  v27 = (a2[2] + v4);
  LODWORD(v14) = *v27;
  LODWORD(v17) = v27[3];
  LODWORD(v25) = v17 + v14;
  v28 = v27[1];
  v29 = v27[2];
  v30 = v29 + v28;
  LODWORD(v14) = v14 - v17;
  v31 = v28 - v29;
  v32 = 4433 * (v31 + v14) + 512;
  *(result + 64) = 8 * (v30 + v25) - 4096;
  *(result + 68) = (v32 + 6270 * v14) >> 10;
  *(result + 72) = 8 * (v25 - v30);
  *(result + 76) = (v32 + 0x3FFFFFFC4DFLL * v31) >> 10;
  v33 = (v26 + v4);
  LODWORD(v26) = *(v26 + v4);
  LODWORD(v14) = v33[3];
  LODWORD(v17) = v14 + v26;
  v34 = v33[1];
  v35 = v33[2];
  LODWORD(v32) = v35 + v34;
  LODWORD(v26) = v26 - v14;
  v36 = v34 - v35;
  v37 = 4433 * (v36 + v26) + 512;
  *(result + 96) = 8 * (v32 + v17) - 4096;
  *(result + 100) = (v37 + 6270 * v26) >> 10;
  *(result + 104) = 8 * (v17 - v32);
  *(result + 108) = (v37 + 0x3FFFFFFC4DFLL * v36) >> 10;
  v38 = a2[5];
  v39 = (a2[4] + v4);
  LODWORD(v14) = *v39;
  LODWORD(v17) = v39[3];
  LODWORD(v37) = v17 + v14;
  v40 = v39[1];
  v41 = v39[2];
  v42 = v41 + v40;
  LODWORD(v14) = v14 - v17;
  v43 = v40 - v41;
  v44 = 4433 * (v43 + v14) + 512;
  *(result + 128) = 8 * (v42 + v37) - 4096;
  *(result + 132) = (v44 + 6270 * v14) >> 10;
  *(result + 136) = 8 * (v37 - v42);
  *(result + 140) = (v44 + 0x3FFFFFFC4DFLL * v43) >> 10;
  v45 = (v38 + v4);
  LODWORD(v38) = *(v38 + v4);
  LODWORD(v14) = v45[3];
  LODWORD(v17) = v14 + v38;
  v46 = v45[1];
  v47 = v45[2];
  LODWORD(v44) = v47 + v46;
  LODWORD(v38) = v38 - v14;
  v48 = v46 - v47;
  v49 = 4433 * (v48 + v38) + 512;
  *(result + 160) = 8 * (v44 + v17) - 4096;
  *(result + 164) = (v49 + 6270 * v38) >> 10;
  *(result + 168) = 8 * (v17 - v44);
  *(result + 172) = (v49 + 0x3FFFFFFC4DFLL * v48) >> 10;
  v50 = a2[7];
  v51 = (a2[6] + v4);
  LODWORD(v14) = *v51;
  LODWORD(v17) = v51[3];
  LODWORD(v49) = v17 + v14;
  v52 = v51[1];
  v53 = v51[2];
  LODWORD(v44) = v53 + v52;
  LODWORD(v14) = v14 - v17;
  v54 = v52 - v53;
  v55 = 4433 * (v54 + v14) + 512;
  *(result + 192) = 8 * (v44 + v49) - 4096;
  *(result + 196) = (v55 + 6270 * v14) >> 10;
  *(result + 200) = 8 * (v49 - v44);
  *(result + 204) = (v55 + 0x3FFFFFFC4DFLL * v54) >> 10;
  v56 = (v50 + v4);
  LODWORD(v54) = *v56;
  LODWORD(v50) = v56[3];
  LODWORD(v14) = v50 + v54;
  v57 = v56[1];
  v58 = v56[2];
  LODWORD(v49) = v58 + v57;
  LODWORD(v54) = v54 - v50;
  v59 = v57 - v58;
  LODWORD(v50) = 8 * (v49 + v14) - 4096;
  LODWORD(v49) = 8 * (v14 - v49);
  v60 = 4433 * (v59 + v54) + 512;
  *(result + 224) = v50;
  *(result + 228) = (v60 + 6270 * v54) >> 10;
  *(result + 232) = v49;
  *(result + 236) = (v60 + 0x3FFFFFFC4DFLL * v59) >> 10;
  do
  {
    v61 = (result + v3);
    v62 = *(result + v3);
    v63 = *(result + v3 + 224);
    v64 = v63 + v62;
    v65 = *(result + v3 + 32);
    v66 = *(result + v3 + 192);
    v67 = v66 + v65;
    v68 = *(result + v3 + 64);
    v69 = *(result + v3 + 160);
    v70 = v69 + v68;
    v71 = *(result + v3 + 96);
    v72 = *(result + v3 + 128);
    v73 = v72 + v71;
    v74 = v64 + v73 + 2;
    v75 = v64 - v73;
    v76 = v70 + v67;
    v77 = v67 - v70;
    v78 = v62 - v63;
    v79 = v65 - v66;
    v80 = v68 - v69;
    v81 = v71 - v72;
    *v61 = (v74 + v76) >> 2;
    v61[32] = (v74 - v76) >> 2;
    v82 = 4433 * (v75 + v77) + 0x4000;
    v61[16] = (v82 + 6270 * v75) >> 15;
    v61[48] = (v82 + 0x7FFFFFFFC4DFLL * v77) >> 15;
    v83 = v80 + v78;
    v84 = v81 + v79;
    v85 = 9633 * (v84 + v83) + 0x4000;
    v86 = v85 - 3196 * v83;
    v87 = v85 - 16069 * v84;
    v88 = -7373 * (v81 + v78);
    v89 = -20995 * (v80 + v79);
    v61[8] = (v88 + 12299 * v78 + v86) >> 15;
    v61[24] = (v89 + 25172 * v79 + v87) >> 15;
    v61[40] = (v89 + 16819 * v80 + v86) >> 15;
    v61[56] = (v88 + 2446 * v81 + v87) >> 15;
    v3 += 4;
  }

  while (v3 != 16);
  return result;
}

double sub_1003BB75C(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = a2[1];
  v5 = (*a2 + a3);
  v6 = *v5;
  v7 = v5[2];
  LODWORD(v5) = v5[1];
  *(a1 + 8) = (5793 * (v7 + v6 - 2 * v5) + 512) >> 10;
  *a1 = 8 * (v7 + v6 + v5) - 3072;
  *(a1 + 4) = (10033 * (v6 - v7) + 512) >> 10;
  v8 = (v4 + a3);
  v9 = *v8;
  v10 = v8[2];
  LODWORD(v8) = v8[1];
  *(a1 + 40) = (5793 * (v10 + v9 - 2 * v8) + 512) >> 10;
  *(a1 + 32) = 8 * (v10 + v9 + v8) - 3072;
  *(a1 + 36) = (10033 * (v9 - v10) + 512) >> 10;
  v11 = a2[3];
  v12 = (a2[2] + a3);
  v13 = *v12;
  v14 = v12[2];
  LODWORD(v12) = v12[1];
  *(a1 + 72) = (5793 * (v14 + v13 - 2 * v12) + 512) >> 10;
  *(a1 + 64) = 8 * (v14 + v13 + v12) - 3072;
  *(a1 + 68) = (10033 * (v13 - v14) + 512) >> 10;
  v15 = (v11 + a3);
  LODWORD(v11) = *v15;
  v16 = v15[2];
  v17 = v16 + v11;
  LODWORD(v15) = v15[1];
  v18 = v11 - v16;
  LODWORD(v11) = 8 * (v17 + v15) - 3072;
  *(a1 + 104) = (5793 * (v17 - 2 * v15) + 512) >> 10;
  *(a1 + 96) = v11;
  *(a1 + 100) = (10033 * v18 + 512) >> 10;
  v19 = a2[5];
  v20 = (a2[4] + a3);
  v21 = *v20;
  v22 = v20[2];
  v23 = v22 + v21;
  LODWORD(v20) = v20[1];
  v24 = v21 - v22;
  v25 = 8 * (v23 + v20) - 3072;
  *(a1 + 136) = (5793 * (v23 - 2 * v20) + 512) >> 10;
  LODWORD(v20) = (10033 * v24 + 512) >> 10;
  *(a1 + 128) = v25;
  *(a1 + 132) = v20;
  v26 = (v19 + a3);
  LODWORD(v19) = *v26;
  v27 = v26[2];
  LODWORD(v26) = v26[1];
  v28 = v27 + v19 - 2 * v26;
  v29 = v19 - v27;
  v30 = 8 * (v27 + v19 + v26) - 3072;
  LODWORD(v26) = *(a1 + 4);
  v31 = v30 + *a1;
  v32 = *(a1 + 32);
  v33 = *(a1 + 36);
  v35 = *(a1 + 64);
  v34 = *(a1 + 68);
  v36 = v11 + v35;
  v37 = v36 + v31;
  v38 = v36 + v31 - 2 * (v25 + v32);
  v39 = 5793 * v28 + 512;
  v40 = (10033 * v29 + 512) >> 10;
  v41 = v25 + v32;
  v42 = v31 - v36;
  v43 = *a1 - v30;
  v44 = v32 - v25;
  v45 = v35 - v11;
  v46 = 5331 * (v45 + v43) + 0x4000;
  v47 = v46 + 14564 * (v44 + v43);
  v48 = v43 - (v44 + v45);
  v49 = v46 + 14564 * (v45 - v44);
  v50 = v40 + v26;
  LODWORD(v45) = *(a1 + 100);
  LODWORD(v44) = *(a1 + 104);
  v51 = v45 + v34;
  *(a1 + 168) = v39 >> 10;
  v52 = v26 - v40;
  v53 = v20 + v33;
  v54 = v33 - v20;
  *a1 = (14564 * (v37 + v41) + 0x4000) >> 15;
  *(a1 + 4) = (14564 * (v51 + v50 + v53) + 0x4000) >> 15;
  v55 = v34 - v45;
  *(a1 + 64) = (17837 * v42 + 0x4000) >> 15;
  *(a1 + 68) = (17837 * (v50 - v51) + 0x4000) >> 15;
  *(a1 + 128) = (10298 * v38 + 0x4000) >> 15;
  *(a1 + 132) = (10298 * (v51 + v50 - 2 * v53) + 0x4000) >> 15;
  v56 = 5331 * (v55 + v52) + 0x4000;
  *(a1 + 32) = v47 >> 15;
  *(a1 + 36) = (v56 + 14564 * (v54 + v52)) >> 15;
  *(a1 + 96) = (14564 * v48 + 0x4000) >> 15;
  *(a1 + 100) = (14564 * (v52 - (v54 + v55)) + 0x4000) >> 15;
  *(a1 + 160) = v49 >> 15;
  *(a1 + 164) = (v56 + 14564 * (v55 - v54)) >> 15;
  LODWORD(v47) = *(a1 + 8);
  LODWORD(v48) = *(a1 + 168);
  v57 = v48 + v47;
  v58 = *(a1 + 40);
  LODWORD(v55) = *(a1 + 136);
  v59 = v55 + v58;
  v60 = *(a1 + 72);
  v61 = v44 + v60;
  v62 = v47 - v48;
  v63 = v58 - v55;
  v64 = v60 - v44;
  *(a1 + 8) = (14564 * (v61 + v57 + v59) + 0x4000) >> 15;
  *(a1 + 72) = (17837 * (v57 - v61) + 0x4000) >> 15;
  *(a1 + 136) = (10298 * (v61 + v57 - 2 * v59) + 0x4000) >> 15;
  v65 = 5331 * (v64 + v62) + 0x4000;
  *(a1 + 40) = (v65 + 14564 * (v63 + v62)) >> 15;
  *(a1 + 104) = (14564 * (v62 - (v63 + v64)) + 0x4000) >> 15;
  *(a1 + 168) = (v65 + 14564 * (v64 - v63)) >> 15;
  return result;
}

double sub_1003BBB2C(uint64_t a1, void *a2, unsigned int a3)
{
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  v4 = a2[1];
  v5 = (*a2 + a3);
  v6 = *v5;
  LODWORD(v5) = v5[1];
  v7 = 8 * (v5 + v6);
  LODWORD(v5) = 8 * (v6 - v5);
  *a1 = v7 - 2048;
  *(a1 + 4) = v5;
  v8 = (v4 + a3);
  v9 = *v8;
  LODWORD(v8) = v8[1];
  v10 = 8 * (v8 + v9);
  LODWORD(v8) = 8 * (v9 - v8);
  *(a1 + 32) = v10 - 2048;
  *(a1 + 36) = v8;
  v11 = a2[3];
  v12 = (a2[2] + a3);
  v13 = *v12;
  LODWORD(v12) = v12[1];
  v14 = 8 * (v12 + v13);
  LODWORD(v12) = 8 * (v13 - v12);
  *(a1 + 64) = v14 - 2048;
  *(a1 + 68) = v12;
  v15 = (v11 + a3);
  LODWORD(v11) = *v15;
  LODWORD(v15) = v15[1];
  v16 = 8 * (v15 + v11);
  LODWORD(v15) = 8 * (v11 - v15);
  v17 = v16 + v7 - 2048 - 2048;
  v18 = v14 - 2048 + v10 - 2048;
  v19 = v10 - v14;
  LODWORD(v11) = v18 + v17;
  v20 = v17 - v18;
  v21 = 4433 * (v19 + v7 - v16) + 4096;
  v22 = (v21 + 6270 * (v7 - v16)) >> 13;
  v23 = (v21 + 0x1FFFFFFFC4DFLL * v19) >> 13;
  LODWORD(v21) = v15 + v5;
  LODWORD(v5) = v5 - v15;
  LODWORD(v15) = v12 + v8;
  v24 = v8 - v12;
  *a1 = v11;
  *(a1 + 4) = v15 + v21;
  *(a1 + 64) = v20;
  *(a1 + 68) = v21 - v15;
  v25 = 4433 * (v24 + v5) + 4096;
  *(a1 + 32) = v22;
  *(a1 + 36) = (v25 + 6270 * v5) >> 13;
  *(a1 + 96) = v23;
  *(a1 + 100) = (v25 + 0x1FFFFFFFC4DFLL * v24) >> 13;
  return result;
}

double sub_1003BBC7C(_OWORD *a1, void *a2, unsigned int a3)
{
  result = 0.0;
  a1[14] = 0u;
  a1[15] = 0u;
  a1[12] = 0u;
  a1[13] = 0u;
  a1[10] = 0u;
  a1[11] = 0u;
  a1[8] = 0u;
  a1[9] = 0u;
  a1[6] = 0u;
  a1[7] = 0u;
  a1[4] = 0u;
  a1[5] = 0u;
  a1[2] = 0u;
  a1[3] = 0u;
  *a1 = 0u;
  a1[1] = 0u;
  v4 = *(*a2 + a3);
  v5 = *(a2[1] + a3);
  *a1 = 32 * (v5 + v4) - 0x2000;
  *(a1 + 8) = 32 * (v4 - v5);
  return result;
}

uint64_t sub_1003BBCCC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5, double a6, double a7, double a8, double a9, double a10, double a11, double a12, double a13)
{
  v14 = *(a1 + 408);
  v15 = (a3 + 64);
  v16 = v62;
  v17 = 9;
  v18 = *(a2 + 88);
  do
  {
    v19 = *(v15 - 24);
    v20 = *(v15 - 16);
    if (v19 | v20)
    {
      goto LABEL_9;
    }

    if (*(v15 - 8) || *v15 || v15[8] || v15[16] || (result = v15[24], v15[24]))
    {
      v20 = 0;
LABEL_9:
      LOWORD(a6) = *(v15 - 32);
      *&a6 = vmovl_s16(*&a6).u64[0];
      *&a6 = *v18 * SLODWORD(a6);
      result = v20;
      LODWORD(a8) = *(v18 + 64);
      v22 = *&a8 * result;
      LOWORD(a8) = *v15;
      *&a8 = vmovl_s16(*&a8).u64[0];
      LODWORD(a9) = *(v18 + 128);
      *&a8 = *&a9 * SLODWORD(a8);
      LOWORD(a9) = v15[16];
      *&a9 = vmovl_s16(*&a9).u64[0];
      *&a9 = *(v18 + 192) * SLODWORD(a9);
      v23 = *&a6 + *&a8;
      *&a6 = *&a6 - *&a8;
      *&a8 = v22 + *&a9;
      v24 = -((v22 + *&a9) - ((v22 - *&a9) * 1.4142));
      v25 = v23 + *&a8;
      *&a8 = v23 - *&a8;
      v26 = *&a6 + v24;
      *&a6 = *&a6 - v24;
      LODWORD(a12) = *(v18 + 32);
      v27 = *&a12 * v19;
      LOWORD(a12) = *(v15 - 8);
      *&a12 = vmovl_s16(*&a12).u64[0];
      LODWORD(a13) = *(v18 + 96);
      *&a12 = *&a13 * SLODWORD(a12);
      LOWORD(a13) = v15[8];
      *&a13 = vmovl_s16(*&a13).u64[0];
      v13.i32[0] = *(v18 + 160);
      *&a13 = *v13.i32 * SLODWORD(a13);
      v13.i16[0] = v15[24];
      v13 = vmovl_s16(v13).u64[0];
      *v13.i32 = *(v18 + 224) * v13.i32[0];
      v28 = *&a12 + *&a13;
      *&a12 = *&a13 - *&a12;
      *&a13 = v27 + *v13.i32;
      v29 = v27 - *v13.i32;
      *v13.i32 = v28 + *&a13;
      *&a9 = (*&a13 - v28) * 1.4142;
      *&a13 = (*&a12 + v29) * 1.8478;
      *&a12 = (*&a13 + (*&a12 * -2.6131)) - *v13.i32;
      *&a9 = *&a9 - *&a12;
      v30 = (*&a13 + (v29 * -1.0824)) - *&a9;
      *v16 = v25 + *v13.i32;
      v16[56] = v25 - *v13.i32;
      v16[8] = v26 + *&a12;
      v16[48] = v26 - *&a12;
      v16[16] = *&a6 + *&a9;
      v16[40] = *&a6 - *&a9;
      v16[24] = *&a8 + v30;
      *&a6 = *&a8 - v30;
      v31 = 32;
      goto LABEL_10;
    }

    LOWORD(a6) = *(v15 - 32);
    *&a6 = vmovl_s16(*&a6).u64[0];
    *&a6 = *v18 * SLODWORD(a6);
    *v16 = *&a6;
    v16[8] = *&a6;
    v16[16] = *&a6;
    v16[24] = *&a6;
    v16[32] = *&a6;
    v16[40] = *&a6;
    v16[48] = *&a6;
    v31 = 56;
LABEL_10:
    v16[v31] = *&a6;
    ++v16;
    v18 += 4;
    --v17;
    ++v15;
  }

  while (v17 > 1);
  v32 = 0;
  v33 = v14 - 384;
  do
  {
    v34 = &v62[v32];
    v35 = (*(a4 + v32) + a5);
    v36 = v34[1];
    v37 = *v34 + 512.5;
    v38 = v34[4];
    v39 = v34[5];
    v40 = v37 + v38;
    v41 = v34[2];
    v42 = v34[3];
    v43 = v34[6];
    v44 = v34[7];
    v45 = v41 + v43;
    v46 = v37 - v38;
    v47 = -((v41 + v43) - ((v41 - v43) * 1.4142));
    v48 = v39 + v42;
    v49 = v39 - v42;
    v50 = v40 + v45;
    v51 = v40 - v45;
    v52 = v36 + v44;
    v53 = v36 - v44;
    v54 = v48 + v52;
    v55 = v52 - v48;
    v56 = v46 + v47;
    v57 = v46 - v47;
    v58 = (v49 + v53) * 1.8478;
    v59 = (v58 + (v49 * -2.6131)) - v54;
    v60 = (v55 * 1.4142) - v59;
    *v35 = *(v33 + ((v50 + v54) & 0x3FFLL));
    v35[7] = *(v33 + ((v50 - v54) & 0x3FFLL));
    v35[1] = *(v33 + ((v56 + v59) & 0x3FFLL));
    v35[6] = *(v33 + ((v56 - v59) & 0x3FFLL));
    v35[2] = *(v33 + ((v57 + v60) & 0x3FFLL));
    v61 = (v58 + (v53 * -1.0824)) - v60;
    v35[5] = *(v33 + ((v57 - v60) & 0x3FFLL));
    v35[3] = *(v33 + ((v51 + v61) & 0x3FFLL));
    v35[4] = *(v33 + ((v51 - v61) & 0x3FFLL));
    v32 += 8;
  }

  while (v32 != 64);
  return result;
}

int8x8_t sub_1003BC0A8(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, unsigned int a5)
{
  v5 = *(a1 + 408);
  v6 = (a3 + 64);
  v7 = v70;
  v8 = 9;
  v9 = *(a2 + 88);
  do
  {
    v10 = *(v6 - 16);
    if (*(v6 - 24) | v10)
    {
      goto LABEL_9;
    }

    if (*(v6 - 8) || *v6 || v6[8] || v6[16] || v6[24])
    {
      v10 = 0;
LABEL_9:
      v11 = *v9 * *(v6 - 32);
      v12 = v9[16] * v10;
      v13 = v9[32] * *v6;
      v14 = v9[48] * v6[16];
      v15 = v13 + v11;
      v16 = v11 - v13;
      v17 = v14 + v12;
      v18 = ((362 * (v12 - v14)) >> 8) - (v14 + v12);
      v19 = v17 + v15;
      v20 = v15 - v17;
      v21 = v18 + v16;
      v22 = v16 - v18;
      v23 = v9[8] * *(v6 - 24);
      v24 = v9[24] * *(v6 - 8);
      v25 = v9[40] * v6[8];
      v26 = v9[56] * v6[24];
      v27 = v25 + v24;
      v28 = v25 - v24;
      v29 = v26 + v23;
      v30 = v23 - v26;
      v31 = v29 + v27;
      v32 = (362 * (v29 - v27)) >> 8;
      *v7 = v31 + v19;
      v33 = (473 * (v30 + v28)) >> 8;
      v34 = v33 - (v31 + ((669 * v28) >> 8));
      LODWORD(v32) = v32 - v34;
      v7[56] = v19 - v31;
      v7[8] = v34 + v21;
      v35 = v33 - ((277 * v30) >> 8) - v32;
      v7[48] = v21 - v34;
      v7[16] = v32 + v22;
      v7[40] = v22 - v32;
      v7[24] = v35 + v20;
      v36 = v20 - v35;
      v37 = 32;
      goto LABEL_10;
    }

    v36 = *v9 * *(v6 - 32);
    *v7 = v36;
    v7[8] = v36;
    v7[16] = v36;
    v7[24] = v36;
    v7[32] = v36;
    v7[40] = v36;
    v7[48] = v36;
    v37 = 56;
LABEL_10:
    v7[v37] = v36;
    ++v7;
    ++v9;
    --v8;
    ++v6;
  }

  while (v8 > 1);
  v38 = 0;
  v39 = v5 - 384;
  v40 = a5;
  do
  {
    while (1)
    {
      v41 = &v70[v38];
      v42 = (*a4 + v40);
      v43 = *&v70[v38 + 4];
      v44 = (*&v70[v38] + 16400);
      v45 = *&v70[v38 + 8];
      if (!*&v70[v38 + 4])
      {
        break;
      }

LABEL_20:
      v47 = v41[3];
      v46 = v41[4];
      v48 = v46 + v44;
      v49 = v44 - v46;
      v51 = v41[5];
      v50 = v41[6];
      v52 = v50 + v45;
      v53 = ((362 * (v45 - v50)) >> 8) - (v50 + v45);
      v54 = v52 + v48;
      v55 = v48 - v52;
      v56 = v53 + v49;
      v57 = v49 - v53;
      v58 = v47 + v51;
      v59 = v51 - v47;
      v60 = v41[7];
      v61 = v60 + v43;
      v62 = v43 - v60;
      v63 = v61 + v58;
      v64 = (362 * (v61 - v58)) >> 8;
      *v42 = *(v39 + (((v63 + v54) >> 5) & 0x3FF));
      v65 = (473 * (v62 + v59)) >> 8;
      v66 = v65 - (v63 + ((669 * v59) >> 8));
      v42[7] = *(v39 + (((v54 - v63) >> 5) & 0x3FF));
      v42[1] = *(v39 + (((v66 + v56) >> 5) & 0x3FF));
      LODWORD(v64) = v64 - v66;
      v42[6] = *(v39 + (((v56 - v66) >> 5) & 0x3FF));
      v42[2] = *(v39 + (((v64 + v57) >> 5) & 0x3FF));
      v67 = v65 - ((277 * v62) >> 8) - v64;
      v42[5] = *(v39 + (((v57 - v64) >> 5) & 0x3FF));
      v42[3] = *(v39 + (((v67 + v55) >> 5) & 0x3FF));
      v42[4] = *(v39 + (((v55 - v67) >> 5) & 0x3FF));
      ++a4;
      v38 += 32;
      if (v38 == 256)
      {
        return result;
      }
    }

    if (v41[3] || *&v70[v38 + 16] || *&v70[v38 + 20] || *&v70[v38 + 24] || *&v70[v38 + 28])
    {
      v45 = 0;
      goto LABEL_20;
    }

    v68 = *(v39 + ((v44 >> 5) & 0x3FF));
    result = vdup_n_s8(v68);
    *v42 = result.i32[0];
    v42[4] = v68;
    v42[5] = v68;
    v42[6] = v68;
    v42[7] = v68;
    ++a4;
    v38 += 32;
  }

  while (v38 != 256);
  return result;
}

int8x8_t sub_1003BC4A0(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, unsigned int a5)
{
  v72 = *(a1 + 408);
  v5 = (a3 + 64);
  v6 = v74;
  v7 = 9;
  v8 = *(a2 + 88);
  do
  {
    v9 = *(v5 - 16);
    if (*(v5 - 24) | v9)
    {
      goto LABEL_9;
    }

    if (*(v5 - 8) || *v5 || v5[8] || v5[16] || v5[24])
    {
      v9 = 0;
LABEL_9:
      v10 = (v8[32] * *v5) << 13;
      v11 = ((*v8 * *(v5 - 32)) << 13) | 0x400;
      v12 = v10 + v11;
      v13 = v11 - v10;
      v14 = v8[16] * v9;
      v15 = v8[48] * v5[16];
      v16 = 4433 * (v14 + v15);
      v17 = v16 + 6270 * v14;
      v18 = v16 - 15137 * v15;
      v19 = v17 + v12;
      v20 = v12 - v17;
      v21 = v18 + v13;
      v22 = v13 - v18;
      v23 = v8[56] * v5[24];
      v24 = v8[40] * v5[8];
      v25 = v8[24];
      v26 = v8[8] * *(v5 - 24);
      v27 = v23 + v25 * *(v5 - 8);
      v28 = 9633 * (v24 + v26 + v27);
      v29 = v28 - 16069 * v27;
      v30 = v28 - 3196 * (v24 + v26);
      v31 = -7373 * (v23 + v26);
      v32 = v31 + 2446 * v23 + v29;
      v33 = v31 + 12299 * v26 + v30;
      v34 = -20995 * (v24 + v25 * *(v5 - 8));
      v35 = v34 + 16819 * v24 + v30;
      v36 = v34 + 25172 * v25 * *(v5 - 8) + v29;
      *v6 = (v33 + v19) >> 11;
      v6[56] = (v19 - v33) >> 11;
      v6[8] = (v36 + v21) >> 11;
      v6[48] = (v21 - v36) >> 11;
      v6[16] = (v35 + v22) >> 11;
      v6[40] = (v22 - v35) >> 11;
      v6[24] = (v32 + v20) >> 11;
      v37 = (v20 - v32) >> 11;
      v38 = 32;
      goto LABEL_10;
    }

    LODWORD(v37) = 4 * *(v5 - 32) * *v8;
    *v6 = v37;
    v6[8] = v37;
    v6[16] = v37;
    v6[24] = v37;
    v6[32] = v37;
    v6[40] = v37;
    v6[48] = v37;
    v38 = 56;
LABEL_10:
    v6[v38] = v37;
    ++v6;
    ++v8;
    --v7;
    ++v5;
  }

  while (v7 > 1);
  v39 = 0;
  v40 = v72 - 384;
  do
  {
    while (1)
    {
      v41 = &v74[v39];
      v42 = (*a4 + a5);
      v43 = *&v74[v39 + 4];
      v44 = *&v74[v39] + 16400;
      v45 = *&v74[v39 + 8];
      if (v43)
      {
        v46 = 0;
      }

      else
      {
        v46 = v45 == 0;
      }

      if (!v46)
      {
        goto LABEL_24;
      }

      if (!v41[3] && !*&v74[v39 + 16] && !*&v74[v39 + 20] && !*&v74[v39 + 24] && !*&v74[v39 + 28])
      {
        break;
      }

      LODWORD(v45) = 0;
LABEL_24:
      v48 = v41[3];
      v47 = v41[4];
      v49 = (v44 + v47) << 13;
      v50 = (v44 - v47) << 13;
      v52 = v41[5];
      v51 = v41[6];
      v53 = 4433 * (v51 + v45);
      v54 = v53 + 6270 * v45;
      v55 = v53 - 15137 * v51;
      v56 = v54 + v49;
      v57 = v49 - v54;
      v58 = v55 + v50;
      v59 = v50 - v55;
      v60 = v41[7];
      v61 = 9633 * (v48 + v60 + v52 + v43);
      v62 = v61 - 16069 * (v48 + v60);
      v63 = v61 - 3196 * (v52 + v43);
      v64 = -7373 * (v60 + v43);
      v65 = v64 + 12299 * v43 + v63;
      *v42 = *(v40 + (((v65 + v56) >> 18) & 0x3FF));
      v66 = (v56 - v65);
      v67 = -20995 * (v48 + v52);
      v68 = v67 + 25172 * v48 + v62;
      v42[7] = *(v40 + ((v66 >> 18) & 0x3FF));
      v42[1] = *(v40 + (((v68 + v58) >> 18) & 0x3FF));
      v69 = v67 + 16819 * v52 + v63;
      v42[6] = *(v40 + (((v58 - v68) >> 18) & 0x3FF));
      v42[2] = *(v40 + (((v69 + v59) >> 18) & 0x3FF));
      LODWORD(v66) = v64 + 2446 * v60 + v62;
      v42[5] = *(v40 + (((v59 - v69) >> 18) & 0x3FF));
      v42[3] = *(v40 + (((v66 + v57) >> 18) & 0x3FF));
      v42[4] = *(v40 + (((v57 - v66) >> 18) & 0x3FF));
      ++a4;
      v39 += 32;
      if (v39 == 256)
      {
        return result;
      }
    }

    v70 = *(v40 + ((v44 >> 5) & 0x3FF));
    result = vdup_n_s8(v70);
    *v42 = result.i32[0];
    v42[4] = v70;
    v42[5] = v70;
    v42[6] = v70;
    v42[7] = v70;
    ++a4;
    v39 += 32;
  }

  while (v39 != 256);
  return result;
}

uint64_t sub_1003BC92C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4, unsigned int a5)
{
  v5 = 0;
  v61 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = &v63[4 * v5];
    v8 = (v6 + 4 * v5);
    v9 = (a3 + 2 * v5);
    v10 = ((*v8 * *v9) << 13) | 0x400;
    v11 = v8[16] * v9[16];
    v12 = v8[32] * v9[32];
    v13 = v8[48] * v9[48];
    v14 = 7223 * (v12 - v13);
    v15 = 2578 * (v11 - v12);
    v16 = v10 - 15083 * v12 + v15 + v14;
    v17 = v10 + 10438 * (v11 + v13);
    v18 = v14 - 637 * v13 + v17;
    v19 = v15 - 20239 * v11 + v17;
    v20 = v10 + 11585 * (v12 - (v11 + v13));
    v21 = v8[8] * v9[8];
    v22 = v8[24] * v9[24];
    v23 = v8[40] * v9[40];
    v24 = 7663 * (v21 + v22);
    v25 = 1395 * (v21 - v22);
    v26 = v24 - v25;
    v27 = v24 + v25 - 11295 * (v22 + v23);
    v28 = 5027 * (v21 + v23);
    v29 = v28 + v26;
    v30 = v28 + 15326 * v23 - 11295 * (v22 + v23);
    *v7 = (v29 + v18) >> 11;
    v7[42] = (v18 - v29) >> 11;
    v7[7] = (v27 + v16) >> 11;
    v7[35] = (v16 - v27) >> 11;
    v7[14] = (v30 + v19) >> 11;
    v7[28] = (v19 - v30) >> 11;
    v7[21] = v20 >> 11;
    ++v5;
  }

  while (v5 != 7);
  v31 = 0;
  v32 = v61 - 384;
  result = 11585;
  do
  {
    v34 = *a4++;
    v35 = *&v63[v31 + 4];
    v36 = (*&v63[v31] << 13) + 134348800;
    v38 = *&v63[v31 + 20];
    v37 = *&v63[v31 + 24];
    v39 = *&v63[v31 + 16];
    v40 = 7223 * (v39 - v37);
    v42 = *&v63[v31 + 8];
    v41 = *&v63[v31 + 12];
    v43 = 2578 * (v42 - v39);
    v44 = v43 + v40;
    v45 = v37 + v42;
    v46 = v40 - 637 * v37;
    v47 = 7663 * (v41 + v35);
    v48 = v43 - 20239 * v42;
    v49 = 1395 * (v35 - v41);
    v50 = v47 - v49;
    v51 = v47 + v49;
    v52 = v36 + 10438 * v45;
    v53 = v46 + v52;
    v54 = 5027 * (v38 + v35);
    v55 = v50 + v54;
    v56 = v36 - 15083 * v39 + v44;
    v57 = (v34 + a5);
    *v57 = *(v32 + (((v55 + v53) >> 18) & 0x3FF));
    v58 = -11295 * (v38 + v41);
    v59 = v51 + v58;
    v57[6] = *(v32 + (((v53 - v55) >> 18) & 0x3FF));
    v60 = v54 + 15326 * v38 + v58;
    v57[1] = *(v32 + (((v59 + v56) >> 18) & 0x3FF));
    v57[5] = *(v32 + (((v56 - v59) >> 18) & 0x3FF));
    v57[2] = *(v32 + (((v60 + v48 + v52) >> 18) & 0x3FF));
    v57[4] = *(v32 + (((v48 + v52 - v60) >> 18) & 0x3FF));
    v57[3] = *(v32 + (((v36 + 11585 * (v39 - v45)) >> 18) & 0x3FF));
    v31 += 28;
  }

  while (v31 != 196);
  return result;
}

uint64_t sub_1003BCC7C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4, unsigned int a5)
{
  v5 = 0;
  v6 = *(a1 + 408);
  v7 = *(a2 + 88);
  do
  {
    v8 = &v44[4 * v5];
    v9 = (v7 + 4 * v5);
    v10 = (a3 + 2 * v5);
    v11 = ((*v9 * *v10) << 13) | 0x400;
    v12 = v9[32] * v10[32];
    v13 = v11 + 5793 * v12;
    v14 = (v11 - 11586 * v12) >> 11;
    v15 = 10033 * v9[16] * v10[16];
    v16 = v15 + v13;
    v17 = v13 - v15;
    v18 = v9[8] * v10[8];
    v19 = v9[24] * v10[24];
    v20 = v9[40] * v10[40];
    v21 = 2998 * (v18 + v20);
    v22 = v21 + ((v18 + v19) << 13);
    v23 = v21 + ((v20 - v19) << 13);
    LODWORD(v18) = 4 * (v18 - (v19 + v20));
    *v8 = (v22 + v16) >> 11;
    v8[30] = (v16 - v22) >> 11;
    v8[6] = v18 + v14;
    v8[24] = v14 - v18;
    v8[12] = (v23 + v17) >> 11;
    v8[18] = (v17 - v23) >> 11;
    ++v5;
  }

  while (v5 != 6);
  v24 = 0;
  v25 = v6 - 384;
  v26 = a5;
  do
  {
    v27 = *a4++;
    v28 = (v27 + v26);
    v29 = *&v44[v24 + 4];
    v30 = *&v44[v24 + 16];
    v31 = *&v44[v24 + 20];
    v32 = (*&v44[v24] << 13) + 134348800;
    v33 = v32 + 5793 * v30;
    v34 = *&v44[v24 + 12];
    v35 = 10033 * *&v44[v24 + 8];
    v36 = 2998 * (v31 + v29);
    v37 = v31 - v34;
    v38 = v34 + v31;
    v39 = v36 + ((v34 + v29) << 13);
    v40 = v32 - 11586 * v30;
    v41 = (v29 - v38) << 13;
    *v28 = *(v25 + (((v39 + v33 + v35) >> 18) & 0x3FF));
    v42 = v36 + (v37 << 13);
    v28[5] = *(v25 + (((v33 + v35 - v39) >> 18) & 0x3FF));
    v28[1] = *(v25 + (((v41 + v40) >> 18) & 0x3FF));
    v28[4] = *(v25 + (((v40 - v41) >> 18) & 0x3FF));
    v28[2] = *(v25 + (((v42 + v33 - v35) >> 18) & 0x3FF));
    result = *(v25 + (((v33 - v35 - v42) >> 18) & 0x3FF));
    v28[3] = result;
    v24 += 24;
  }

  while (v24 != 144);
  return result;
}

uint64_t sub_1003BCECC(uint64_t a1, uint64_t a2, __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(a2 + 88);
  v6 = ((*v5 * *a3) << 13) | 0x400;
  v7 = v5[16] * a3[16];
  v8 = v5[33];
  v9 = v5[32] * a3[32];
  v10 = v9 + v7;
  v11 = v7 - v9;
  v104 = v10;
  v106 = v6 + 2896 * v11;
  v113 = v6 - 11584 * v11;
  v12 = v5[8] * a3[8];
  v13 = ((v5[1] * a3[1]) << 13) | 0x400;
  v14 = v5[17] * a3[17];
  v15 = v14 + v8 * a3[33];
  v16 = v14 - v8 * a3[33];
  v97 = v13 + 2896 * v16;
  v98 = v15;
  v112 = v13 + 0x7FFFFFFD2C0 * v16;
  v17 = v5[9] * a3[9];
  v18 = v5[25] * a3[25];
  v19 = 6810 * (v17 + v18);
  v95 = v19 + 4209 * v17;
  v107 = v19 - 17828 * v18;
  v20 = ((v5[2] * a3[2]) << 13) | 0x400;
  v21 = v5[18] * a3[18];
  v22 = v5[34];
  v23 = v5[35];
  v24 = v21 + v22 * a3[34];
  v25 = v21 - v22 * a3[34];
  v26 = v20 + 2896 * v25;
  v103 = v20 + 0x7FFFFFFD2C0 * v25;
  v27 = v5[19] * a3[19];
  v28 = v27 + v23 * a3[35];
  v29 = v27 - v23 * a3[35];
  v30 = v5[20] * a3[20];
  v31 = v5[36];
  v32 = v30 + v31 * a3[36];
  v33 = v30 - v31 * a3[36];
  v34 = v5[10] * a3[10];
  v35 = v5[26] * a3[26];
  v36 = 6810 * (v34 + v35);
  v101 = v36 + 4209 * v34;
  v91 = v36 - 17828 * v35;
  v37 = ((v5[3] * a3[3]) << 13) | 0x400;
  v38 = v37 + 2896 * v29;
  v93 = v37 + 0x7FFFFFFD2C0 * v29;
  v39 = v5[11] * a3[11];
  v40 = v5[27] * a3[27];
  v41 = 6810 * (v39 + v40);
  v94 = v41 + 4209 * v39;
  v42 = v41 - 17828 * v40;
  v43 = ((v5[4] * a3[4]) << 13) | 0x400;
  v92 = v43 + 0x7FFFFFFD2C0 * v33;
  v44 = v43 + 2896 * v33;
  v45 = v5[12] * a3[12];
  v46 = v5[28] * a3[28];
  v47 = 6810 * (v45 + v46);
  v48 = v47 - 17828 * v46;
  v49 = v47 + 4209 * v45;
  v102 = v26 + 6476 * v24;
  v50 = (v101 + v102) >> 11;
  v51 = 6476 * v32;
  v99 = v49;
  v100 = v44 + 6476 * v32;
  v52 = (v49 + v100) >> 11;
  LODWORD(v32) = v52 + v50;
  v53 = v50 - v52;
  LODWORD(v35) = 6476 * v104;
  v54 = v5[24] * a3[24];
  v55 = 6810 * (v54 + v12);
  v96 = v55 + 4209 * v12;
  v105 = v106 + 6476 * v104;
  LODWORD(v50) = ((v96 + v105) >> 11 << 13) + 134348800;
  LODWORD(v32) = 6476 * v32;
  v56 = v50 + 2896 * v53;
  LODWORD(v52) = v56 + v32;
  LODWORD(v32) = v56 - v32;
  v57 = (v50 + 268423872 * v53);
  v58 = *(a1 + 408);
  v109 = v97 + 6476 * v98;
  v59 = (v95 + v109) >> 11;
  v60 = v38 + 6476 * v28;
  v61 = (v94 + v60) >> 11;
  result = v58 - 384;
  v63 = (*a4 + a5);
  v64 = 6810 * (v61 + v59);
  LODWORD(v59) = v64 + 4209 * v59;
  *v63 = *(result + (((v59 + v52) >> 18) & 0x3FF));
  LODWORD(v61) = v64 - 17828 * v61;
  v63[4] = *(result + (((v52 - v59) >> 18) & 0x3FF));
  v63[1] = *(result + (((v61 + v32) >> 18) & 0x3FF));
  v63[3] = *(result + (((v32 - v61) >> 18) & 0x3FF));
  v63[2] = *(result + ((v57 >> 18) & 0x3FF));
  LODWORD(v61) = v106 - v35;
  LODWORD(v32) = v55 - 17828 * v54;
  v65 = v97 - 6476 * v98;
  v66 = v26 - 6476 * v24;
  v67 = v38 - 6476 * v28;
  v68 = v44 - v51;
  v69 = (v91 + v66) >> 11;
  v70 = (v48 + v44 - v51) >> 11;
  v71 = v70 + v69;
  LODWORD(v69) = v69 - v70;
  LODWORD(v70) = ((v32 + v106 - v35) >> 11 << 13) + 134348800;
  v71 *= 6476;
  LODWORD(v35) = v70 + 2896 * v69;
  LODWORD(v63) = v35 + v71;
  v72 = v35 - v71;
  v73 = (v70 + 268423872 * v69);
  v74 = (v107 + v65) >> 11;
  v75 = (v42 + v67) >> 11;
  LODWORD(v57) = 6810 * (v75 + v74);
  LODWORD(v74) = v57 + 4209 * v74;
  v76 = (a4[1] + a5);
  *v76 = *(result + (((v74 + v63) >> 18) & 0x3FF));
  LODWORD(v75) = v57 - 17828 * v75;
  v76[4] = *(result + (((v63 - v74) >> 18) & 0x3FF));
  v76[1] = *(result + (((v75 + v72) >> 18) & 0x3FF));
  v76[3] = *(result + (((v72 - v75) >> 18) & 0x3FF));
  v76[2] = *(result + ((v73 >> 18) & 0x3FF));
  LODWORD(v61) = v61 - v32;
  v77 = v66 - v91;
  v78 = v67 - v42;
  LODWORD(v74) = (v113 >> 11 << 13) + 134348800;
  v79 = 6476 * ((v92 >> 11) + (v103 >> 11));
  LODWORD(v73) = (v103 >> 11) - (v92 >> 11);
  LODWORD(v67) = v74 + 2896 * v73;
  LODWORD(v75) = v67 + v79;
  LODWORD(v67) = v67 - v79;
  v80 = (v74 + 268423872 * v73);
  LODWORD(v74) = 6810 * ((v93 >> 11) + (v112 >> 11));
  v81 = v74 + 4209 * (v112 >> 11);
  v82 = (a4[2] + a5);
  *v82 = *(result + (((v81 + v75) >> 18) & 0x3FF));
  LODWORD(v74) = v74 - 17828 * (v93 >> 11);
  v82[4] = *(result + (((v75 - v81) >> 18) & 0x3FF));
  v82[1] = *(result + (((v74 + v67) >> 18) & 0x3FF));
  v83 = (v65 - v107) >> 11;
  v77 >>= 11;
  v78 >>= 11;
  v82[3] = *(result + (((v67 - v74) >> 18) & 0x3FF));
  v84 = (v68 - v48) >> 11;
  v82[2] = *(result + ((v80 >> 18) & 0x3FF));
  LODWORD(v61) = (v61 >> 11 << 13) + 134348800;
  LODWORD(v67) = 6476 * (v84 + v77);
  LODWORD(v77) = v77 - v84;
  LODWORD(v84) = v61 + 2896 * v77;
  LODWORD(v74) = v84 + v67;
  LODWORD(v84) = v84 - v67;
  LODWORD(v67) = 6810 * (v78 + v83);
  LODWORD(v83) = v67 + 4209 * v83;
  v85 = (a4[3] + a5);
  *v85 = *(result + (((v83 + v74) >> 18) & 0x3FF));
  LODWORD(v78) = v67 - 17828 * v78;
  v85[4] = *(result + (((v74 - v83) >> 18) & 0x3FF));
  v85[1] = *(result + (((v78 + v84) >> 18) & 0x3FF));
  v85[3] = *(result + (((v84 - v78) >> 18) & 0x3FF));
  v85[2] = *(result + (((v61 + 268423872 * v77) >> 18) & 0x3FF));
  v86 = (v102 - v101) >> 11;
  v87 = (v100 - v99) >> 11;
  LODWORD(v61) = ((v105 - v96) >> 11 << 13) + 134348800;
  LODWORD(v85) = 6476 * (v87 + v86);
  v88 = (v109 - v95) >> 11;
  v89 = (v60 - v94) >> 11;
  LODWORD(v86) = v86 - v87;
  LODWORD(v87) = 6810 * (v89 + v88);
  LODWORD(v88) = v87 + 4209 * v88;
  LODWORD(v74) = v61 + 2896 * v86;
  LODWORD(v89) = v87 - 17828 * v89;
  v90 = (a4[4] + a5);
  *v90 = *(result + (((v88 + v74 + v85) >> 18) & 0x3FF));
  v90[4] = *(result + (((v74 + v85 - v88) >> 18) & 0x3FF));
  v90[1] = *(result + (((v89 + v74 - v85) >> 18) & 0x3FF));
  v90[3] = *(result + (((v74 - v85 - v89) >> 18) & 0x3FF));
  v90[2] = *(result + (((v61 + 268423872 * v86) >> 18) & 0x3FF));
  return result;
}

uint64_t sub_1003BD59C(uint64_t a1, uint64_t a2, __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(a1 + 408);
  v6 = *(a2 + 88);
  v7 = *v6 * *a3;
  v8 = v6[16] * a3[16];
  v9 = 4 * (v8 + v7);
  v10 = 4 * (v7 - v8);
  v11 = v6[8] * a3[8];
  v12 = v6[24] * a3[24];
  v13 = 4433 * (v11 + v12) + 1024;
  v14 = (v13 + 6270 * v11) >> 11;
  v15 = (v13 - 15137 * v12) >> 11;
  LODWORD(v11) = v9 - v14;
  v16 = v6[1] * a3[1];
  v17 = v6[17] * a3[17];
  LODWORD(v13) = 4 * (v17 + v16);
  v18 = 4 * (v16 - v17);
  v19 = v6[9] * a3[9];
  v20 = v6[25] * a3[25];
  v21 = 4433 * (v19 + v20) + 1024;
  v22 = (v21 + 6270 * v19) >> 11;
  v23 = (v21 - 15137 * v20) >> 11;
  v24 = v22 + v13;
  LODWORD(v22) = v13 - v22;
  LODWORD(v21) = v23 + v18;
  v25 = v18 - v23;
  v26 = v6[3];
  LODWORD(v13) = v6[2] * a3[2];
  v27 = v6[19];
  LODWORD(v23) = v6[18] * a3[18];
  v28 = v23 + v13;
  LODWORD(v23) = v13 - v23;
  v29 = v6[11];
  v30 = v6[10] * a3[10];
  v31 = v6[27];
  v32 = v6[26] * a3[26];
  LODWORD(v13) = v10 - v15;
  v28 *= 4;
  LODWORD(v23) = 4 * v23;
  v33 = 4433 * (v30 + v32) + 1024;
  v34 = (v33 + 6270 * v30) >> 11;
  v35 = (v33 - 15137 * v32) >> 11;
  v36 = v34 + v28;
  LODWORD(v32) = v28 - v34;
  v37 = v35 + v23;
  LODWORD(v23) = v23 - v35;
  v38 = v26 * a3[3];
  v39 = v27 * a3[19];
  LODWORD(v34) = 4 * (v39 + v38);
  v40 = 4 * (v38 - v39);
  v41 = v29 * a3[11];
  v42 = v31 * a3[27];
  v43 = 4433 * (v41 + v42) + 1024;
  v44 = (v43 + 6270 * v41) >> 11;
  v45 = (v43 - 15137 * v42) >> 11;
  LODWORD(v41) = v44 + v34;
  LODWORD(v43) = v34 - v44;
  v5 -= 384;
  v46 = (*a4 + a5);
  v47 = v14 + v9 + 16400;
  LODWORD(v14) = (v47 + v36) << 13;
  LODWORD(v42) = (v47 - v36) << 13;
  LODWORD(v35) = 4433 * (v41 + v24);
  v48 = v35 + 6270 * v24;
  *v46 = *(v5 + (((v48 + v14) >> 18) & 0x3FF));
  LOBYTE(v14) = *(v5 + (((v14 - v48) >> 18) & 0x3FF));
  v49 = v35 - 15137 * v41;
  v46[3] = v14;
  LODWORD(v41) = v45 + v40;
  v46[1] = *(v5 + (((v49 + v42) >> 18) & 0x3FF));
  LODWORD(v45) = v40 - v45;
  v46[2] = *(v5 + (((v42 - v49) >> 18) & 0x3FF));
  v50 = (a4[1] + a5);
  v51 = v15 + v10 + 16400;
  LODWORD(v15) = (v51 + v37) << 13;
  v52 = (v51 - v37) << 13;
  v53 = 4433 * (v41 + v21);
  LODWORD(v21) = v53 + 6270 * v21;
  v54 = v53 - 15137 * v41;
  *v50 = *(v5 + (((v21 + v15) >> 18) & 0x3FF));
  v50[3] = *(v5 + (((v15 - v21) >> 18) & 0x3FF));
  v50[1] = *(v5 + (((v54 + v52) >> 18) & 0x3FF));
  v50[2] = *(v5 + (((v52 - v54) >> 18) & 0x3FF));
  v55 = (a4[2] + a5);
  result = ((v13 + 16400 + v23) << 13);
  LODWORD(v15) = (v13 + 16400 - v23) << 13;
  LODWORD(v50) = 4433 * (v45 + v25);
  v57 = v50 + 6270 * v25;
  LODWORD(v50) = v50 - 15137 * v45;
  *v55 = *(v5 + (((v57 + result) >> 18) & 0x3FF));
  v55[3] = *(v5 + (((result - v57) >> 18) & 0x3FF));
  v55[1] = *(v5 + (((v50 + v15) >> 18) & 0x3FF));
  v55[2] = *(v5 + (((v15 - v50) >> 18) & 0x3FF));
  v58 = (a4[3] + a5);
  LODWORD(v11) = v11 + 16400;
  v59 = (v11 + v32) << 13;
  v60 = 4433 * (v43 + v22) + 6270 * v22;
  LODWORD(v11) = (v11 - v32) << 13;
  *v58 = *(v5 + (((v60 + v59) >> 18) & 0x3FF));
  v61 = 4433 * (v43 + v22) - 15137 * v43;
  v58[3] = *(v5 + (((v59 - v60) >> 18) & 0x3FF));
  v58[1] = *(v5 + (((v61 + v11) >> 18) & 0x3FF));
  v58[2] = *(v5 + (((v11 - v61) >> 18) & 0x3FF));
  return result;
}

uint64_t sub_1003BD920(uint64_t a1, uint64_t a2, __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(a1 + 408);
  v6 = *(a2 + 88);
  v7 = ((*v6 * *a3) << 13) | 0x400;
  v8 = v6[16] * a3[16];
  v9 = v7 + 5793 * v8;
  v10 = v7 - 11586 * v8;
  v11 = 10033 * v6[8] * a3[8];
  v12 = v11 + v9;
  v13 = v9 - v11;
  v14 = ((v6[1] * a3[1]) << 13) | 0x400;
  v15 = v6[17] * a3[17];
  v16 = v14 + 5793 * v15;
  v17 = v14 + 0x7FFFFFFD2BELL * v15;
  v18 = 10033 * v6[9] * a3[9];
  v19 = (v18 + v16) >> 11;
  v20 = (v16 - v18) >> 11;
  v21 = ((v6[2] * a3[2]) << 13) | 0x400;
  v22 = v6[18] * a3[18];
  v23 = v21 + 5793 * v22;
  v24 = v21 + 0x7FFFFFFD2BELL * v22;
  v25 = 10033 * v6[10] * a3[10];
  v26 = (v25 + v23) >> 11;
  v27 = (v23 - v25) >> 11;
  v28 = v24 >> 11;
  v5 -= 384;
  v29 = a5;
  v30 = (*a4 + a5);
  v31 = (v12 >> 11 << 13) + 134348800;
  LODWORD(v23) = v31 + 5793 * v26;
  LODWORD(v19) = 10033 * v19;
  *v30 = *(v5 + (((v23 + v19) >> 18) & 0x3FF));
  v30[2] = *(v5 + (((v23 - v19) >> 18) & 0x3FF));
  v30[1] = *(v5 + (((v31 + 268423870 * v26) >> 18) & 0x3FF));
  v32 = (a4[1] + v29);
  v33 = (v10 >> 11 << 13) + 134348800;
  LODWORD(v19) = v33 + 5793 * v28;
  v34 = (v33 + 268423870 * v28);
  LODWORD(v17) = 10033 * (v17 >> 11);
  result = *(v5 + (((v19 + v17) >> 18) & 0x3FF));
  *v32 = result;
  v32[2] = *(v5 + (((v19 - v17) >> 18) & 0x3FF));
  v32[1] = *(v5 + ((v34 >> 18) & 0x3FF));
  v36 = (v13 >> 11 << 13) + 134348800;
  v37 = v36 + 5793 * v27;
  v38 = (a4[2] + v29);
  *v38 = *(v5 + (((v37 + 10033 * v20) >> 18) & 0x3FF));
  v38[2] = *(v5 + (((v37 - 10033 * v20) >> 18) & 0x3FF));
  v38[1] = *(v5 + (((v36 + 268423870 * v27) >> 18) & 0x3FF));
  return result;
}

uint64_t sub_1003BDAFC(uint64_t result, uint64_t a2, unsigned __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(result + 408) - 384;
  v6 = *(a2 + 88);
  v7 = *v6 * *a3 + 4100;
  v8 = v6[8] * a3[8];
  v9 = v8 + v7;
  v10 = v7 - v8;
  v11 = v6[1] * a3[1];
  LODWORD(v6) = v6[9] * a3[9];
  v12 = v6 + v11;
  LODWORD(v6) = v11 - v6;
  v13 = (*a4 + a5);
  *v13 = *(v5 + (((v12 + v9) >> 3) & 0x3FF));
  v13[1] = *(v5 + (((v9 - v12) >> 3) & 0x3FF));
  v14 = (a4[1] + a5);
  *v14 = *(v5 + (((v6 + v10) >> 3) & 0x3FF));
  v14[1] = *(v5 + (((v10 - v6) >> 3) & 0x3FF));
  return result;
}

uint64_t sub_1003BDBD0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v6 = *(a1 + 408);
  v7 = *(a2 + 88);
  do
  {
    v8 = (v7 + 4 * v5);
    v9 = (a3 + 2 * v5);
    v10 = v8[16] * v9[16];
    v11 = ((*v8 * *v9) << 13) | 0x400;
    v12 = v8[32];
    v13 = v8[48] * v9[48];
    v14 = v11 + 5793 * v13;
    v15 = v11 - 11586 * v13;
    v16 = v8[8] * v9[8];
    v17 = v8[40] * v9[40];
    v18 = v16 + v17;
    v19 = v16 - v17;
    v20 = v8[56];
    v21 = v16 + v20 * v9[56];
    v22 = v17 - v20 * v9[56];
    v23 = v19 - v20 * v9[56];
    v24 = v10 - v12 * v9[32];
    v25 = v15 + 5793 * v24;
    v26 = v15 + 0x7FFFFFFD2BELL * v24;
    v27 = v12 * v9[32];
    v28 = 10887 * (v10 + v27);
    v10 *= 8875;
    v27 *= 2012;
    v29 = v28 - v27 + v14;
    v30 = v14 - v28 + v10;
    v31 = v14 - v10 + v27;
    v32 = -10033 * v8[24] * v9[24];
    v22 *= 11409;
    v18 *= 7447;
    v33 = v32 - v22 + v18;
    v34 = &v70[v5];
    v35 = v18 - v32 + 3962 * v21;
    v36 = v22 + v32 + 3962 * v21;
    *v34 = (v35 + v29) >> 11;
    v23 *= 10033;
    v34[64] = (v29 - v35) >> 11;
    v34[8] = (v23 + v25) >> 11;
    v34[56] = (v25 - v23) >> 11;
    v34[16] = (v33 + v30) >> 11;
    v34[48] = (v30 - v33) >> 11;
    v34[24] = (v36 + v31) >> 11;
    v34[40] = (v31 - v36) >> 11;
    v34[32] = v26 >> 11;
    ++v5;
  }

  while (v5 != 8);
  v37 = 0;
  v38 = v6 - 384;
  result = 4294957263;
  do
  {
    v40 = &v70[v37];
    v41 = v40[1];
    v42 = v40[6];
    v43 = v40[7];
    v44 = (*v40 << 13) + 134348800;
    v45 = v44 + 5793 * v42;
    v46 = v40[2];
    v47 = v40[3];
    v48 = v40[4];
    v49 = v40[5];
    LODWORD(v40) = v44 - 11586 * v42;
    v50 = v46 - v48;
    v51 = v40 + 5793 * (v46 - v48);
    v52 = 10887 * (v48 + v46);
    v46 *= 8875;
    v53 = (v40 + 268423870 * v50);
    v54 = 2012 * v48;
    v55 = v52 - 2012 * v48 + v45;
    v56 = v45 - v52;
    v57 = v45 - v46;
    v58 = v56 + v46;
    v47 *= -10033;
    v59 = 7447 * (v49 + v41);
    v60 = 3962 * (v43 + v41);
    v61 = v57 + v54;
    v62 = v59 - v47 + v60;
    v63 = v49 - v43;
    v64 = v41 - (v49 + v43);
    v65 = (*(a4 + v37) + a5);
    *v65 = *(v38 + (((v62 + v55) >> 18) & 0x3FF));
    v64 *= 10033;
    v65[8] = *(v38 + (((v55 - v62) >> 18) & 0x3FF));
    v65[1] = *(v38 + (((v64 + v51) >> 18) & 0x3FF));
    v63 *= 11409;
    LOBYTE(v64) = *(v38 + (((v51 - v64) >> 18) & 0x3FF));
    v66 = v47 - v63 + v59;
    v65[7] = v64;
    v65[2] = *(v38 + (((v66 + v58) >> 18) & 0x3FF));
    v67 = v63 + v47 + v60;
    v65[6] = *(v38 + (((v58 - v66) >> 18) & 0x3FF));
    v65[3] = *(v38 + (((v67 + v61) >> 18) & 0x3FF));
    v65[5] = *(v38 + (((v61 - v67) >> 18) & 0x3FF));
    v65[4] = *(v38 + ((v53 >> 18) & 0x3FF));
    v37 += 8;
  }

  while (v37 != 72);
  return result;
}

uint64_t sub_1003BDF70(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v67 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = ((*v7 * *v8) << 13) | 0x400;
    v10 = v7[32] * v8[32];
    v11 = v9 + 9373 * v10;
    v12 = v9 - 3580 * v10;
    v13 = v9 - 11586 * v10;
    v14 = v7[16] * v8[16];
    v15 = v7[48] * v8[48];
    v16 = 6810 * (v14 + v15);
    v17 = v16 + 4209 * v14;
    v18 = v16 - 17828 * v15;
    v19 = v17 + v11;
    v20 = v11 - v17;
    v21 = v18 + v12;
    v22 = v12 - v18;
    v23 = v7[8] * v8[8];
    v24 = v7[24] * v8[24];
    v25 = v7[40] * v8[40];
    LODWORD(v8) = v8[56];
    LODWORD(v7) = v7[56];
    v26 = v24 + v7 * v8;
    v27 = v24 - v7 * v8;
    v28 = (v25 << 13) + 2531 * v27;
    v29 = 7791 * v26 + 11443 * v23 + v28;
    v30 = 1812 * v23 - 7791 * v26 + v28;
    v31 = (v25 << 13) - 6627 * v27;
    LODWORD(v27) = v23 - v25 - v27;
    v32 = 10323 * v23 - (4815 * v26 + v31);
    v33 = &v69[v5];
    v34 = 5260 * v23 - 4815 * v26 + v31;
    *v33 = (v29 + v19) >> 11;
    v33[72] = (v19 - v29) >> 11;
    v33[8] = (v32 + v21) >> 11;
    LODWORD(v27) = 4 * v27;
    v33[64] = (v21 - v32) >> 11;
    v33[16] = v27 + (v13 >> 11);
    v33[56] = (v13 >> 11) - v27;
    v33[24] = (v34 + v22) >> 11;
    v33[48] = (v22 - v34) >> 11;
    v33[32] = (v30 + v20) >> 11;
    v33[40] = (v20 - v30) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v35 = 0;
  v36 = v67 - 384;
  result = 2531;
  do
  {
    v38 = &v69[v35];
    v39 = (*(a4 + v35) + a5);
    v40 = v38[1];
    v41 = (*v38 << 13) + 134348800;
    v42 = v38[4];
    v43 = v38[5];
    v44 = v41 + 9373 * v42;
    v45 = v41 - 3580 * v42;
    v46 = v41 - 11586 * v42;
    v48 = v38[2];
    v47 = v38[3];
    v50 = v38[6];
    v49 = v38[7];
    LODWORD(v38) = 6810 * (v50 + v48);
    v51 = v38 + 4209 * v48;
    v52 = v38 - 17828 * v50;
    v53 = v51 + v44;
    LODWORD(v38) = v44 - v51;
    v54 = v52 + v45;
    v55 = v49 + v47;
    v56 = v45 - v52;
    v57 = v47 - v49;
    v58 = (v43 << 13) + 2531 * v57;
    v59 = (v43 << 13) - 6627 * v57;
    v60 = v40 - v43 - v57;
    v61 = a4;
    v62 = 7791 * v55 + 11443 * v40 + v58;
    v63 = 1812 * v40 - 7791 * v55 + v58;
    *v39 = *(v36 + (((v62 + v53) >> 18) & 0x3FF));
    v64 = (v53 - v62);
    a4 = v61;
    v65 = 10323 * v40 - (4815 * v55 + v59);
    v39[9] = *(v36 + ((v64 >> 18) & 0x3FF));
    v39[1] = *(v36 + (((v65 + v54) >> 18) & 0x3FF));
    v60 <<= 13;
    v39[8] = *(v36 + (((v54 - v65) >> 18) & 0x3FF));
    v39[2] = *(v36 + (((v60 + v46) >> 18) & 0x3FF));
    v66 = 5260 * v40 - 4815 * v55 + v59;
    v39[7] = *(v36 + (((v46 - v60) >> 18) & 0x3FF));
    v39[3] = *(v36 + (((v66 + v56) >> 18) & 0x3FF));
    v39[6] = *(v36 + (((v56 - v66) >> 18) & 0x3FF));
    v39[4] = *(v36 + (((v63 + v38) >> 18) & 0x3FF));
    v39[5] = *(v36 + (((v38 - v63) >> 18) & 0x3FF));
    v35 += 8;
  }

  while (v35 != 80);
  return result;
}

uint64_t sub_1003BE350(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v78 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = *v7 * *v8;
    v10 = v7[16] * v8[16];
    v11 = v7[32] * v8[32];
    v12 = v7[48] * v8[48];
    v13 = v7[8] * v8[8];
    v14 = v7[24] * v8[24];
    v15 = v7[40] * v8[40];
    v16 = v7[56] * v8[56];
    v17 = v10 + v12 - v11;
    v18 = v13 + v16;
    v19 = 3264 * (v13 + v14 + v15 + v16);
    v20 = 7274 * (v13 + v14);
    v21 = 5492 * (v13 + v15);
    v22 = v20 - 7562 * v13 + v21;
    v23 = v19 - 9527 * (v14 + v15);
    v24 = v21 - 9766 * v15 + v23;
    v25 = v20 + 16984 * v14 - 14731 * (v14 + v16) + v23;
    v26 = v19 + 3000 * v18;
    v27 = v22 + v26;
    v28 = -14731 * (v14 + v16) + 17223 * v16 + v26;
    v29 = &v81[v5];
    v30 = (v9 << 13) | 0x400;
    v31 = v30 + 11116 * v17;
    v32 = 20862 * (v11 - v12);
    v33 = v31 + 3529 * (v11 - v10);
    v34 = -12019 * v14 + 8203 * v15 - 13802 * v16;
    v35 = v31 + v32;
    v36 = v34 + v19;
    v37 = v33 - 14924 * v11 + v32;
    v38 = v35 + 17333 * v12;
    *v29 = (v27 + v38) >> 11;
    v29[80] = (v38 - v27) >> 11;
    v39 = v31 - 9467 * (v10 + v12);
    v29[8] = (v25 + v37) >> 11;
    v40 = -11395 * v10 + 15929 * v11 + v39;
    v41 = v39 - 6461 * v12;
    v29[16] = (v24 + v41) >> 11;
    v29[64] = (v41 - v24) >> 11;
    v29[72] = (v37 - v25) >> 11;
    v42 = v33 - 12399 * v10;
    v29[24] = (v28 + v42) >> 11;
    v29[56] = (v42 - v28) >> 11;
    v29[32] = (v36 + v40) >> 11;
    v29[48] = (v40 - v36) >> 11;
    v29[40] = (v30 + 0x7FFFFFFD2BFLL * v17) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v43 = 0;
  v44 = v78 - 384;
  do
  {
    v45 = &v81[v43];
    v46 = v45[1];
    v47 = (*(a4 + v43) + a5);
    v48 = (*v45 << 13) + 134348800;
    v50 = v45[4];
    v49 = v45[5];
    v51 = v45[6];
    v52 = v45[7];
    v53 = 20862 * (v50 - v51);
    v54 = v45[2];
    v55 = v45[3];
    v56 = v51 + v54 - v50;
    v57 = v48 + 11116 * v56;
    LODWORD(v45) = v57 + 3529 * (v50 - v54);
    v58 = v45 - 14924 * v50;
    v59 = v57 + v53 + 17333 * v51;
    v60 = v45 - 12399 * v54;
    v61 = v57 - 9467 * (v51 + v54);
    v62 = -11395 * v54 + 15929 * v50;
    v63 = (v48 + 268423871 * v56);
    v64 = v61 - 6461 * v51;
    v65 = 3264 * (v55 + v46 + v49 + v52);
    v66 = 7274 * (v55 + v46);
    v67 = v62 + v61;
    v68 = 5492 * (v49 + v46);
    v69 = v65 + 3000 * (v52 + v46);
    v70 = v58 + v53;
    v71 = v66 - 7562 * v46 + v68 + v69;
    *v47 = *(v44 + (((v71 + v59) >> 18) & 0x3FF));
    v72 = v65 - 9527 * (v49 + v55);
    v73 = v68 - 9766 * v49 + v72;
    v74 = v66 + 16984 * v55 - 14731 * (v52 + v55) + v72;
    v47[10] = *(v44 + (((v59 - v71) >> 18) & 0x3FF));
    v47[1] = *(v44 + (((v74 + v70) >> 18) & 0x3FF));
    LOBYTE(v71) = *(v44 + (((v70 - v74) >> 18) & 0x3FF));
    v75 = -14731 * (v52 + v55) + 17223 * v52 + v69;
    v47[9] = v71;
    v47[2] = *(v44 + (((v73 + v64) >> 18) & 0x3FF));
    result = *(v44 + (((v64 - v73) >> 18) & 0x3FF));
    v47[8] = result;
    v47[3] = *(v44 + (((v75 + v60) >> 18) & 0x3FF));
    v77 = -12019 * v55 + 8203 * v49 - 13802 * v52 + v65;
    v47[7] = *(v44 + (((v60 - v75) >> 18) & 0x3FF));
    v47[4] = *(v44 + (((v77 + v67) >> 18) & 0x3FF));
    v47[6] = *(v44 + (((v67 - v77) >> 18) & 0x3FF));
    v47[5] = *(v44 + ((v63 >> 18) & 0x3FF));
    v43 += 8;
  }

  while (v43 != 88);
  return result;
}

uint64_t sub_1003BE80C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v81 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = ((*v7 * *v8) << 13) | 0x400;
    v10 = 10033 * v7[32] * v8[32];
    v11 = v10 + v9;
    v12 = v9 - v10;
    v13 = v7[16] * v8[16];
    v14 = v7[48];
    v15 = (v14 * v8[48]) << 13;
    v16 = (v13 - v14 * v8[48]) << 13;
    v17 = v16 + v9;
    v18 = v9 - v16;
    v19 = v15 + 11190 * v13;
    v20 = v19 + v11;
    v21 = v11 - v19;
    v22 = 2998 * v13 - v15;
    v23 = v22 + v12;
    v24 = v12 - v22;
    v25 = v7[8] * v8[8];
    v26 = v7[24] * v8[24];
    v27 = v7[40] * v8[40];
    LODWORD(v8) = v8[56];
    LODWORD(v7) = v7[56];
    v28 = 10703 * v26;
    v29 = -4433 * v26;
    v30 = 7053 * (v25 + v27 + v7 * v8);
    v31 = v30 + 2139 * (v25 + v27);
    v32 = v26 - v27;
    v33 = v28 + 2295 * v25 + v31;
    v34 = -8565 * (v27 + v7 * v8);
    v35 = v29 - 12112 * v27 - 8565 * (v27 + v7 * v8) + v31;
    v36 = v7 * v8;
    v37 = 12998 * v36 - v28 + v34;
    v38 = v25 - v36;
    v39 = &v84[v5];
    v40 = v37 + v30;
    v41 = v29 - 5540 * v25 - 16244 * v36 + v30;
    v42 = 4433 * (v38 + v32);
    v43 = v42 + 6270 * v38;
    v44 = v42 - 15137 * v32;
    *v39 = (v33 + v20) >> 11;
    v39[88] = (v20 - v33) >> 11;
    v39[8] = (v43 + v17) >> 11;
    v39[80] = (v17 - v43) >> 11;
    v39[16] = (v35 + v23) >> 11;
    v39[72] = (v23 - v35) >> 11;
    v39[24] = (v40 + v24) >> 11;
    v39[64] = (v24 - v40) >> 11;
    v39[32] = (v44 + v18) >> 11;
    v39[56] = (v18 - v44) >> 11;
    v39[40] = (v41 + v21) >> 11;
    v39[48] = (v21 - v41) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v45 = 0;
  v46 = v81 - 384;
  do
  {
    v47 = &v84[v45];
    v48 = v47[1];
    v49 = (*v47 << 13) + 134348800;
    v50 = v47[5];
    v51 = 10033 * v47[4];
    v52 = v49 + v51;
    v54 = v47[2];
    v53 = v47[3];
    v56 = v47[6];
    v55 = v47[7];
    v57 = v49 - v51;
    LODWORD(v47) = (v54 - v56) << 13;
    v58 = v47 + v49;
    v59 = v49 - v47;
    v60 = (v56 << 13) + 11190 * v54;
    v61 = v60 + v52;
    v62 = v52 - v60;
    v63 = -8192 * v56 + 2998 * v54;
    v64 = 10703 * v53;
    v65 = -4433 * v53;
    LODWORD(v47) = v63 + v57;
    v66 = 7053 * (v50 + v48 + v55);
    v67 = v66 + 2139 * (v50 + v48);
    v68 = v57 - v63;
    v69 = 10703 * v53 + 2295 * v48 + v67;
    result = (-8565 * (v55 + v50));
    v71 = -4433 * v53 - 12112 * v50 - 8565 * (v55 + v50) + v67;
    v72 = v53 - v50;
    v73 = (*(a4 + v45) + a5);
    *v73 = *(v46 + (((v69 + v61) >> 18) & 0x3FF));
    v74 = (v61 - v69);
    v75 = 4433 * (v48 - v55 + v72);
    v76 = v75 + 6270 * (v48 - v55);
    v73[11] = *(v46 + ((v74 >> 18) & 0x3FF));
    v77 = (v76 + v58);
    v78 = (v58 - v76);
    v73[1] = *(v46 + ((v77 >> 18) & 0x3FF));
    v79 = 12998 * v55 - v64 + v66 + result;
    v73[10] = *(v46 + ((v78 >> 18) & 0x3FF));
    v73[2] = *(v46 + (((v71 + v47) >> 18) & 0x3FF));
    v73[9] = *(v46 + (((v47 - v71) >> 18) & 0x3FF));
    v80 = v65 - 5540 * v48 - 16244 * v55 + v66;
    v73[3] = *(v46 + (((v79 + v68) >> 18) & 0x3FF));
    LODWORD(v78) = v75 - 15137 * v72;
    v73[8] = *(v46 + (((v68 - v79) >> 18) & 0x3FF));
    v73[4] = *(v46 + (((v78 + v59) >> 18) & 0x3FF));
    v73[7] = *(v46 + (((v59 - v78) >> 18) & 0x3FF));
    v73[5] = *(v46 + (((v80 + v62) >> 18) & 0x3FF));
    v73[6] = *(v46 + (((v62 - v80) >> 18) & 0x3FF));
    v45 += 8;
  }

  while (v45 != 96);
  return result;
}

uint64_t sub_1003BEC84(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v90 = *(a1 + 408);
  v93 = *(a2 + 88);
  do
  {
    v6 = (v93 + 4 * v5);
    v7 = (a3 + 2 * v5);
    v8 = v7[16];
    v9 = v6[16];
    v10 = v9 * v7[16];
    v11 = v6[32] * v7[32];
    v12 = v6[48];
    v13 = v11 + v12 * v7[48];
    v14 = ((*v6 * *v7) << 13) | 0x400;
    v15 = v11 - v12 * v7[48];
    v16 = v14 + 793 * v15;
    v17 = 9465 * v13 + 11249 * v10;
    v18 = 2592 * v13 - 10258 * v10;
    v19 = 3570 * v13 - 6581 * v10;
    v20 = -9465 * v13 + 4108 * v10;
    v21 = v6[8] * v7[8];
    v22 = -2592 * v13 + 8672 * v10;
    v23 = v6[24] * v7[24];
    v24 = v7[40];
    v25 = v6[40];
    LODWORD(v7) = v7[56];
    v26 = v6[56];
    v27 = -3570 * v13 - 1396 * v10;
    v28 = 10832 * (v21 + v23);
    v29 = 9534 * (v21 + v25 * v24);
    v30 = v21 + v26 * v7;
    v31 = v17 + v16;
    v32 = v28 - 16549 * v21 + v29 + 7682 * v30;
    v33 = v25 * v24;
    v34 = v20 + v16;
    v35 = -2773 * (v23 + v33);
    v36 = -9534 * (v23 + v26 * v7);
    v37 = v28 + 6859 * v23 + v35 - 9534 * (v23 + v26 * v7);
    v38 = v26 * v7;
    v39 = v14 + 3989 * v15;
    v40 = v18 + v39;
    v41 = v22 + v39;
    v42 = v35 - 12879 * v33 + v29 - 5384 * (v33 + v38);
    v43 = v36 + 18068 * v38 + 7682 * v30 - 5384 * (v33 + v38);
    v44 = &v95[v5];
    v45 = v14 - 7678 * v15;
    v46 = v19 + v45;
    v47 = v27 + v45;
    *v44 = (v32 + v31) >> 11;
    v44[96] = (v31 - v32) >> 11;
    v44[8] = (v37 + v41) >> 11;
    v44[88] = (v41 - v37) >> 11;
    v44[16] = (v42 + v34) >> 11;
    v48 = v34 - v42;
    v49 = 7682 * (v33 - v23) + 2773 * v30;
    v44[80] = v48 >> 11;
    v44[24] = (v43 + v47) >> 11;
    v44[72] = (v47 - v43) >> 11;
    v50 = v49 + 2611 * v21 - 3818 * v23;
    v44[32] = (v50 + v46) >> 11;
    v44[64] = (v46 - v50) >> 11;
    v51 = v49 + 3150 * v33 - 14273 * v38;
    v44[40] = (v51 + v40) >> 11;
    v44[56] = (v40 - v51) >> 11;
    v44[48] = (v14 + 11585 * (v15 - v9 * v8)) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v52 = 0;
  v53 = v90 - 384;
  do
  {
    v54 = &v95[v52];
    v55 = v54[1];
    v56 = v54[4];
    v57 = v54[5];
    v58 = (*v54 << 13) + 134348800;
    v59 = v54[6];
    v60 = v54[7];
    v61 = v59 + v56;
    v62 = v56 - v59;
    v63 = v58 + 793 * v62;
    v65 = v54[2];
    v64 = v54[3];
    v66 = -9465 * v61 + 4108 * v65;
    v67 = 9465 * v61 + 11249 * v65 + v63;
    v68 = v58 + 3989 * v62;
    v69 = -2592 * v61 + 8672 * v65;
    LODWORD(v54) = 2592 * v61 - 10258 * v65;
    v61 *= 3570;
    LODWORD(v54) = v54 + v68;
    v70 = v58 - 7678 * v62;
    v71 = -v61 - 1396 * v65;
    v72 = v61 - 6581 * v65 + v70;
    v73 = v66 + v63;
    v74 = (v58 + 11585 * (v62 - v65));
    v75 = 10832 * (v64 + v55);
    v76 = v69 + v68;
    v77 = 9534 * (v57 + v55);
    v78 = 7682 * (v60 + v55);
    v79 = v71 + v70;
    v80 = v75 - 16549 * v55 + v77 + v78;
    v81 = -2773 * (v57 + v64);
    v82 = v75 + 6859 * v64 + v81 - 9534 * (v60 + v64);
    v83 = v81 - 12879 * v57 + v77 - 5384 * (v60 + v57);
    v84 = (*(a4 + v52) + a5);
    *v84 = *(v53 + (((v80 + v67) >> 18) & 0x3FF));
    v84[12] = *(v53 + (((v67 - v80) >> 18) & 0x3FF));
    v85 = -9534 * (v60 + v64) + 18068 * v60 + v78 - 5384 * (v60 + v57);
    v84[1] = *(v53 + (((v82 + v76) >> 18) & 0x3FF));
    v84[11] = *(v53 + (((v76 - v82) >> 18) & 0x3FF));
    v84[2] = *(v53 + (((v83 + v73) >> 18) & 0x3FF));
    v86 = 7682 * (v57 - v64) + 2773 * (v60 + v55);
    v84[10] = *(v53 + (((v73 - v83) >> 18) & 0x3FF));
    v84[3] = *(v53 + (((v85 + v79) >> 18) & 0x3FF));
    v87 = v86 + 2611 * v55 - 3818 * v64;
    v84[9] = *(v53 + (((v79 - v85) >> 18) & 0x3FF));
    v84[4] = *(v53 + (((v87 + v72) >> 18) & 0x3FF));
    result = *(v53 + (((v72 - v87) >> 18) & 0x3FF));
    v89 = v86 + 3150 * v57 - 14273 * v60;
    v84[8] = result;
    v84[5] = *(v53 + (((v89 + v54) >> 18) & 0x3FF));
    v84[7] = *(v53 + (((v54 - v89) >> 18) & 0x3FF));
    v84[6] = *(v53 + ((v74 >> 18) & 0x3FF));
    v52 += 8;
  }

  while (v52 != 104);
  return result;
}

uint64_t sub_1003BF1F0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v84 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = v7[32] * v8[32];
    v10 = ((*v7 * *v8) << 13) | 0x400;
    v11 = v10 + 10438 * v9;
    v12 = v10 + 2578 * v9;
    v13 = v10 - 7223 * v9;
    v14 = v7[16] * v8[16];
    v15 = v7[48] * v8[48];
    v16 = 9058 * (v14 + v15);
    v17 = v16 + 2237 * v14;
    v18 = v16 - 14084 * v15;
    v19 = 5027 * v14 - 11295 * v15;
    v20 = v17 + v11;
    v21 = v11 - v17;
    v22 = v18 + v12;
    v23 = v12 - v18;
    v24 = v19 + v13;
    v25 = v13 - v19;
    v26 = v7[8] * v8[8];
    v27 = v7[24] * v8[24];
    v28 = v7[40] * v8[40];
    v29 = v7[56] * v8[56];
    v30 = 10935 * (v26 + v27);
    v31 = 9810 * (v26 + v28);
    v32 = v30 - 9232 * v26 + v31 + (v29 << 13);
    v33 = -8192 * v29 - 1297 * (v27 + v28);
    v34 = v30 - 3474 * v27 + v33;
    v35 = v31 - 19447 * v28 + v33;
    v36 = 6164 * (v26 + v28);
    v37 = 11512 * (v28 - v27);
    v38 = v37 - 13850 * v28 + v36 + (v29 << 13);
    LODWORD(v18) = v26 - v27;
    v39 = -8192 * v29 + 3826 * (v26 - v27);
    v40 = v36 - 8693 * v26 + v39;
    v41 = v37 + 5529 * v27 + v39;
    v42 = &v87[v5];
    *v42 = (v32 + v20) >> 11;
    v42[104] = (v20 - v32) >> 11;
    v42[8] = (v34 + v22) >> 11;
    v42[96] = (v22 - v34) >> 11;
    v42[16] = (v35 + v24) >> 11;
    v43 = (v10 - 11586 * v9) >> 11;
    LODWORD(v20) = 4 * (v18 - v28 + v29);
    v42[88] = (v24 - v35) >> 11;
    v42[24] = v20 + v43;
    v42[80] = v43 - v20;
    v42[32] = (v38 + v25) >> 11;
    v42[72] = (v25 - v38) >> 11;
    v42[40] = (v41 + v23) >> 11;
    v42[64] = (v23 - v41) >> 11;
    v42[48] = (v40 + v21) >> 11;
    v42[56] = (v21 - v40) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v44 = 0;
  v45 = v84 - 384;
  do
  {
    v46 = &v87[v44];
    v47 = v46[1];
    v48 = (*v46 << 13) + 134348800;
    v49 = v46[4];
    v50 = v46[5];
    v51 = v48 + 10438 * v49;
    v52 = v48 + 2578 * v49;
    v53 = v48 - 7223 * v49;
    v54 = v46[2];
    v55 = v46[3];
    v57 = v46[6];
    v56 = v46[7];
    v58 = v48 - 11586 * v49;
    LODWORD(v46) = 9058 * (v57 + v54);
    v59 = v46 + 2237 * v54;
    LODWORD(v46) = v46 - 14084 * v57;
    v60 = 5027 * v54 - 11295 * v57;
    v61 = v59 + v51;
    v62 = v51 - v59;
    v63 = v60 + v53;
    v64 = v53 - v60;
    v65 = v46 + v52;
    v66 = 10935 * (v55 + v47);
    v67 = 9810 * (v50 + v47);
    v68 = v56 << 13;
    LODWORD(v46) = v52 - v46;
    v69 = v66 - 9232 * v47 + v67 + (v56 << 13);
    v70 = -8192 * v56 - 1297 * (v50 + v55);
    v71 = v66 - 3474 * v55 + v70;
    v72 = v67 - 19447 * v50 + v70;
    v73 = (*(a4 + v44) + a5);
    *v73 = *(v45 + (((v69 + v61) >> 18) & 0x3FF));
    v73[13] = *(v45 + (((v61 - v69) >> 18) & 0x3FF));
    v73[1] = *(v45 + (((v71 + v65) >> 18) & 0x3FF));
    v74 = (v65 - v71);
    v75 = -8192 * v56 + 3826 * (v47 - v55);
    v73[12] = *(v45 + ((v74 >> 18) & 0x3FF));
    v76 = v47 - v55 - v50 + v56;
    v73[2] = *(v45 + (((v72 + v63) >> 18) & 0x3FF));
    LODWORD(v74) = v68 - 13850 * v50;
    v77 = 6164 * (v50 + v47);
    v78 = 11512 * (v50 - v55);
    v76 <<= 13;
    v79 = v77 - 8693 * v47;
    v73[11] = *(v45 + (((v63 - v72) >> 18) & 0x3FF));
    result = (v74 + v78);
    v81 = result + v77;
    v73[3] = *(v45 + (((v76 + v58) >> 18) & 0x3FF));
    v73[10] = *(v45 + (((v58 - v76) >> 18) & 0x3FF));
    v73[4] = *(v45 + (((v81 + v64) >> 18) & 0x3FF));
    v82 = v79 + v75;
    v83 = v78 + 5529 * v55 + v75;
    v73[9] = *(v45 + (((v64 - v81) >> 18) & 0x3FF));
    v73[5] = *(v45 + (((v83 + v46) >> 18) & 0x3FF));
    v73[8] = *(v45 + (((v46 - v83) >> 18) & 0x3FF));
    v73[6] = *(v45 + (((v82 + v62) >> 18) & 0x3FF));
    v73[7] = *(v45 + (((v62 - v82) >> 18) & 0x3FF));
    v44 += 8;
  }

  while (v44 != 112);
  return result;
}

uint64_t sub_1003BF6EC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v86 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = v7[16] * v8[16];
    v10 = ((*v7 * *v8) << 13) | 0x400;
    v11 = v7[48] * v8[48];
    v12 = v7[32];
    v13 = v10 - 3580 * v11;
    v14 = v10 + 9373 * v11;
    v15 = v9 - v12 * v8[32];
    v16 = v9 + v12 * v8[32];
    v9 *= 11795;
    v17 = 374 * v15 + 10958 * v16 + v14;
    v18 = v9 - 10958 * v16 + 374 * v15 + v13;
    v19 = -3271 * v15 - 4482 * v16 + v14;
    v20 = 4482 * v16 - v9 + -3271 * v15 + v13;
    v16 *= 6476;
    v21 = 2896 * v15 + v16 + v13;
    v22 = v14 - v16 + 2896 * v15;
    v23 = v7[8] * v8[8];
    v24 = v7[24] * v8[24];
    LODWORD(v14) = v8[40];
    v25 = v7[40];
    v26 = 10033 * v25 * v8[40];
    v27 = v7[56] * v8[56];
    v28 = -11018 * v24;
    v29 = v26 + 11522 * (v23 - v27);
    v30 = 11018 * v24 + 20131 * v27 + v29;
    v31 = -6810 * v24 - 9113 * v23 + v29;
    v32 = v24 - v27;
    v33 = &v90[v5];
    v34 = 4712 * (v23 + v27);
    v35 = -6810 * v24 + 3897 * v23 - v26 + v34;
    v36 = v26 + v28 - 7121 * v27 + v34;
    *v33 = (v30 + v17) >> 11;
    v33[112] = (v17 - v30) >> 11;
    v37 = 6810 * (v32 + v23);
    v38 = v37 + 4209 * v23;
    v33[8] = (v38 + v21) >> 11;
    v33[104] = (v21 - v38) >> 11;
    v39 = v10 - 11586 * v11;
    v40 = v39 + 5792 * v15;
    v41 = 10033 * (v23 - v27 - v25 * v14);
    v33[16] = (v41 + v40) >> 11;
    v33[96] = (v40 - v41) >> 11;
    v33[24] = (v35 + v18) >> 11;
    v33[88] = (v18 - v35) >> 11;
    v42 = v37 - 17828 * v32;
    v33[32] = (v42 + v22) >> 11;
    v33[80] = (v22 - v42) >> 11;
    v33[40] = (v36 + v19) >> 11;
    v33[72] = (v19 - v36) >> 11;
    v33[48] = (v31 + v20) >> 11;
    v33[64] = (v20 - v31) >> 11;
    v33[56] = (v39 + 0x7FFFFFFD2C0 * v15) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v43 = 0;
  v44 = v86 - 384;
  do
  {
    v45 = &v90[v43];
    v46 = (*(a4 + v43) + a5);
    v47 = v45[1];
    v48 = (*v45 << 13) + 134348800;
    v50 = v45[6];
    v49 = v45[7];
    v51 = v48 - 3580 * v50;
    v52 = v48 + 9373 * v50;
    v54 = v45[2];
    v53 = v45[3];
    v55 = v45[4];
    v56 = v45[5];
    v57 = v48 - 11586 * v50;
    v58 = v54 - v55;
    v59 = v55 + v54;
    v54 *= 11795;
    v60 = 374 * v58 + 10958 * v59 + v52;
    v61 = v54 - 10958 * v59 + 374 * v58;
    LODWORD(v45) = -3271 * v58 - 4482 * v59 + v52;
    v62 = 4482 * v59 - v54 - 3271 * v58;
    v59 *= 6476;
    v63 = 2896 * v58;
    v64 = v61 + v51;
    v65 = 2896 * v58 + v59 + v51;
    v66 = v52 - v59;
    v67 = v57 + 5792 * v58;
    v68 = (v57 + 268423872 * v58);
    v69 = v62 + v51;
    v70 = 10033 * v56;
    v71 = v53 - v49;
    v72 = -11018 * v53;
    v73 = 10033 * v56 + 11522 * (v47 - v49);
    v74 = v66 + v63;
    v75 = 11018 * v53 + 20131 * v49 + v73;
    v76 = (v75 + v60);
    v77 = (v60 - v75);
    v78 = 6810 * (v53 - v49 + v47);
    *v46 = *(v44 + ((v76 >> 18) & 0x3FF));
    LODWORD(v76) = v78 + 4209 * v47;
    v46[14] = *(v44 + ((v77 >> 18) & 0x3FF));
    v46[1] = *(v44 + (((v76 + v65) >> 18) & 0x3FF));
    v79 = 10033 * (v47 - v49 - v56);
    v46[13] = *(v44 + (((v65 - v76) >> 18) & 0x3FF));
    result = (-6810 * v53);
    v46[2] = *(v44 + (((v79 + v67) >> 18) & 0x3FF));
    LODWORD(v77) = 4712 * (v49 + v47);
    v81 = (v67 - v79);
    v82 = result + 3897 * v47 - v70 + v77;
    v46[12] = *(v44 + ((v81 >> 18) & 0x3FF));
    v83 = v78 - 17828 * v71;
    v46[3] = *(v44 + (((v82 + v64) >> 18) & 0x3FF));
    v46[11] = *(v44 + (((v64 - v82) >> 18) & 0x3FF));
    v46[4] = *(v44 + (((v83 + v74) >> 18) & 0x3FF));
    v84 = v70 + v72 - 7121 * v49 + v77;
    v46[10] = *(v44 + (((v74 - v83) >> 18) & 0x3FF));
    v46[5] = *(v44 + (((v84 + v45) >> 18) & 0x3FF));
    v85 = result - 9113 * v47 + v73;
    v46[9] = *(v44 + (((v45 - v84) >> 18) & 0x3FF));
    v46[6] = *(v44 + (((v85 + v69) >> 18) & 0x3FF));
    v46[8] = *(v44 + (((v69 - v85) >> 18) & 0x3FF));
    v46[7] = *(v44 + ((v68 >> 18) & 0x3FF));
    v43 += 8;
  }

  while (v43 != 120);
  return result;
}

uint64_t sub_1003BFC58(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v112 = *(a1 + 408);
  v115 = *(a2 + 88);
  do
  {
    v6 = (v115 + 4 * v5);
    v7 = (a3 + 2 * v5);
    v8 = v6[32] * v7[32];
    v9 = ((*v6 * *v7) << 13) | 0x400;
    v10 = 10703 * v8;
    v8 *= 4433;
    v11 = v10 + v9;
    v12 = v9 - v10;
    v13 = v8 + v9;
    v14 = v9 - v8;
    v15 = v6[16] * v7[16];
    v16 = v6[48] * v7[48];
    v17 = 2260 * (v15 - v16);
    v18 = 11363 * (v15 - v16);
    v19 = v18 + 20995 * v16;
    v20 = v17 + 7373 * v15;
    v21 = v18 - 4926 * v15;
    v22 = v17 - 4176 * v16;
    v23 = v19 + v11;
    v118 = v11 - v19;
    v24 = v20 + v13;
    v117 = v13 - v20;
    v25 = v21 + v14;
    v26 = v14 - v21;
    v27 = v22 + v12;
    v28 = v12 - v22;
    v29 = v6[8] * v7[8];
    v30 = v6[24] * v7[24];
    v31 = v7[40];
    v32 = v6[40];
    v33 = v7[56];
    v34 = v6[56];
    v35 = v29 + v32 * v7[40];
    v36 = 11086 * (v29 + v30);
    v37 = 10217 * v35;
    v38 = 8956 * (v29 + v34 * v33);
    v39 = 7350 * (v29 - v34 * v33);
    v40 = 5461 * v35;
    v41 = 3363 * (v29 - v30);
    v42 = v36 - 18730 * v29 + 10217 * v35 + v38;
    v43 = v41 - 15038 * v29 + 5461 * v35 + v39;
    v44 = 1136 * (v30 + v32 * v31);
    v45 = v30 + v34 * v33;
    v46 = -5461 * v45;
    v47 = v36 + 589 * v30 + v44 - 5461 * v45;
    v48 = v32 * v31;
    v49 = 11529 * (v48 - v30);
    v50 = -10217 * v45;
    v51 = v41 + 16154 * v30 + v49 - 10217 * v45;
    v52 = v44 - 9222 * v48 + v37 - 11086 * (v48 + v34 * v33);
    v53 = v38 - 11086 * (v48 + v34 * v33);
    v54 = v34 * v33;
    v55 = v46 + 8728 * v54 + v53;
    v56 = 3363 * (v54 - v48);
    v57 = v50 + 25733 * v54 + v39 + v56;
    v58 = &v119[v5];
    v59 = v49 - 6278 * v48 + v40 + v56;
    *v58 = (v42 + v23) >> 11;
    v58[120] = (v23 - v42) >> 11;
    v58[8] = (v47 + v24) >> 11;
    v58[112] = (v24 - v47) >> 11;
    v58[16] = (v52 + v25) >> 11;
    v58[104] = (v25 - v52) >> 11;
    v58[24] = (v55 + v27) >> 11;
    v58[96] = (v27 - v55) >> 11;
    v58[32] = (v57 + v28) >> 11;
    v58[88] = (v28 - v57) >> 11;
    v58[40] = (v59 + v26) >> 11;
    v58[80] = (v26 - v59) >> 11;
    v58[48] = (v51 + v117) >> 11;
    v58[72] = (v117 - v51) >> 11;
    v58[56] = (v43 + v118) >> 11;
    v58[64] = (v118 - v43) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v60 = 0;
  v61 = v112 - 384;
  do
  {
    v62 = &v119[v60];
    v63 = v62[1];
    v64 = v62[4];
    v65 = v62[5];
    v66 = (*v62 << 13) + 134348800;
    v67 = 10703 * v64;
    v64 *= 4433;
    v68 = v66 + v67;
    v69 = v66 - v67;
    v70 = v62[2];
    v71 = v62[3];
    v72 = v66 + v64;
    v73 = v62[6];
    v74 = v62[7];
    v75 = 2260 * (v70 - v73);
    v76 = v66 - v64;
    LODWORD(v62) = 11363 * (v70 - v73);
    v77 = v62 + 20995 * v73;
    v78 = v75 + 7373 * v70;
    v79 = v62 - 4926 * v70;
    v80 = v75 - 4176 * v73;
    v81 = v77 + v68;
    v82 = v68 - v77;
    v83 = v78 + v72;
    LODWORD(v62) = v72 - v78;
    v84 = v79 + v76;
    v85 = v76 - v79;
    v86 = 11086 * (v71 + v63);
    v87 = 10217 * (v65 + v63);
    v88 = 8956 * (v74 + v63);
    v89 = v80 + v69;
    v90 = 7350 * (v63 - v74);
    v91 = 5461 * (v65 + v63);
    v92 = 3363 * (v63 - v71);
    v93 = v69 - v80;
    v94 = v86 - 18730 * v63 + v87 + v88;
    result = (v92 - 15038 * v63 + v91 + v90);
    v96 = 1136 * (v65 + v71);
    v97 = v86 + 589 * v71 + v96 - 5461 * (v74 + v71);
    v98 = v96 - 9222 * v65 + v87 - 11086 * (v74 + v65);
    v99 = -5461 * (v74 + v71) + 8728 * v74 + v88 - 11086 * (v74 + v65);
    v100 = (v94 + v81);
    v101 = (v81 - v94);
    v102 = (*(a4 + v60) + a5);
    *v102 = *(v61 + ((v100 >> 18) & 0x3FF));
    v102[15] = *(v61 + ((v101 >> 18) & 0x3FF));
    v102[1] = *(v61 + (((v97 + v83) >> 18) & 0x3FF));
    v103 = -10217 * (v74 + v71);
    v104 = (v83 - v97);
    v105 = v103 + 25733 * v74;
    v106 = 3363 * (v74 - v65);
    v107 = v105 + v90 + v106;
    v102[14] = *(v61 + ((v104 >> 18) & 0x3FF));
    v102[2] = *(v61 + (((v98 + v84) >> 18) & 0x3FF));
    v102[13] = *(v61 + (((v84 - v98) >> 18) & 0x3FF));
    v102[3] = *(v61 + (((v99 + v89) >> 18) & 0x3FF));
    v102[12] = *(v61 + (((v89 - v99) >> 18) & 0x3FF));
    v102[4] = *(v61 + (((v107 + v93) >> 18) & 0x3FF));
    v108 = v92 + 16154 * v71;
    v109 = 11529 * (v65 - v71);
    v110 = v109 - 6278 * v65 + v91 + v106;
    v102[11] = *(v61 + (((v93 - v107) >> 18) & 0x3FF));
    v102[5] = *(v61 + (((v110 + v85) >> 18) & 0x3FF));
    v111 = v108 + v109 + v103;
    v102[10] = *(v61 + (((v85 - v110) >> 18) & 0x3FF));
    v102[6] = *(v61 + (((v111 + v62) >> 18) & 0x3FF));
    v102[9] = *(v61 + (((v62 - v111) >> 18) & 0x3FF));
    v102[7] = *(v61 + (((result + v82) >> 18) & 0x3FF));
    v102[8] = *(v61 + (((v82 - result) >> 18) & 0x3FF));
    v60 += 8;
  }

  while (v60 != 128);
  return result;
}

uint64_t sub_1003C0280(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v89 = *(a1 + 408);
  v5 = (a3 + 64);
  v6 = v92;
  v7 = 9;
  v8 = *(a2 + 88);
  do
  {
    v9 = *(v5 - 16);
    if (*(v5 - 24) | v9)
    {
      goto LABEL_9;
    }

    if (*(v5 - 8) || *v5 || v5[8] || v5[16] || v5[24])
    {
      v9 = 0;
LABEL_9:
      v10 = v8[16] * v9;
      v11 = v8[48] * v5[16];
      v12 = 4433 * (v10 + v11);
      v13 = v12 + 6270 * v10;
      v14 = v12 - 15137 * v11;
      v15 = (v8[32] * *v5) << 13;
      v16 = ((*v8 * *(v5 - 32)) << 13) | 0x400;
      v17 = v15 + v16;
      v18 = v16 - v15;
      v19 = v17 + v13;
      v20 = v17 - v13;
      v21 = v18 + v14;
      v22 = v18 - v14;
      v23 = v8[56] * v5[24];
      v24 = v8[40] * v5[8];
      v25 = v8[24] * *(v5 - 8);
      v26 = v8[8] * *(v5 - 24);
      v27 = 9633 * (v24 + v26 + v23 + v25);
      v28 = v27 - 16069 * (v23 + v25);
      v29 = v27 - 3196 * (v24 + v26);
      v30 = -7373 * (v23 + v26);
      v31 = v30 + 2446 * v23 + v28;
      v32 = v30 + 12299 * v26 + v29;
      v33 = -20995 * (v24 + v25);
      v34 = v33 + 16819 * v24 + v29;
      v35 = v33 + 25172 * v25 + v28;
      *v6 = (v32 + v19) >> 11;
      v6[56] = (v19 - v32) >> 11;
      v6[8] = (v35 + v21) >> 11;
      v6[48] = (v21 - v35) >> 11;
      v6[16] = (v34 + v22) >> 11;
      v6[40] = (v22 - v34) >> 11;
      v6[24] = (v31 + v20) >> 11;
      v36 = (v20 - v31) >> 11;
      v37 = 32;
      goto LABEL_10;
    }

    LODWORD(v36) = 4 * *(v5 - 32) * *v8;
    *v6 = v36;
    v6[8] = v36;
    v6[16] = v36;
    v6[24] = v36;
    v6[32] = v36;
    v6[40] = v36;
    v6[48] = v36;
    v37 = 56;
LABEL_10:
    v6[v37] = v36;
    ++v6;
    ++v8;
    --v7;
    ++v5;
  }

  while (v7 > 1);
  v38 = 0;
  v39 = v89 - 384;
  do
  {
    v40 = &v92[v38];
    v41 = v40[1];
    v42 = v40[4];
    v43 = v40[5];
    v44 = (*v40 << 13) + 134348800;
    v45 = 4433 * v42;
    v46 = v44 + 10703 * v42;
    v47 = v44 - 10703 * v42;
    v49 = v40[2];
    v48 = v40[3];
    v50 = v44 + v45;
    v52 = v40[6];
    v51 = v40[7];
    v53 = 2260 * (v49 - v52);
    v54 = v44 - v45;
    LODWORD(v40) = 11363 * (v49 - v52);
    v55 = v40 + 20995 * v52;
    v56 = v53 + 7373 * v49;
    v57 = v40 - 4926 * v49;
    v58 = v53 - 4176 * v52;
    v59 = v55 + v46;
    LODWORD(v40) = v46 - v55;
    v60 = v56 + v50;
    v61 = v50 - v56;
    v62 = v57 + v54;
    v63 = v54 - v57;
    v64 = 11086 * (v48 + v41);
    v65 = 10217 * (v43 + v41);
    v66 = 8956 * (v51 + v41);
    v67 = v58 + v47;
    v68 = 7350 * (v41 - v51);
    v69 = 5461 * (v43 + v41);
    v70 = 3363 * (v41 - v48);
    v71 = v47 - v58;
    v72 = v64 - 18730 * v41 + v65 + v66;
    v73 = v70 - 15038 * v41 + v69 + v68;
    v74 = 1136 * (v43 + v48);
    v75 = v74 - 9222 * v43;
    v76 = v64 + 589 * v48 + v74 - 5461 * (v51 + v48);
    v77 = v75 + v65 - 11086 * (v51 + v43);
    v78 = -5461 * (v51 + v48) + 8728 * v51 + v66 - 11086 * (v51 + v43);
    v79 = (v72 + v59);
    v80 = (v59 - v72);
    v81 = (*(a4 + v38) + a5);
    *v81 = *(v39 + ((v79 >> 18) & 0x3FF));
    v81[15] = *(v39 + ((v80 >> 18) & 0x3FF));
    v81[1] = *(v39 + (((v76 + v60) >> 18) & 0x3FF));
    v82 = -10217 * (v51 + v48);
    LODWORD(v80) = v82 + 25733 * v51;
    v83 = 3363 * (v51 - v43);
    v84 = v80 + v68 + v83;
    v81[14] = *(v39 + (((v60 - v76) >> 18) & 0x3FF));
    v81[2] = *(v39 + (((v77 + v62) >> 18) & 0x3FF));
    v81[13] = *(v39 + (((v62 - v77) >> 18) & 0x3FF));
    v81[3] = *(v39 + (((v78 + v67) >> 18) & 0x3FF));
    v81[12] = *(v39 + (((v67 - v78) >> 18) & 0x3FF));
    v81[4] = *(v39 + (((v84 + v71) >> 18) & 0x3FF));
    v85 = v70 + 16154 * v48;
    result = (11529 * (v43 - v48));
    v87 = result - 6278 * v43 + v69 + v83;
    v81[11] = *(v39 + (((v71 - v84) >> 18) & 0x3FF));
    v81[5] = *(v39 + (((v87 + v63) >> 18) & 0x3FF));
    v88 = v85 + result + v82;
    v81[10] = *(v39 + (((v63 - v87) >> 18) & 0x3FF));
    v81[6] = *(v39 + (((v88 + v61) >> 18) & 0x3FF));
    v81[9] = *(v39 + (((v61 - v88) >> 18) & 0x3FF));
    v81[7] = *(v39 + (((v73 + v40) >> 18) & 0x3FF));
    v81[8] = *(v39 + (((v40 - v73) >> 18) & 0x3FF));
    v38 += 8;
  }

  while (v38 != 64);
  return result;
}

uint64_t sub_1003C07DC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v71 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = &v74[v5];
    v8 = (v6 + 4 * v5);
    v9 = (a3 + 2 * v5);
    v10 = ((*v8 * *v9) << 13) | 0x400;
    v11 = v8[16] * v9[16];
    v12 = v8[32] * v9[32];
    v13 = v8[48] * v9[48];
    v14 = 7223 * (v12 - v13);
    v15 = 2578 * (v11 - v12);
    v16 = v10 - 15083 * v12 + v15 + v14;
    v17 = v10 + 10438 * (v11 + v13);
    v18 = v14 - 637 * v13 + v17;
    v19 = v15 - 20239 * v11 + v17;
    v20 = v10 + 11585 * (v12 - (v11 + v13));
    v21 = v8[8] * v9[8];
    v22 = v8[24] * v9[24];
    v23 = v8[40] * v9[40];
    v24 = 7663 * (v21 + v22);
    v25 = 1395 * (v21 - v22);
    v26 = v24 - v25;
    v27 = v24 + v25 - 11295 * (v22 + v23);
    v28 = 5027 * (v21 + v23);
    v29 = v28 + v26;
    v30 = v28 + 15326 * v23 - 11295 * (v22 + v23);
    *v7 = (v29 + v18) >> 11;
    v7[48] = (v18 - v29) >> 11;
    v7[8] = (v27 + v16) >> 11;
    v7[40] = (v16 - v27) >> 11;
    v7[16] = (v30 + v19) >> 11;
    v7[32] = (v19 - v30) >> 11;
    v7[24] = v20 >> 11;
    ++v5;
  }

  while (v5 != 8);
  v31 = 0;
  v32 = v71 - 384;
  do
  {
    v33 = &v74[v31];
    v34 = v33[1];
    v35 = (*v33 << 13) + 134348800;
    v36 = v33[4];
    v37 = v33[5];
    v38 = v35 + 10438 * v36;
    v39 = v35 + 2578 * v36;
    v40 = v35 - 7223 * v36;
    v41 = v33[2];
    v42 = v33[3];
    v44 = v33[6];
    v43 = v33[7];
    v45 = v35 - 11586 * v36;
    LODWORD(v33) = 9058 * (v44 + v41);
    v46 = v33 + 2237 * v41;
    LODWORD(v33) = v33 - 14084 * v44;
    v47 = 5027 * v41 - 11295 * v44;
    v48 = v46 + v38;
    v49 = v38 - v46;
    v50 = v47 + v40;
    v51 = v40 - v47;
    v52 = v33 + v39;
    v53 = 10935 * (v42 + v34);
    v54 = 9810 * (v37 + v34);
    v55 = v43 << 13;
    LODWORD(v33) = v39 - v33;
    v56 = v53 - 9232 * v34 + v54 + (v43 << 13);
    v57 = -8192 * v43 - 1297 * (v37 + v42);
    v58 = v53 - 3474 * v42 + v57;
    v59 = v54 - 19447 * v37 + v57;
    v60 = (*(a4 + v31) + a5);
    *v60 = *(v32 + (((v56 + v48) >> 18) & 0x3FF));
    v60[13] = *(v32 + (((v48 - v56) >> 18) & 0x3FF));
    v60[1] = *(v32 + (((v58 + v52) >> 18) & 0x3FF));
    v61 = -8192 * v43 + 3826 * (v34 - v42);
    v60[12] = *(v32 + (((v52 - v58) >> 18) & 0x3FF));
    v62 = v34 - v42 - v37 + v43;
    v60[2] = *(v32 + (((v59 + v50) >> 18) & 0x3FF));
    v63 = v55 - 13850 * v37;
    v64 = 6164 * (v37 + v34);
    v65 = 11512 * (v37 - v42);
    v62 <<= 13;
    v66 = v64 - 8693 * v34;
    v60[11] = *(v32 + (((v50 - v59) >> 18) & 0x3FF));
    result = *(v32 + (((v62 + v45) >> 18) & 0x3FF));
    v68 = v63 + v65 + v64;
    v60[3] = result;
    v60[10] = *(v32 + (((v45 - v62) >> 18) & 0x3FF));
    v60[4] = *(v32 + (((v68 + v51) >> 18) & 0x3FF));
    v69 = v66 + v61;
    v70 = v65 + 5529 * v42 + v61;
    v60[9] = *(v32 + (((v51 - v68) >> 18) & 0x3FF));
    v60[5] = *(v32 + (((v70 + v33) >> 18) & 0x3FF));
    v60[8] = *(v32 + (((v33 - v70) >> 18) & 0x3FF));
    v60[6] = *(v32 + (((v69 + v49) >> 18) & 0x3FF));
    v60[7] = *(v32 + (((v49 - v69) >> 18) & 0x3FF));
    v31 += 8;
  }

  while (v31 != 56);
  return result;
}

uint64_t sub_1003C0C10(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v6 = *(a1 + 408);
  v7 = *(a2 + 88);
  do
  {
    v8 = &v61[v5];
    v9 = (v7 + 4 * v5);
    v10 = (a3 + 2 * v5);
    v11 = ((*v9 * *v10) << 13) | 0x400;
    v12 = v9[32] * v10[32];
    v13 = v11 + 5793 * v12;
    v14 = (v11 - 11586 * v12) >> 11;
    v15 = 10033 * v9[16] * v10[16];
    v16 = v15 + v13;
    v17 = v13 - v15;
    v18 = v9[8] * v10[8];
    v19 = v9[24] * v10[24];
    v20 = v9[40] * v10[40];
    v21 = 2998 * (v18 + v20);
    v22 = v21 + ((v18 + v19) << 13);
    v23 = v21 + ((v20 - v19) << 13);
    LODWORD(v18) = 4 * (v18 - (v19 + v20));
    *v8 = (v22 + v16) >> 11;
    v8[40] = (v16 - v22) >> 11;
    v8[8] = v18 + v14;
    v8[32] = v14 - v18;
    v8[16] = (v23 + v17) >> 11;
    v8[24] = (v17 - v23) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v24 = 0;
  v25 = v6 - 384;
  do
  {
    v26 = &v61[v24];
    v27 = v26[1];
    v28 = (*v26 << 13) + 134348800;
    v29 = v26[5];
    v30 = 10033 * v26[4];
    v31 = v28 + v30;
    v33 = v26[2];
    v32 = v26[3];
    v35 = v26[6];
    v34 = v26[7];
    v36 = v28 - v30;
    LODWORD(v26) = (v33 - v35) << 13;
    v37 = v26 + v28;
    v38 = v28 - v26;
    v39 = (v35 << 13) + 11190 * v33;
    v40 = v39 + v31;
    v41 = v31 - v39;
    v42 = -8192 * v35 + 2998 * v33;
    v43 = 10703 * v32;
    v44 = -4433 * v32;
    LODWORD(v26) = v42 + v36;
    v45 = 7053 * (v29 + v27 + v34);
    v46 = v45 + 2139 * (v29 + v27);
    v47 = v36 - v42;
    v48 = 10703 * v32 + 2295 * v27 + v46;
    v49 = -8565 * (v34 + v29);
    v50 = -4433 * v32 - 12112 * v29 - 8565 * (v34 + v29) + v46;
    v51 = v32 - v29;
    v52 = (*(a4 + v24) + a5);
    *v52 = *(v25 + (((v48 + v40) >> 18) & 0x3FF));
    v53 = (v40 - v48);
    result = (4433 * (v27 - v34 + v51));
    v55 = result + 6270 * (v27 - v34);
    v52[11] = *(v25 + ((v53 >> 18) & 0x3FF));
    v56 = (v55 + v37);
    v57 = (v37 - v55);
    v52[1] = *(v25 + ((v56 >> 18) & 0x3FF));
    v58 = 12998 * v34 - v43 + v45 + v49;
    v52[10] = *(v25 + ((v57 >> 18) & 0x3FF));
    v52[2] = *(v25 + (((v50 + v26) >> 18) & 0x3FF));
    v52[9] = *(v25 + (((v26 - v50) >> 18) & 0x3FF));
    v59 = v44 - 5540 * v27 - 16244 * v34 + v45;
    v52[3] = *(v25 + (((v58 + v47) >> 18) & 0x3FF));
    v60 = result - 15137 * v51;
    v52[8] = *(v25 + (((v47 - v58) >> 18) & 0x3FF));
    v52[4] = *(v25 + (((v60 + v38) >> 18) & 0x3FF));
    v52[7] = *(v25 + (((v38 - v60) >> 18) & 0x3FF));
    v52[5] = *(v25 + (((v59 + v41) >> 18) & 0x3FF));
    v52[6] = *(v25 + (((v41 - v59) >> 18) & 0x3FF));
    v24 += 8;
  }

  while (v24 != 48);
  return result;
}

uint64_t sub_1003C0F70(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v6 = *(a1 + 408);
  v7 = *(a2 + 88);
  do
  {
    v8 = &v55[v5];
    v9 = (v7 + 4 * v5);
    v10 = (a3 + 2 * v5);
    v11 = ((*v9 * *v10) << 13) | 0x400;
    v12 = v9[16] * v10[16];
    v13 = v9[32];
    v14 = 6476 * (v12 + v13 * v10[32]);
    v15 = v12 - v13 * v10[32];
    v16 = v11 + 2896 * v15;
    v17 = v16 + v14;
    v18 = v16 - v14;
    v19 = v11 + 0x7FFFFFFD2C0 * v15;
    v20 = v9[8] * v10[8];
    v21 = v9[24] * v10[24];
    v22 = 6810 * (v20 + v21);
    v23 = v22 + 4209 * v20;
    v24 = v22 - 17828 * v21;
    *v8 = (v23 + v17) >> 11;
    v8[32] = (v17 - v23) >> 11;
    v8[8] = (v24 + v18) >> 11;
    v8[24] = (v18 - v24) >> 11;
    v8[16] = v19 >> 11;
    ++v5;
  }

  while (v5 != 8);
  v25 = 0;
  v26 = v6 - 384;
  result = 2531;
  do
  {
    v28 = &v55[v25];
    v29 = (*(a4 + v25) + a5);
    v30 = v28[1];
    v31 = (*v28 << 13) + 134348800;
    v32 = v28[4];
    v33 = v28[5];
    v34 = v31 + 9373 * v32;
    v35 = v31 - 3580 * v32;
    v36 = v31 - 11586 * v32;
    v38 = v28[2];
    v37 = v28[3];
    v40 = v28[6];
    v39 = v28[7];
    LODWORD(v28) = 6810 * (v40 + v38);
    v41 = v28 + 4209 * v38;
    v42 = v28 - 17828 * v40;
    v43 = v41 + v34;
    LODWORD(v28) = v34 - v41;
    v44 = v42 + v35;
    v45 = v39 + v37;
    v46 = v35 - v42;
    v47 = v37 - v39;
    v48 = (v33 << 13) + 2531 * v47;
    v49 = (v33 << 13) - 6627 * v47;
    v50 = v30 - v33 - v47;
    v51 = 7791 * v45 + 11443 * v30 + v48;
    v52 = 1812 * v30 - 7791 * v45 + v48;
    *v29 = *(v26 + (((v51 + v43) >> 18) & 0x3FF));
    v53 = 10323 * v30 - (4815 * v45 + v49);
    v29[9] = *(v26 + (((v43 - v51) >> 18) & 0x3FF));
    v29[1] = *(v26 + (((v53 + v44) >> 18) & 0x3FF));
    v50 <<= 13;
    v29[8] = *(v26 + (((v44 - v53) >> 18) & 0x3FF));
    v29[2] = *(v26 + (((v50 + v36) >> 18) & 0x3FF));
    v54 = 5260 * v30 - 4815 * v45 + v49;
    v29[7] = *(v26 + (((v36 - v50) >> 18) & 0x3FF));
    v29[3] = *(v26 + (((v54 + v46) >> 18) & 0x3FF));
    v29[6] = *(v26 + (((v46 - v54) >> 18) & 0x3FF));
    v29[4] = *(v26 + (((v52 + v28) >> 18) & 0x3FF));
    v29[5] = *(v26 + (((v28 - v52) >> 18) & 0x3FF));
    v25 += 8;
  }

  while (v25 != 40);
  return result;
}

uint64_t sub_1003C1268(uint64_t a1, uint64_t a2, __int16 *a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v6 = *(a2 + 88);
  v7 = *v6 * *a3;
  v8 = v6[16] * a3[16];
  v9 = v6[8] * a3[8];
  v10 = v6[24] * a3[24];
  v11 = 4433 * (v9 + v10) + 1024;
  v12 = 4 * (v8 + v7);
  v13 = 4 * (v7 - v8);
  v14 = (v11 + 6270 * v9) >> 11;
  v15 = (v11 - 15137 * v10) >> 11;
  LODWORD(v11) = v14 + v12;
  LODWORD(v14) = v12 - v14;
  v16 = v15 + v13;
  LODWORD(v15) = v13 - v15;
  v17 = v6[1] * a3[1];
  v18 = v6[17] * a3[17];
  v19 = 4 * (v18 + v17);
  v20 = 4 * (v17 - v18);
  v21 = v6[9] * a3[9];
  v22 = v6[25] * a3[25];
  v23 = 4433 * (v21 + v22) + 1024;
  v24 = (v23 + 6270 * v21) >> 11;
  v25 = (v23 - 15137 * v22) >> 11;
  v98[0] = v11;
  v98[1] = v24 + v19;
  v98[24] = v14;
  v98[25] = v19 - v24;
  v98[8] = v16;
  v98[9] = v25 + v20;
  v98[16] = v15;
  v98[17] = v20 - v25;
  v26 = v6[2] * a3[2];
  LODWORD(v24) = v6[18] * a3[18];
  LODWORD(v14) = 4 * (v24 + v26);
  v27 = 4 * (v26 - v24);
  v28 = v6[10] * a3[10];
  v29 = v6[26] * a3[26];
  v30 = 4433 * (v28 + v29) + 1024;
  v31 = (v30 + 6270 * v28) >> 11;
  v32 = (v30 - 15137 * v29) >> 11;
  v33 = v31 + v14;
  LODWORD(v31) = v14 - v31;
  LODWORD(v14) = v32 + v27;
  v34 = v27 - v32;
  LODWORD(v25) = v6[3] * a3[3];
  v35 = v6[19] * a3[19];
  LODWORD(v32) = 4 * (v35 + v25);
  LODWORD(v25) = 4 * (v25 - v35);
  v36 = v6[11] * a3[11];
  v37 = v6[27] * a3[27];
  v38 = 4433 * (v36 + v37) + 1024;
  v39 = (v38 + 6270 * v36) >> 11;
  v40 = (v38 - 15137 * v37) >> 11;
  v98[2] = v33;
  v98[3] = v39 + v32;
  v98[26] = v31;
  v98[27] = v32 - v39;
  v98[10] = v14;
  v98[11] = v40 + v25;
  v98[18] = v34;
  v98[19] = v25 - v40;
  v41 = v6[4] * a3[4];
  LODWORD(v31) = v6[20] * a3[20];
  LODWORD(v14) = 4 * (v31 + v41);
  v42 = 4 * (v41 - v31);
  v43 = v6[12] * a3[12];
  v44 = v6[28] * a3[28];
  v45 = 4433 * (v43 + v44) + 1024;
  v46 = (v45 + 6270 * v43) >> 11;
  v47 = (v45 - 15137 * v44) >> 11;
  v48 = v46 + v14;
  LODWORD(v46) = v14 - v46;
  LODWORD(v14) = v47 + v42;
  v49 = v42 - v47;
  LODWORD(v25) = v6[5] * a3[5];
  LODWORD(v39) = v6[21] * a3[21];
  LODWORD(v47) = 4 * (v39 + v25);
  LODWORD(v25) = 4 * (v25 - v39);
  v50 = v6[13] * a3[13];
  v51 = v6[29] * a3[29];
  v52 = 4433 * (v50 + v51) + 1024;
  v53 = (v52 + 6270 * v50) >> 11;
  v54 = (v52 - 15137 * v51) >> 11;
  v98[4] = v48;
  v98[5] = v53 + v47;
  v98[28] = v46;
  v98[29] = v47 - v53;
  v98[12] = v14;
  v98[13] = v54 + v25;
  LODWORD(v46) = v25 - v54;
  LODWORD(v25) = v6[6] * a3[6];
  LODWORD(v14) = v6[22] * a3[22];
  LODWORD(v47) = v14 + v25;
  LODWORD(v25) = v25 - v14;
  v55 = v6[14] * a3[14];
  v56 = v6[30] * a3[30];
  LODWORD(v47) = 4 * v47;
  LODWORD(v25) = 4 * v25;
  v57 = 4433 * (v55 + v56) + 1024;
  v58 = (v57 + 6270 * v55) >> 11;
  v59 = (v57 - 15137 * v56) >> 11;
  LODWORD(v51) = v58 + v47;
  LODWORD(v58) = v47 - v58;
  LODWORD(v47) = v59 + v25;
  LODWORD(v59) = v25 - v59;
  LODWORD(v25) = v6[7] * a3[7];
  LODWORD(v53) = v6[23] * a3[23];
  LODWORD(v54) = v53 + v25;
  LODWORD(v25) = v25 - v53;
  v60 = v6[15] * a3[15];
  v61 = v6[31] * a3[31];
  v62 = 4433 * (v60 + v61) + 1024;
  v63 = *(a1 + 408);
  LODWORD(v25) = 4 * v25;
  v64 = (v62 + 6270 * v60) >> 11;
  v65 = (v62 - 15137 * v61) >> 11;
  v66 = v64 + 4 * v54;
  v67 = 4 * v54 - v64;
  LODWORD(v64) = v65 + v25;
  v98[20] = v49;
  v98[21] = v46;
  v98[6] = v51;
  v98[7] = v66;
  LODWORD(v54) = v25 - v65;
  v68 = v63 - 384;
  v98[30] = v58;
  v98[31] = v67;
  v98[14] = v47;
  v98[15] = v64;
  result = 4294964100;
  v98[22] = v59;
  v98[23] = v54;
  do
  {
    v70 = &v98[v5];
    v71 = v70[1];
    v72 = v70[4];
    v73 = v70[5];
    v74 = *v70 + 16400;
    v75 = v74 + v72;
    v76 = v74 - v72;
    v77 = v70[6];
    v78 = v70[7];
    v75 <<= 13;
    v79 = v70[2];
    LODWORD(v70) = v70[3];
    v80 = 4433 * (v77 + v79);
    v81 = v80 + 6270 * v79;
    v82 = v80 - 15137 * v77;
    v83 = v70 + v78;
    v84 = v71 + v73;
    v85 = -7373 * (v71 + v78);
    v86 = v85 + 2446 * v78;
    v87 = v85 + 12299 * v71;
    v88 = 9633 * (v71 + v73 + v83);
    v89 = v88 - 3196 * v84;
    v90 = v87 + v89;
    v91 = v88 - 16069 * v83;
    v92 = -20995 * (v70 + v73);
    v93 = (*(a4 + v5) + a5);
    v94 = v76 << 13;
    *v93 = *(v68 + (((v90 + v81 + v75) >> 18) & 0x3FF));
    v95 = v82 + (v76 << 13);
    LODWORD(v70) = v92 + 25172 * v70 + v91;
    v96 = v94 - v82;
    v93[7] = *(v68 + (((v81 + v75 - v90) >> 18) & 0x3FF));
    v97 = v92 + 16819 * v73 + v89;
    v93[1] = *(v68 + (((v70 + v95) >> 18) & 0x3FF));
    v93[6] = *(v68 + (((v95 - v70) >> 18) & 0x3FF));
    v93[2] = *(v68 + (((v97 + v96) >> 18) & 0x3FF));
    v93[5] = *(v68 + (((v96 - v97) >> 18) & 0x3FF));
    v93[3] = *(v68 + (((v86 + v91 + v75 - v81) >> 18) & 0x3FF));
    v93[4] = *(v68 + (((v75 - v81 - (v86 + v91)) >> 18) & 0x3FF));
    v5 += 8;
  }

  while (v5 != 32);
  return result;
}

uint64_t sub_1003C17A0(uint64_t a1, uint64_t a2, __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(a1 + 408);
  v6 = *(a2 + 88);
  v7 = ((*v6 * *a3) << 13) | 0x400;
  v8 = v6[16] * a3[16];
  v9 = v7 + 5793 * v8;
  v10 = v7 - 11586 * v8;
  v11 = 10033 * v6[8] * a3[8];
  v12 = v11 + v9;
  v72 = v9 - v11;
  v13 = ((v6[1] * a3[1]) << 13) | 0x400;
  v14 = v6[17] * a3[17];
  v15 = v13 + 5793 * v14;
  v16 = v13 + 0x7FFFFFFD2BELL * v14;
  v17 = 10033 * v6[9] * a3[9];
  v18 = v17 + v15;
  v19 = v15 - v17;
  v20 = ((v6[2] * a3[2]) << 13) | 0x400;
  v21 = v6[18] * a3[18];
  v22 = v20 + 5793 * v21;
  v23 = v20 + 0x7FFFFFFD2BELL * v21;
  v24 = 10033 * v6[10] * a3[10];
  v25 = (v24 + v22) >> 11;
  v26 = (v22 - v24) >> 11;
  v27 = v23 >> 11;
  v28 = ((v6[3] * a3[3]) << 13) | 0x400;
  v29 = v6[19] * a3[19];
  v30 = v28 + 5793 * v29;
  v31 = v28 + 0x7FFFFFFD2BELL * v29;
  v32 = 10033 * v6[11] * a3[11];
  v33 = v32 + v30;
  v34 = v30 - v32;
  v35 = v6[5];
  v36 = ((v6[4] * a3[4]) << 13) | 0x400;
  v37 = v6[21];
  v38 = v6[20] * a3[20];
  v39 = v36 + 5793 * v38;
  v40 = v6[13];
  v41 = 10033 * v6[12] * a3[12];
  v42 = (v41 + v39) >> 11;
  v43 = (v39 - v41) >> 11;
  v44 = (v36 + 0x7FFFFFFD2BELL * v38) >> 11;
  v45 = ((v35 * a3[5]) << 13) | 0x400;
  v46 = v37 * a3[21];
  v47 = v45 + 5793 * v46;
  v48 = v45 + 0x7FFFFFFD2BELL * v46;
  v49 = 10033 * v40 * a3[13];
  v50 = v49 + v47;
  v51 = v47 - v49;
  v5 -= 384;
  v52 = (v12 >> 11 << 13) + 134348800;
  v53 = v52 + 5793 * v42;
  LODWORD(v42) = v52 - 11586 * v42;
  v54 = 10033 * v25;
  LODWORD(v25) = v53 + 10033 * v25;
  v55 = v53 - v54;
  v18 >>= 11;
  v33 >>= 11;
  v50 >>= 11;
  v56 = 2998 * (v50 + v18);
  v57 = v56 + ((v33 + v18) << 13);
  v58 = (*a4 + a5);
  *v58 = *(v5 + (((v57 + v25) >> 18) & 0x3FF));
  v59 = (v18 - (v33 + v50)) << 13;
  v58[5] = *(v5 + (((v25 - v57) >> 18) & 0x3FF));
  v58[1] = *(v5 + (((v59 + v42) >> 18) & 0x3FF));
  LODWORD(v18) = v56 + ((v50 - v33) << 13);
  v58[4] = *(v5 + (((v42 - v59) >> 18) & 0x3FF));
  v58[2] = *(v5 + (((v18 + v55) >> 18) & 0x3FF));
  v58[3] = *(v5 + (((v55 - v18) >> 18) & 0x3FF));
  v60 = (a4[1] + a5);
  v61 = (v10 >> 11 << 13) + 134348800;
  LODWORD(v18) = v61 + 5793 * v44;
  v62 = v61 - 11586 * v44;
  LODWORD(v27) = 10033 * v27;
  LODWORD(v25) = v18 + v27;
  LODWORD(v27) = v18 - v27;
  v16 >>= 11;
  LODWORD(v33) = 2998 * ((v48 >> 11) + v16);
  LODWORD(v44) = v33 + (((v31 >> 11) + v16) << 13);
  LODWORD(v33) = v33 + (((v48 >> 11) - (v31 >> 11)) << 13);
  LODWORD(v16) = (v16 - ((v31 >> 11) + (v48 >> 11))) << 13;
  *v60 = *(v5 + (((v44 + v25) >> 18) & 0x3FF));
  v60[5] = *(v5 + (((v25 - v44) >> 18) & 0x3FF));
  v60[1] = *(v5 + (((v16 + v62) >> 18) & 0x3FF));
  v60[4] = *(v5 + (((v62 - v16) >> 18) & 0x3FF));
  v60[2] = *(v5 + (((v33 + v27) >> 18) & 0x3FF));
  v60[3] = *(v5 + (((v27 - v33) >> 18) & 0x3FF));
  v63 = (a4[2] + a5);
  v64 = (v72 >> 11 << 13) + 134348800;
  v65 = v64 + 5793 * v43;
  v66 = v64 - 11586 * v43;
  LODWORD(v16) = v65 + 10033 * v26;
  v67 = v65 - 10033 * v26;
  v68 = v19 >> 11;
  v69 = v34 >> 11;
  v70 = v51 >> 11;
  LODWORD(v34) = 2998 * ((v51 >> 11) + v68);
  LODWORD(v43) = v34 + ((v69 + v68) << 13);
  result = v69 + (v51 >> 11);
  *v63 = *(v5 + (((v43 + v16) >> 18) & 0x3FF));
  LODWORD(v68) = (v68 - result) << 13;
  v63[5] = *(v5 + (((v16 - v43) >> 18) & 0x3FF));
  v63[1] = *(v5 + (((v68 + v66) >> 18) & 0x3FF));
  LODWORD(v69) = v34 + ((v70 - v69) << 13);
  v63[4] = *(v5 + (((v66 - v68) >> 18) & 0x3FF));
  v63[2] = *(v5 + (((v69 + v67) >> 18) & 0x3FF));
  v63[3] = *(v5 + (((v67 - v69) >> 18) & 0x3FF));
  return result;
}

_BYTE *sub_1003C1BAC(uint64_t a1, uint64_t a2, __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(a2 + 88);
  v6 = *v5 * *a3;
  v7 = v5[8] * a3[8];
  v8 = v7 + v6;
  v9 = v6 - v7;
  v10 = v5[1] * a3[1];
  v11 = v5[9] * a3[9];
  v12 = v11 + v10;
  v13 = v10 - v11;
  v14 = v5[2] * a3[2];
  v15 = v5[10] * a3[10];
  v16 = v15 + v14;
  v17 = v14 - v15;
  v18 = v5[3] * a3[3];
  LODWORD(v5) = v5[11] * a3[11];
  v19 = v5 + v18;
  LODWORD(v5) = v18 - v5;
  v20 = *(a1 + 408) - 384;
  result = (*a4 + a5);
  v8 += 4100;
  v22 = (v8 + v16) << 13;
  v23 = v8 - v16;
  v24 = 4433 * (v19 + v12);
  v25 = v24 + 6270 * v12;
  v26 = v24 - 15137 * v19;
  v23 <<= 13;
  *result = *(v20 + (((v25 + v22) >> 16) & 0x3FF));
  result[3] = *(v20 + (((v22 - v25) >> 16) & 0x3FF));
  result[1] = *(v20 + (((v26 + v23) >> 16) & 0x3FF));
  result[2] = *(v20 + (((v23 - v26) >> 16) & 0x3FF));
  v27 = (a4[1] + a5);
  v9 += 4100;
  v28 = (v9 + v17) << 13;
  v29 = v9 - v17;
  v30 = 4433 * (v5 + v13);
  v31 = v30 + 6270 * v13;
  v29 <<= 13;
  *v27 = *(v20 + (((v31 + v28) >> 16) & 0x3FF));
  LODWORD(v5) = v30 - 15137 * v5;
  v27[3] = *(v20 + (((v28 - v31) >> 16) & 0x3FF));
  v27[1] = *(v20 + (((v5 + v29) >> 16) & 0x3FF));
  v27[2] = *(v20 + (((v29 - v5) >> 16) & 0x3FF));
  return result;
}

uint64_t sub_1003C1D18(uint64_t result, uint64_t a2, unsigned __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(result + 408) - 384;
  v6 = *(a2 + 88);
  v7 = (*a4 + a5);
  v8 = *v6 * *a3 + 4100;
  LODWORD(v6) = v6[1] * a3[1];
  *v7 = *(v5 + (((v6 + v8) >> 3) & 0x3FF));
  v7[1] = *(v5 + (((v8 - v6) >> 3) & 0x3FF));
  return result;
}

uint64_t sub_1003C1D68(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v5 = 0;
  v89 = *(a1 + 408);
  v92 = *(a2 + 88);
  do
  {
    v6 = (v92 + 4 * v5);
    v7 = (a3 + 2 * v5);
    v8 = v6[32] * v7[32];
    v9 = ((*v6 * *v7) << 13) | 0x400;
    v10 = 10703 * v8;
    v8 *= 4433;
    v11 = v10 + v9;
    v12 = v9 - v10;
    v13 = v8 + v9;
    v14 = v9 - v8;
    v15 = v6[16] * v7[16];
    v16 = v6[48] * v7[48];
    v17 = 2260 * (v15 - v16);
    v18 = 11363 * (v15 - v16);
    v19 = v18 + 20995 * v16;
    v20 = v17 + 7373 * v15;
    v21 = v18 - 4926 * v15;
    v22 = v17 - 4176 * v16;
    v23 = v19 + v11;
    v95 = v11 - v19;
    v24 = v20 + v13;
    v94 = v13 - v20;
    v25 = v21 + v14;
    v26 = v14 - v21;
    v27 = v22 + v12;
    v28 = v12 - v22;
    v29 = v6[8] * v7[8];
    v30 = v6[24] * v7[24];
    LODWORD(v22) = v7[40];
    v31 = v6[40];
    v32 = v7[56];
    v33 = v6[56];
    v34 = v29 + v31 * v7[40];
    v35 = 11086 * (v29 + v30);
    v36 = 10217 * v34;
    v37 = 8956 * (v29 + v33 * v32);
    v38 = 7350 * (v29 - v33 * v32);
    v39 = 5461 * v34;
    v40 = 3363 * (v29 - v30);
    v41 = v35 - 18730 * v29 + 10217 * v34 + v37;
    v42 = v40 - 15038 * v29 + 5461 * v34 + v38;
    v43 = 1136 * (v30 + v31 * v22);
    v44 = v30 + v33 * v32;
    v45 = -5461 * v44;
    v46 = v35 + 589 * v30 + v43 - 5461 * v44;
    v47 = v31 * v22;
    v48 = 11529 * (v47 - v30);
    v44 *= -10217;
    v49 = v40 + 16154 * v30 + v48 + v44;
    v50 = v43 - 9222 * v47 + v36 - 11086 * (v47 + v33 * v32);
    v51 = v37 - 11086 * (v47 + v33 * v32);
    v52 = v33 * v32;
    v53 = v45 + 8728 * v52 + v51;
    v54 = 3363 * (v52 - v47);
    v55 = v44 + 25733 * v52 + v38 + v54;
    v56 = &v96[v5];
    v57 = v48 - 6278 * v47 + v39 + v54;
    *v56 = (v41 + v23) >> 11;
    v56[120] = (v23 - v41) >> 11;
    v56[8] = (v46 + v24) >> 11;
    v56[112] = (v24 - v46) >> 11;
    v56[16] = (v50 + v25) >> 11;
    v56[104] = (v25 - v50) >> 11;
    v56[24] = (v53 + v27) >> 11;
    v56[96] = (v27 - v53) >> 11;
    v56[32] = (v55 + v28) >> 11;
    v56[88] = (v28 - v55) >> 11;
    v56[40] = (v57 + v26) >> 11;
    v56[80] = (v26 - v57) >> 11;
    v56[48] = (v49 + v94) >> 11;
    v56[72] = (v94 - v49) >> 11;
    v56[56] = (v42 + v95) >> 11;
    v56[64] = (v95 - v42) >> 11;
    ++v5;
  }

  while (v5 != 8);
  v58 = 0;
  v59 = v89 - 384;
  result = 4294959923;
  do
  {
    v61 = &v96[v58];
    v62 = v61[1];
    v63 = v61[4];
    v64 = v61[5];
    v65 = *v61 + 16400;
    v66 = v65 + v63;
    v67 = v65 - v63;
    v68 = v61[6];
    v69 = v61[7];
    v66 <<= 13;
    v70 = v61[2];
    LODWORD(v61) = v61[3];
    v71 = 4433 * (v68 + v70);
    v72 = v71 + 6270 * v70;
    v73 = v71 - 15137 * v68;
    v74 = v61 + v69;
    v75 = v62 + v64;
    v76 = -7373 * (v62 + v69);
    v77 = v76 + 2446 * v69;
    v78 = v76 + 12299 * v62;
    v79 = 9633 * (v75 + v74);
    v80 = v79 - 3196 * v75;
    v81 = v78 + v80;
    v82 = v79 - 16069 * v74;
    v83 = -20995 * (v61 + v64);
    v84 = (v72 + v66 - v81);
    v85 = (*(a4 + v58) + a5);
    v67 <<= 13;
    *v85 = *(v59 + (((v81 + v72 + v66) >> 18) & 0x3FF));
    v86 = v73 + v67;
    LODWORD(v61) = v83 + 25172 * v61 + v82;
    v87 = v67 - v73;
    v85[7] = *(v59 + ((v84 >> 18) & 0x3FF));
    v88 = v83 + 16819 * v64 + v80;
    v85[1] = *(v59 + (((v61 + v86) >> 18) & 0x3FF));
    v85[6] = *(v59 + (((v86 - v61) >> 18) & 0x3FF));
    v85[2] = *(v59 + (((v88 + v87) >> 18) & 0x3FF));
    v85[5] = *(v59 + (((v87 - v88) >> 18) & 0x3FF));
    v85[3] = *(v59 + (((v77 + v82 + v66 - v72) >> 18) & 0x3FF));
    v85[4] = *(v59 + (((v66 - v72 - (v77 + v82)) >> 18) & 0x3FF));
    v58 += 8;
  }

  while (v58 != 128);
  return result;
}

uint64_t sub_1003C2240(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4, unsigned int a5)
{
  v5 = 0;
  v74 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = v7[32] * v8[32];
    v10 = ((*v7 * *v8) << 13) | 0x400;
    v11 = v10 + 10438 * v9;
    v12 = v10 + 2578 * v9;
    v13 = v10 - 7223 * v9;
    v14 = v7[16] * v8[16];
    v15 = v7[48] * v8[48];
    v16 = 9058 * (v14 + v15);
    v17 = v16 + 2237 * v14;
    v18 = v16 - 14084 * v15;
    v19 = 5027 * v14 - 11295 * v15;
    v20 = v17 + v11;
    v21 = v11 - v17;
    v22 = v18 + v12;
    v23 = v12 - v18;
    v24 = v19 + v13;
    v25 = v13 - v19;
    v26 = v7[8] * v8[8];
    v27 = v7[24] * v8[24];
    v28 = v7[40] * v8[40];
    v29 = v7[56] * v8[56];
    v30 = 10935 * (v26 + v27);
    v31 = 9810 * (v26 + v28);
    v32 = v30 - 9232 * v26 + v31 + (v29 << 13);
    v33 = -8192 * v29 - 1297 * (v27 + v28);
    v34 = v30 - 3474 * v27 + v33;
    v35 = v31 - 19447 * v28 + v33;
    v36 = 6164 * (v26 + v28);
    v37 = 11512 * (v28 - v27);
    v38 = v37 - 13850 * v28 + v36 + (v29 << 13);
    LODWORD(v17) = v26 - v27;
    v39 = -8192 * v29 + 3826 * (v26 - v27);
    v40 = v36 - 8693 * v26 + v39;
    v41 = v37 + 5529 * v27 + v39;
    v42 = &v76[4 * v5];
    *v42 = (v32 + v20) >> 11;
    v42[91] = (v20 - v32) >> 11;
    v42[7] = (v34 + v22) >> 11;
    v42[84] = (v22 - v34) >> 11;
    v42[14] = (v35 + v24) >> 11;
    v43 = (v10 - 11586 * v9) >> 11;
    LODWORD(v22) = 4 * (v17 - v28 + v29);
    v42[77] = (v24 - v35) >> 11;
    v42[21] = v22 + v43;
    v42[70] = v43 - v22;
    v42[28] = (v38 + v25) >> 11;
    v42[63] = (v25 - v38) >> 11;
    v42[35] = (v41 + v23) >> 11;
    v42[56] = (v23 - v41) >> 11;
    v42[42] = (v40 + v21) >> 11;
    v42[49] = (v21 - v40) >> 11;
    ++v5;
  }

  while (v5 != 7);
  v44 = 0;
  v45 = v74 - 384;
  result = 11585;
  do
  {
    v47 = *a4++;
    v48 = *&v76[v44 + 4];
    v49 = (*&v76[v44] << 13) + 134348800;
    v51 = *&v76[v44 + 20];
    v50 = *&v76[v44 + 24];
    v52 = *&v76[v44 + 16];
    v53 = 7223 * (v52 - v50);
    v55 = *&v76[v44 + 8];
    v54 = *&v76[v44 + 12];
    v56 = 2578 * (v55 - v52);
    v57 = v56 + v53;
    v58 = v50 + v55;
    v59 = v53 - 637 * v50;
    v60 = 7663 * (v54 + v48);
    v61 = v56 - 20239 * v55;
    v62 = 1395 * (v48 - v54);
    v63 = v60 - v62;
    v64 = v60 + v62;
    v65 = v49 + 10438 * v58;
    v66 = v59 + v65;
    v67 = 5027 * (v51 + v48);
    v68 = v63 + v67;
    v69 = v49 - 15083 * v52 + v57;
    v70 = (v47 + a5);
    *v70 = *(v45 + (((v68 + v66) >> 18) & 0x3FF));
    v71 = -11295 * (v51 + v54);
    v72 = v64 + v71;
    v70[6] = *(v45 + (((v66 - v68) >> 18) & 0x3FF));
    v73 = v67 + 15326 * v51 + v71;
    v70[1] = *(v45 + (((v72 + v69) >> 18) & 0x3FF));
    v70[5] = *(v45 + (((v69 - v72) >> 18) & 0x3FF));
    v70[2] = *(v45 + (((v73 + v61 + v65) >> 18) & 0x3FF));
    v70[4] = *(v45 + (((v61 + v65 - v73) >> 18) & 0x3FF));
    v70[3] = *(v45 + (((v49 + 11585 * (v52 - v58)) >> 18) & 0x3FF));
    v44 += 28;
  }

  while (v44 != 392);
  return result;
}

uint64_t sub_1003C2658(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4, unsigned int a5)
{
  v5 = 0;
  v64 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = ((*v7 * *v8) << 13) | 0x400;
    v10 = 10033 * v7[32] * v8[32];
    v11 = v10 + v9;
    v12 = v9 - v10;
    v13 = v7[16] * v8[16];
    v14 = v7[48];
    v15 = (v14 * v8[48]) << 13;
    v16 = (v13 - v14 * v8[48]) << 13;
    v17 = v16 + v9;
    v18 = v9 - v16;
    v19 = v15 + 11190 * v13;
    v20 = v19 + v11;
    v21 = v11 - v19;
    v22 = 2998 * v13 - v15;
    v23 = v22 + v12;
    v24 = v12 - v22;
    v25 = v7[8] * v8[8];
    v26 = v7[24] * v8[24];
    v27 = v7[40] * v8[40];
    LODWORD(v8) = v8[56];
    LODWORD(v7) = v7[56];
    v28 = 10703 * v26;
    v29 = -4433 * v26;
    v30 = 7053 * (v25 + v27 + v7 * v8);
    v31 = v30 + 2139 * (v25 + v27);
    v32 = v26 - v27;
    v33 = v28 + 2295 * v25 + v31;
    v34 = -8565 * (v27 + v7 * v8);
    v35 = v29 - 12112 * v27 - 8565 * (v27 + v7 * v8) + v31;
    v36 = v7 * v8;
    v37 = v25 - v36;
    v38 = v29 - 5540 * v25 - 16244 * v36;
    v39 = &v66[4 * v5];
    v40 = 12998 * v36 - v28 + v34 + v30;
    v41 = v38 + v30;
    v42 = 4433 * (v37 + v32);
    v43 = v42 + 6270 * v37;
    v44 = v42 - 15137 * v32;
    *v39 = (v33 + v20) >> 11;
    v39[66] = (v20 - v33) >> 11;
    v39[6] = (v43 + v17) >> 11;
    v39[60] = (v17 - v43) >> 11;
    v39[12] = (v35 + v23) >> 11;
    v39[54] = (v23 - v35) >> 11;
    v39[18] = (v40 + v24) >> 11;
    v39[48] = (v24 - v40) >> 11;
    v39[24] = (v44 + v18) >> 11;
    v39[42] = (v18 - v44) >> 11;
    v39[30] = (v41 + v21) >> 11;
    v39[36] = (v21 - v41) >> 11;
    ++v5;
  }

  while (v5 != 6);
  v45 = 0;
  v46 = v64 - 384;
  do
  {
    v47 = *a4++;
    v48 = (v47 + a5);
    v49 = *&v66[v45 + 4];
    v50 = *&v66[v45 + 16];
    v51 = *&v66[v45 + 20];
    v52 = (*&v66[v45] << 13) + 134348800;
    v53 = v52 + 5793 * v50;
    v54 = *&v66[v45 + 12];
    v55 = 10033 * *&v66[v45 + 8];
    v56 = 2998 * (v51 + v49);
    v57 = v51 - v54;
    v58 = v54 + v51;
    v59 = v56 + ((v54 + v49) << 13);
    v60 = v52 - 11586 * v50;
    v61 = (v49 - v58) << 13;
    *v48 = *(v46 + (((v59 + v53 + v55) >> 18) & 0x3FF));
    v62 = v56 + (v57 << 13);
    v48[5] = *(v46 + (((v53 + v55 - v59) >> 18) & 0x3FF));
    v48[1] = *(v46 + (((v61 + v60) >> 18) & 0x3FF));
    v48[4] = *(v46 + (((v60 - v61) >> 18) & 0x3FF));
    v48[2] = *(v46 + (((v62 + v53 - v55) >> 18) & 0x3FF));
    result = *(v46 + (((v53 - v55 - v62) >> 18) & 0x3FF));
    v48[3] = result;
    v45 += 24;
  }

  while (v45 != 288);
  return result;
}

uint64_t sub_1003C29C8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4, unsigned int a5)
{
  v5 = 0;
  v53 = *(a1 + 408);
  v6 = *(a2 + 88);
  do
  {
    v7 = (v6 + 4 * v5);
    v8 = (a3 + 2 * v5);
    v9 = ((*v7 * *v8) << 13) | 0x400;
    v10 = v7[32] * v8[32];
    v11 = v9 + 9373 * v10;
    v12 = v9 - 3580 * v10;
    v13 = v9 - 11586 * v10;
    v14 = v7[16] * v8[16];
    v15 = v7[48] * v8[48];
    v16 = 6810 * (v14 + v15);
    v17 = v16 + 4209 * v14;
    v18 = v16 - 17828 * v15;
    v19 = v17 + v11;
    v20 = v11 - v17;
    v21 = v18 + v12;
    v22 = v12 - v18;
    v23 = v7[8] * v8[8];
    v24 = v7[24] * v8[24];
    v25 = v7[40] * v8[40];
    LODWORD(v8) = v8[56];
    LODWORD(v7) = v7[56];
    v26 = v24 + v7 * v8;
    v27 = v24 - v7 * v8;
    v28 = (v25 << 13) + 2531 * v27;
    v29 = 7791 * v26 + 11443 * v23 + v28;
    v30 = 1812 * v23 - 7791 * v26 + v28;
    v31 = (v25 << 13) - 6627 * v27;
    LODWORD(v27) = v23 - v25 - v27;
    v32 = 10323 * v23 - (4815 * v26 + v31);
    v33 = &v55[4 * v5];
    v34 = 5260 * v23 - 4815 * v26 + v31;
    *v33 = (v29 + v19) >> 11;
    v33[45] = (v19 - v29) >> 11;
    v33[5] = (v32 + v21) >> 11;
    LODWORD(v27) = 4 * v27;
    v33[40] = (v21 - v32) >> 11;
    v33[10] = v27 + (v13 >> 11);
    v33[35] = (v13 >> 11) - v27;
    v33[15] = (v34 + v22) >> 11;
    v33[30] = (v22 - v34) >> 11;
    v33[20] = (v30 + v20) >> 11;
    v33[25] = (v20 - v30) >> 11;
    ++v5;
  }

  while (v5 != 5);
  v35 = 0;
  v36 = v53 - 384;
  result = a5;
  do
  {
    v38 = *a4++;
    v39 = *&v55[v35 + 4];
    v40 = (v38 + a5);
    v41 = (*&v55[v35] << 13) + 134348800;
    v42 = *&v55[v35 + 8];
    v43 = *&v55[v35 + 12];
    v44 = *&v55[v35 + 16];
    v45 = 6476 * (v44 + v42);
    v46 = v42 - v44;
    v47 = v41 + 2896 * v46;
    v48 = 6810 * (v43 + v39);
    v49 = v47 + v45;
    v50 = v48 + 4209 * v39;
    v51 = v48 - 17828 * v43;
    *v40 = *(v36 + (((v50 + v47 + v45) >> 18) & 0x3FF));
    v52 = v47 - v45;
    v40[4] = *(v36 + (((v49 - v50) >> 18) & 0x3FF));
    v40[1] = *(v36 + (((v51 + v52) >> 18) & 0x3FF));
    v40[3] = *(v36 + (((v52 - v51) >> 18) & 0x3FF));
    v40[2] = *(v36 + (((v41 + 268423872 * v46) >> 18) & 0x3FF));
    v35 += 20;
  }

  while (v35 != 200);
  return result;
}

uint64_t sub_1003C2CD8(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, unsigned int a5)
{
  v92 = *(a1 + 408);
  v5 = (a3 + 64);
  v6 = &v95;
  v7 = 5;
  v8 = *(a2 + 88);
  do
  {
    v9 = *(v5 - 16);
    if (*(v5 - 24) | v9)
    {
      goto LABEL_9;
    }

    if (*(v5 - 8) || *v5 || v5[8] || v5[16] || v5[24])
    {
      v9 = 0;
LABEL_9:
      v10 = v8[16] * v9;
      v11 = v8[48] * v5[16];
      v12 = 4433 * (v10 + v11);
      v13 = v12 + 6270 * v10;
      v14 = v12 - 15137 * v11;
      v15 = (v8[32] * *v5) << 13;
      v16 = ((*v8 * *(v5 - 32)) << 13) | 0x400;
      v17 = v15 + v16;
      v18 = v16 - v15;
      v19 = v17 + v13;
      v20 = v17 - v13;
      v21 = v18 + v14;
      v22 = v18 - v14;
      v23 = v8[56] * v5[24];
      v24 = v8[40] * v5[8];
      v25 = v8[24];
      v26 = v8[8] * *(v5 - 24);
      v27 = v23 + v25 * *(v5 - 8);
      v28 = 9633 * (v24 + v26 + v27);
      v29 = v28 - 16069 * v27;
      v30 = v28 - 3196 * (v24 + v26);
      v31 = -7373 * (v23 + v26);
      v32 = v31 + 2446 * v23 + v29;
      v33 = v31 + 12299 * v26 + v30;
      v34 = -20995 * (v24 + v25 * *(v5 - 8));
      v35 = v34 + 16819 * v24 + v30;
      v36 = v34 + 25172 * v25 * *(v5 - 8) + v29;
      *v6 = (v33 + v19) >> 11;
      v6[28] = (v19 - v33) >> 11;
      v6[4] = (v36 + v21) >> 11;
      v6[24] = (v21 - v36) >> 11;
      v6[8] = (v35 + v22) >> 11;
      v6[20] = (v22 - v35) >> 11;
      v6[12] = (v32 + v20) >> 11;
      v37 = (v20 - v32) >> 11;
      v38 = 16;
      goto LABEL_10;
    }

    LODWORD(v37) = 4 * *(v5 - 32) * *v8;
    *v6 = v37;
    v6[4] = v37;
    v6[8] = v37;
    v6[12] = v37;
    v6[16] = v37;
    v6[20] = v37;
    v6[24] = v37;
    v38 = 28;
LABEL_10:
    v6[v38] = v37;
    ++v6;
    ++v8;
    --v7;
    ++v5;
  }

  while (v7 > 1);
  v39 = (*a4 + a5);
  v40 = v98;
  v41 = (v95 + 16400 + v97) << 13;
  v42 = (v95 + 16400 - v97) << 13;
  v43 = 4433 * (v98 + v96);
  v44 = v43 + 6270 * v96;
  *v39 = *(v92 - 384 + (((v44 + v41) >> 18) & 0x3FF));
  v45 = v43 - 15137 * v40;
  v39[3] = *(v92 - 384 + (((v41 - v44) >> 18) & 0x3FF));
  v39[1] = *(v92 - 384 + (((v45 + v42) >> 18) & 0x3FF));
  v39[2] = *(v92 - 384 + (((v42 - v45) >> 18) & 0x3FF));
  v46 = (a4[1] + a5);
  v47 = v102;
  v48 = (v99 + 16400 + v101) << 13;
  v49 = 4433 * (v102 + v100);
  v50 = v49 + 6270 * v100;
  v51 = (v99 + 16400 - v101) << 13;
  *v46 = *(v92 - 384 + (((v50 + v48) >> 18) & 0x3FF));
  v52 = v49 - 15137 * v47;
  v46[3] = *(v92 - 384 + (((v48 - v50) >> 18) & 0x3FF));
  v46[1] = *(v92 - 384 + (((v52 + v51) >> 18) & 0x3FF));
  v46[2] = *(v92 - 384 + (((v51 - v52) >> 18) & 0x3FF));
  v53 = (a4[2] + a5);
  v54 = v106;
  v55 = (v103 + 16400 + v105) << 13;
  v56 = 4433 * (v106 + v104);
  v57 = v56 + 6270 * v104;
  v58 = (v103 + 16400 - v105) << 13;
  *v53 = *(v92 - 384 + (((v57 + v55) >> 18) & 0x3FF));
  v59 = v56 - 15137 * v54;
  v53[3] = *(v92 - 384 + (((v55 - v57) >> 18) & 0x3FF));
  v53[1] = *(v92 - 384 + (((v59 + v58) >> 18) & 0x3FF));
  v53[2] = *(v92 - 384 + (((v58 - v59) >> 18) & 0x3FF));
  v60 = (a4[3] + a5);
  v61 = v110;
  v62 = (v107 + 16400 + v109) << 13;
  v63 = 4433 * (v110 + v108);
  v64 = v63 + 6270 * v108;
  v65 = (v107 + 16400 - v109) << 13;
  *v60 = *(v92 - 384 + (((v64 + v62) >> 18) & 0x3FF));
  v66 = v63 - 15137 * v61;
  v60[3] = *(v92 - 384 + (((v62 - v64) >> 18) & 0x3FF));
  v60[1] = *(v92 - 384 + (((v66 + v65) >> 18) & 0x3FF));
  v60[2] = *(v92 - 384 + (((v65 - v66) >> 18) & 0x3FF));
  v67 = (a4[4] + a5);
  v68 = v114;
  v69 = (v111 + 16400 + v113) << 13;
  v70 = v111 + 16400 - v113;
  v71 = 4433 * (v114 + v112);
  v72 = v71 + 6270 * v112;
  *v67 = *(v92 - 384 + (((v72 + v69) >> 18) & 0x3FF));
  v70 <<= 13;
  v73 = v71 - 15137 * v68;
  v67[3] = *(v92 - 384 + (((v69 - v72) >> 18) & 0x3FF));
  v67[1] = *(v92 - 384 + (((v73 + v70) >> 18) & 0x3FF));
  v67[2] = *(v92 - 384 + (((v70 - v73) >> 18) & 0x3FF));
  v74 = (a4[5] + a5);
  v75 = (v115 + 16400 + v117) << 13;
  v76 = 4433 * (v118 + v116);
  v77 = v76 + 6270 * v116;
  v78 = v76 - 15137 * v118;
  v79 = (v115 + 16400 - v117) << 13;
  *v74 = *(v92 - 384 + (((v77 + v75) >> 18) & 0x3FF));
  v74[3] = *(v92 - 384 + (((v75 - v77) >> 18) & 0x3FF));
  v74[1] = *(v92 - 384 + (((v78 + v79) >> 18) & 0x3FF));
  v74[2] = *(v92 - 384 + (((v79 - v78) >> 18) & 0x3FF));
  v80 = (a4[6] + a5);
  v81 = (v119 + 16400 + v121) << 13;
  v82 = (v119 + 16400 - v121) << 13;
  v83 = 4433 * (v122 + v120);
  v84 = v83 + 6270 * v120;
  v85 = v83 - 15137 * v122;
  result = *(v92 - 384 + (((v84 + v81) >> 18) & 0x3FF));
  *v80 = result;
  v80[3] = *(v92 - 384 + (((v81 - v84) >> 18) & 0x3FF));
  v80[1] = *(v92 - 384 + (((v85 + v82) >> 18) & 0x3FF));
  v80[2] = *(v92 - 384 + (((v82 - v85) >> 18) & 0x3FF));
  v87 = (a4[7] + a5);
  v88 = (v123 + 16400 + v125) << 13;
  v89 = (v123 + 16400 - v125) << 13;
  v90 = 4433 * (v126 + v124) + 6270 * v124;
  v91 = 4433 * (v126 + v124) - 15137 * v126;
  *v87 = *(v92 - 384 + (((v90 + v88) >> 18) & 0x3FF));
  v87[3] = *(v92 - 384 + (((v88 - v90) >> 18) & 0x3FF));
  v87[1] = *(v92 - 384 + (((v91 + v89) >> 18) & 0x3FF));
  v87[2] = *(v92 - 384 + (((v89 - v91) >> 18) & 0x3FF));
  return result;
}

uint64_t sub_1003C3334(uint64_t a1, uint64_t a2, __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(a1 + 408);
  v6 = *(a2 + 88);
  v7 = ((*v6 * *a3) << 13) | 0x400;
  v8 = v6[32] * a3[32];
  v9 = v7 + 5793 * v8;
  v10 = (v7 - 11586 * v8) >> 11;
  LODWORD(v8) = 10033 * v6[16] * a3[16];
  v11 = v8 + v9;
  v12 = v9 - v8;
  LODWORD(v8) = v6[8] * a3[8];
  v13 = v6[25];
  v14 = v6[24] * a3[24];
  v15 = v6[40] * a3[40];
  v16 = 2998 * (v15 + v8);
  v17 = v16 + ((v14 + v8) << 13);
  v18 = v16 + ((v15 - v14) << 13);
  v19 = 4 * (v8 - v14 - v15);
  v20 = v17 + v11;
  LODWORD(v8) = v11 - v17;
  v21 = v19 + v10;
  v22 = v10 - v19;
  v23 = v18 + v12;
  LODWORD(v10) = v12 - v18;
  v24 = ((v6[1] * a3[1]) << 13) | 0x400;
  v25 = v6[33] * a3[33];
  v26 = v24 + 5793 * v25;
  v27 = (v24 - 11586 * v25) >> 11;
  v28 = 10033 * v6[17] * a3[17];
  v29 = v28 + v26;
  v30 = v26 - v28;
  v31 = v6[9] * a3[9];
  v32 = v6[41] * a3[41];
  v33 = 2998 * (v31 + v32);
  v34 = v33 + ((v31 + v13 * a3[25]) << 13);
  v35 = v33 + ((v32 - v13 * a3[25]) << 13);
  LODWORD(v26) = 4 * (v31 - (v13 * a3[25] + v32));
  v36 = (v34 + v29) >> 11;
  v37 = (v29 - v34) >> 11;
  v38 = v26 + v27;
  LODWORD(v27) = v27 - v26;
  v39 = (v35 + v30) >> 11;
  v40 = (v30 - v35) >> 11;
  v41 = ((v6[2] * a3[2]) << 13) | 0x400;
  v42 = v6[34] * a3[34];
  v43 = v41 + 5793 * v42;
  v44 = (v41 - 11586 * v42) >> 11;
  v45 = 10033 * v6[18] * a3[18];
  v46 = v45 + v43;
  v47 = v43 - v45;
  v48 = v6[10] * a3[10];
  LODWORD(v34) = a3[26];
  LODWORD(v32) = v6[26];
  v49 = v6[42] * a3[42];
  v50 = 2998 * (v48 + v49);
  v51 = v50 + ((v48 + v32 * a3[26]) << 13);
  v52 = v50 + ((v49 - v32 * v34) << 13);
  LODWORD(v48) = 4 * (v48 - (v32 * v34 + v49));
  v53 = (v51 + v46) >> 11;
  v54 = (v46 - v51) >> 11;
  LODWORD(v32) = v48 + v44;
  LODWORD(v48) = v44 - v48;
  v55 = (v52 + v47) >> 11;
  v56 = (v47 - v52) >> 11;
  v5 -= 384;
  v57 = (*a4 + a5);
  v58 = (v20 >> 11 << 13) + 134348800;
  v59 = v58 + 5793 * v53;
  LODWORD(v36) = 10033 * v36;
  *v57 = *(v5 + (((v59 + v36) >> 18) & 0x3FF));
  v57[2] = *(v5 + (((v59 - v36) >> 18) & 0x3FF));
  v57[1] = *(v5 + (((v58 + 268423870 * v53) >> 18) & 0x3FF));
  v60 = (a4[1] + a5);
  v61 = (v21 << 13) + 134348800;
  LODWORD(v36) = v61 + 5793 * v32;
  v38 *= 10033;
  *v60 = *(v5 + (((v36 + v38) >> 18) & 0x3FF));
  v60[2] = *(v5 + (((v36 - v38) >> 18) & 0x3FF));
  v60[1] = *(v5 + (((v61 + 268423870 * v32) >> 18) & 0x3FF));
  v62 = (a4[2] + a5);
  v63 = (v23 >> 11 << 13) + 134348800;
  LODWORD(v60) = v63 + 5793 * v55;
  LODWORD(v39) = 10033 * v39;
  *v62 = *(v5 + (((v60 + v39) >> 18) & 0x3FF));
  v62[2] = *(v5 + (((v60 - v39) >> 18) & 0x3FF));
  v62[1] = *(v5 + (((v63 + 268423870 * v55) >> 18) & 0x3FF));
  v64 = (a4[3] + a5);
  LODWORD(v10) = (v10 >> 11 << 13) + 134348800;
  LODWORD(v62) = v10 + 5793 * v56;
  LODWORD(v40) = 10033 * v40;
  *v64 = *(v5 + (((v62 + v40) >> 18) & 0x3FF));
  v64[2] = *(v5 + (((v62 - v40) >> 18) & 0x3FF));
  v64[1] = *(v5 + (((v10 + 268423870 * v56) >> 18) & 0x3FF));
  v65 = (a4[4] + a5);
  v66 = (v22 << 13) + 134348800;
  LODWORD(v64) = v66 + 5793 * v48;
  LODWORD(v27) = 10033 * v27;
  result = *(v5 + (((v64 + v27) >> 18) & 0x3FF));
  *v65 = result;
  v65[2] = *(v5 + (((v64 - v27) >> 18) & 0x3FF));
  v65[1] = *(v5 + (((v66 + 268423870 * v48) >> 18) & 0x3FF));
  LODWORD(v8) = (v8 >> 11 << 13) + 134348800;
  v68 = v8 + 5793 * v54;
  v69 = (a4[5] + a5);
  *v69 = *(v5 + (((v68 + 10033 * v37) >> 18) & 0x3FF));
  v69[2] = *(v5 + (((v68 - 10033 * v37) >> 18) & 0x3FF));
  v69[1] = *(v5 + (((v8 + 268423870 * v54) >> 18) & 0x3FF));
  return result;
}

uint64_t sub_1003C373C(uint64_t a1, uint64_t a2, __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(a1 + 408);
  v6 = *(a2 + 88);
  v7 = v6[1];
  v8 = *v6 * *a3;
  v9 = v6[17];
  v10 = v6[16] * a3[16];
  v11 = (v10 + v8) << 13;
  v12 = (v8 - v10) << 13;
  v13 = v6[9];
  v14 = v6[8] * a3[8];
  v15 = v6[25];
  LODWORD(v6) = v6[24] * a3[24];
  v16 = 4433 * (v6 + v14);
  v17 = v16 + 6270 * v14;
  v18 = v16 - 15137 * v6;
  LODWORD(v6) = v11 - v17;
  v19 = v12 - v18;
  v20 = v7 * a3[1];
  v21 = v9 * a3[17];
  v22 = (v21 + v20) << 13;
  v23 = (v20 - v21) << 13;
  v24 = v13 * a3[9];
  v25 = v15 * a3[25];
  v26 = 4433 * (v25 + v24);
  v27 = v26 + 6270 * v24;
  v28 = v26 - 15137 * v25;
  v29 = v27 + v22;
  v30 = v22 - v27;
  v31 = v28 + v23;
  v5 -= 384;
  result = a5;
  v33 = v17 + v11 + 33587200;
  v34 = (*a4 + a5);
  *v34 = *(v5 + (((v33 + v29) >> 16) & 0x3FF));
  v35 = v23 - v28;
  v34[1] = *(v5 + (((v33 - v29) >> 16) & 0x3FF));
  v36 = (a4[1] + a5);
  v37 = v18 + v12 + 33587200;
  *v36 = *(v5 + (((v37 + v31) >> 16) & 0x3FF));
  v36[1] = *(v5 + (((v37 - v31) >> 16) & 0x3FF));
  v38 = (a4[2] + a5);
  v19 += 33587200;
  *v38 = *(v5 + (((v19 + v35) >> 16) & 0x3FF));
  v38[1] = *(v5 + (((v19 - v35) >> 16) & 0x3FF));
  v39 = (a4[3] + a5);
  LODWORD(v6) = v6 + 33587200;
  *v39 = *(v5 + (((v6 + v30) >> 16) & 0x3FF));
  v39[1] = *(v5 + (((v6 - v30) >> 16) & 0x3FF));
  return result;
}

uint64_t sub_1003C38C4(uint64_t result, uint64_t a2, unsigned __int16 *a3, void *a4, unsigned int a5)
{
  v5 = *(result + 408) - 384;
  v6 = *(a2 + 88);
  v7 = *v6 * *a3 + 4100;
  LODWORD(v6) = v6[8] * a3[8];
  *(*a4 + a5) = *(v5 + (((v6 + v7) >> 3) & 0x3FF));
  *(a4[1] + a5) = *(v5 + (((v7 - v6) >> 3) & 0x3FF));
  return result;
}

const char *sub_1003C3918(void *a1)
{
  a1[1] = 0;
  v2 = OpenCVWrapperContours.startIndex.getter();
  v7 = v2;
  v3 = sub_1003C4D4C(a1, 0xA8uLL);
  if (!v3)
  {
    nullsub_1(a1);
    *(*a1 + 40) = 56;
    (**a1)(a1);
  }

  *v3 = sub_1003C3AC8;
  *(v3 + 1) = sub_1003C3C80;
  *(v3 + 2) = sub_1003C3DA0;
  *(v3 + 3) = sub_1003C3F78;
  *(v3 + 4) = sub_1003C424C;
  *(v3 + 5) = sub_1003C42EC;
  *(v3 + 6) = sub_1003C438C;
  *(v3 + 7) = sub_1003C458C;
  *(v3 + 8) = sub_1003C488C;
  *(v3 + 9) = sub_1003C4B9C;
  *(v3 + 11) = v2;
  *(v3 + 12) = 1000000000;
  *(v3 + 10) = sub_1003C4CF0;
  *(v3 + 104) = 0u;
  *(v3 + 120) = 0u;
  *(v3 + 136) = 0u;
  *(v3 + 19) = 168;
  a1[1] = v3;
  result = getenv("JPEGMEM");
  if (result)
  {
    v6 = 120;
    result = sscanf(result, "%ld%c", &v7, &v6);
    if (result >= 1)
    {
      if ((v6 & 0xDF) == 0x4D)
      {
        v5 = 1000 * v7;
      }

      else
      {
        v5 = v7;
      }

      *(v3 + 11) = 1000 * v5;
    }
  }

  return result;
}

uint64_t sub_1003C3AC8(void *a1, signed int a2, unint64_t a3)
{
  v6 = a1[1];
  if (a3 > 0x3B9AC9E8)
  {
    *(*a1 + 40) = 0x100000038;
    (**a1)(a1);
    v7 = a3 + 7;
    if (a2 < 2)
    {
LABEL_3:
      v8 = v7 & 0xFFFFFFFFFFFFFFF8;
      v9 = v6 + 8 * a2;
      v12 = *(v9 + 104);
      v11 = (v9 + 104);
      v10 = v12;
      if (v12)
      {
        goto LABEL_4;
      }

LABEL_9:
      v13 = 0;
LABEL_10:
      v17 = v8 + 24;
      v18 = &unk_1003EC938;
      if (!v13)
      {
        v18 = &unk_1003EC928;
      }

      v19 = v18[a2];
      if (v19 >= 999999976 - v8)
      {
        v20 = 999999976 - v8;
      }

      else
      {
        v20 = v19;
      }

      v21 = v17 + v20;
      for (i = sub_1003C4D4C(a1, v17 + v20); !i; i = sub_1003C4D4C(a1, v17 + v20))
      {
        if (v20 <= 0x63)
        {
          *(*a1 + 40) = 0x200000038;
          (**a1)(a1);
        }

        v20 >>= 1;
        v21 = v17 + v20;
      }

      *(v6 + 152) += v21;
      *i = 0;
      i[1] = 0;
      i[2] = v20 + v8;
      if (v13)
      {
        v23 = v13;
      }

      else
      {
        v23 = v11;
      }

      *v23 = i;
      v13 = i;
      goto LABEL_20;
    }
  }

  else
  {
    v7 = a3 + 7;
    if (a2 < 2)
    {
      goto LABEL_3;
    }
  }

  v14 = *a1;
  *(v14 + 40) = 15;
  *(v14 + 44) = a2;
  (**a1)(a1);
  v8 = v7 & 0xFFFFFFFFFFFFFFF8;
  v15 = v6 + 8 * a2;
  v16 = *(v15 + 104);
  v11 = (v15 + 104);
  v10 = v16;
  if (!v16)
  {
    goto LABEL_9;
  }

LABEL_4:
  while (1)
  {
    v13 = v10;
    if (v10[2] >= v8)
    {
      break;
    }

    v10 = *v10;
    if (!*v13)
    {
      goto LABEL_10;
    }
  }

LABEL_20:
  v24 = v13[1];
  v25 = v13[2] - v8;
  v13[1] = v24 + v8;
  v13[2] = v25;
  return v13 + v24 + 24;
}

void *sub_1003C3C80(void *a1, unsigned int a2, unint64_t a3)
{
  v6 = a1[1];
  if (a3 < 0x3B9AC9E9)
  {
    v7 = (a3 + 7) & 0xFFFFFFFFFFFFFFF8;
    if (a2 < 2)
    {
      goto LABEL_3;
    }

LABEL_6:
    v12 = *a1;
    *(v12 + 10) = 15;
    *(v12 + 11) = a2;
    (**a1)(a1);
    v8 = v7 + 24;
    v9 = sub_1003C4D64(a1, v7 + 24);
    if (v9)
    {
      goto LABEL_4;
    }

LABEL_7:
    *(*a1 + 40) = 0x400000038;
    (**a1)(a1);
    goto LABEL_4;
  }

  *(*a1 + 40) = 0x300000038;
  (**a1)(a1);
  v7 = (a3 + 7) & 0xFFFFFFFFFFFFFFF8;
  if (a2 >= 2)
  {
    goto LABEL_6;
  }

LABEL_3:
  v8 = v7 + 24;
  v9 = sub_1003C4D64(a1, v7 + 24);
  if (!v9)
  {
    goto LABEL_7;
  }

LABEL_4:
  *(v6 + 152) += v8;
  v10 = v6 + 8 * a2;
  *v9 = *(v10 + 120);
  v9[1] = v7;
  v9[2] = 0;
  *(v10 + 120) = v9;
  return v9 + 3;
}

uint64_t sub_1003C3DA0(void *a1, signed int a2, unsigned int a3, unsigned int a4)
{
  v7 = a1[1];
  v8 = 0x3B9AC9E8 / a3;
  if (a3 > 0x3B9AC9E8)
  {
    v9 = *a1;
    *(v9 + 40) = 72;
    (*v9)(a1);
  }

  if (v8 >= a4)
  {
    v10 = a4;
  }

  else
  {
    v10 = v8;
  }

  *(v7 + 160) = v10;
  v11 = sub_1003C3AC8(a1, a2, 8 * a4);
  if (a4)
  {
    v12 = 0;
    v13 = a3;
    do
    {
      if (v10 >= a4 - v12)
      {
        v10 = a4 - v12;
      }

      v15 = v13 * v10;
      v16 = a1[1];
      if (v15 >= 0x3B9AC9E9)
      {
        *(*a1 + 40) = 0x300000038;
        (**a1)(a1);
      }

      if (a2 >= 2)
      {
        v17 = *a1;
        *(v17 + 40) = 15;
        *(v17 + 44) = a2;
        (**a1)(a1);
      }

      v18 = (v15 + 7) & 0x7FFFFFFFFFFFFFF8;
      v19 = sub_1003C4D64(a1, v18 + 24);
      if (!v19)
      {
        *(*a1 + 40) = 0x400000038;
        (**a1)(a1);
      }

      *(v16 + 152) += v18 + 24;
      v20 = v16 + 8 * a2;
      *v19 = *(v20 + 120);
      v19[1] = v18;
      v19[2] = 0;
      *(v20 + 120) = v19;
      if (v10)
      {
        v21 = v19 + 3;
        v22 = v10;
        do
        {
          v14 = (v12 + 1);
          *(v11 + 8 * v12) = v21;
          v21 = (v21 + v13);
          LODWORD(v12) = v12 + 1;
          --v22;
        }

        while (v22);
      }

      else
      {
        v14 = v12;
      }

      v12 = v14;
    }

    while (v14 < a4);
  }

  return v11;
}

uint64_t sub_1003C3F78(void *a1, signed int a2, unsigned int a3, unsigned int a4)
{
  v7 = a1[1];
  v32 = a3 << 7;
  if (a3 >= 0x773594)
  {
    v8 = *a1;
    *(v8 + 40) = 72;
    (*v8)(a1);
  }

  if (0x3B9AC9E8 / v32 >= a4)
  {
    LODWORD(v9) = a4;
  }

  else
  {
    LODWORD(v9) = 0x3B9AC9E8 / v32;
  }

  *(v7 + 160) = v9;
  v10 = sub_1003C3AC8(a1, a2, 8 * a4);
  if (a4)
  {
    if (a2 <= 1)
    {
      v22 = 0;
      do
      {
        if (v9 >= a4 - v22)
        {
          v9 = a4 - v22;
        }

        else
        {
          v9 = v9;
        }

        v24 = v32 * v9;
        v25 = a1[1];
        if (v32 * v9 > 0x3B9AC9E8)
        {
          *(*a1 + 40) = 0x300000038;
          (**a1)(a1);
        }

        v26 = sub_1003C4D64(a1, v24 | 0x18);
        if (!v26)
        {
          *(*a1 + 40) = 0x400000038;
          (**a1)(a1);
        }

        *(v25 + 152) += v24 | 0x18;
        v27 = v25 + 8 * a2;
        *v26 = *(v27 + 120);
        v26[1] = v24;
        v26[2] = 0;
        *(v27 + 120) = v26;
        if (v9)
        {
          v28 = v26 + 3;
          v29 = v9;
          do
          {
            v23 = (v22 + 1);
            *(v10 + 8 * v22) = v28;
            v28 += 16 * a3;
            LODWORD(v22) = v22 + 1;
            --v29;
          }

          while (v29);
        }

        else
        {
          v23 = v22;
        }

        v22 = v23;
      }

      while (v23 < a4);
    }

    else
    {
      v11 = 0;
      v12 = a3 << 7;
      LODWORD(v13) = v9;
      do
      {
        if (v13 >= a4 - v11)
        {
          v13 = a4 - v11;
        }

        else
        {
          v13 = v13;
        }

        v15 = v32 * v13;
        v16 = a1[1];
        if (v32 * v13 > 0x3B9AC9E8)
        {
          *(*a1 + 40) = 0x300000038;
          (**a1)(a1);
        }

        v17 = *a1;
        *(v17 + 40) = 15;
        *(v17 + 44) = a2;
        (**a1)(a1);
        v18 = sub_1003C4D64(a1, v15 | 0x18);
        if (!v18)
        {
          *(*a1 + 40) = 0x400000038;
          (**a1)(a1);
        }

        *(v16 + 152) += v15 | 0x18;
        v19 = v16 + 8 * a2;
        *v18 = *(v19 + 120);
        v18[1] = v15;
        v18[2] = 0;
        *(v19 + 120) = v18;
        if (v13)
        {
          v20 = v18 + 3;
          v21 = v13;
          do
          {
            v14 = (v11 + 1);
            *(v10 + 8 * v11) = v20;
            v20 = (v20 + v12);
            LODWORD(v11) = v11 + 1;
            --v21;
          }

          while (v21);
        }

        else
        {
          v14 = v11;
        }

        v11 = v14;
      }

      while (v14 < a4);
    }
  }

  return v10;
}

uint64_t sub_1003C424C(void (***a1)(void), signed int a2, char a3, int a4, int a5, int a6)
{
  v10 = a1[1];
  if (a2 != 1)
  {
    v11 = *a1;
    *(v11 + 10) = 15;
    *(v11 + 11) = a2;
    v12 = a1;
    v13 = a2;
    (**a1)();
    a1 = v12;
    a2 = v13;
  }

  result = sub_1003C3AC8(a1, a2, 0x90uLL);
  *result = 0;
  *(result + 8) = a5;
  *(result + 12) = a4;
  *(result + 16) = a6;
  *(result + 36) = a3;
  *(result + 38) = 0;
  *(result + 40) = v10[17];
  v10[17] = result;
  return result;
}

uint64_t sub_1003C42EC(void (***a1)(void), signed int a2, char a3, int a4, int a5, int a6)
{
  v10 = a1[1];
  if (a2 != 1)
  {
    v11 = *a1;
    *(v11 + 10) = 15;
    *(v11 + 11) = a2;
    v12 = a1;
    v13 = a2;
    (**a1)();
    a1 = v12;
    a2 = v13;
  }

  result = sub_1003C3AC8(a1, a2, 0x90uLL);
  *result = 0;
  *(result + 8) = a5;
  *(result + 12) = a4;
  *(result + 16) = a6;
  *(result + 36) = a3;
  *(result + 38) = 0;
  *(result + 40) = v10[18];
  v10[18] = result;
  return result;
}

uint64_t sub_1003C438C(uint64_t result)
{
  v1 = result;
  v2 = *(result + 8);
  v3 = *(v2 + 136);
  if (v3)
  {
    v4 = 0;
    v5 = 0;
    do
    {
      if (!*v3)
      {
        v6 = *(v3 + 12);
        v5 += v6 * *(v3 + 16);
        v4 += *(v3 + 8) * v6;
      }

      v3 = *(v3 + 40);
    }

    while (v3);
  }

  else
  {
    v5 = 0;
    v4 = 0;
  }

  for (i = *(v2 + 144); i; i = *(i + 40))
  {
    if (!*i)
    {
      v10 = *(i + 12);
      v5 += (*(i + 16) * v10) << 7;
      v4 += (v10 * *(i + 8)) << 7;
    }
  }

  if (v5 >= 1)
  {
    result = sub_1003C4D74(result, v5, v4);
    if (result >= v4)
    {
      v8 = 1000000000;
      v9 = *(v2 + 136);
      if (!v9)
      {
        goto LABEL_26;
      }
    }

    else
    {
      if (result / v5 <= 1)
      {
        v8 = 1;
      }

      else
      {
        v8 = result / v5;
      }

      v9 = *(v2 + 136);
      if (!v9)
      {
LABEL_26:
        for (j = *(v2 + 144); j; j = *(j + 40))
        {
          if (!*j)
          {
            v14 = *(j + 8);
            v15 = *(j + 16);
            if ((v14 - 1) / v15 < v8)
            {
              *(j + 20) = v14;
            }

            else
            {
              *(j + 20) = v15 * v8;
              sub_1003C4D7C(v1);
              *(j + 38) = 1;
              LODWORD(v14) = *(j + 20);
            }

            result = sub_1003C3F78(v1, 1, *(j + 12), v14);
            *j = result;
            *(j + 24) = *(v2 + 160);
            *(j + 32) = 0;
            *(j + 37) = 0;
          }
        }

        return result;
      }
    }

    do
    {
      if (!*v9)
      {
        v11 = *(v9 + 8);
        v12 = *(v9 + 16);
        if ((v11 - 1) / v12 < v8)
        {
          *(v9 + 20) = v11;
        }

        else
        {
          *(v9 + 20) = v12 * v8;
          sub_1003C4D7C(v1);
          *(v9 + 38) = 1;
          LODWORD(v11) = *(v9 + 20);
        }

        result = sub_1003C3DA0(v1, 1, *(v9 + 12), v11);
        *v9 = result;
        *(v9 + 24) = *(v2 + 160);
        *(v9 + 32) = 0;
        *(v9 + 37) = 0;
      }

      v9 = *(v9 + 40);
    }

    while (v9);
    goto LABEL_26;
  }

  return result;
}

uint64_t sub_1003C458C(uint64_t *a1, uint64_t a2, unsigned int a3, unsigned int a4, int a5)
{
  v10 = a4 + a3;
  if (v10 <= *(a2 + 8) && *(a2 + 16) >= a4 && *a2)
  {
    v11 = *(a2 + 28);
    if (v11 > a3)
    {
      goto LABEL_8;
    }
  }

  else
  {
    v12 = *a1;
    *(v12 + 40) = 23;
    (*v12)(a1);
    v11 = *(a2 + 28);
    if (v11 > a3)
    {
      goto LABEL_8;
    }
  }

  if (v10 <= *(a2 + 20) + v11)
  {
    goto LABEL_35;
  }

LABEL_8:
  if (!*(a2 + 38))
  {
    v13 = *a1;
    *(v13 + 40) = 71;
    (*v13)(a1);
  }

  if (*(a2 + 37))
  {
    v14 = *(a2 + 20);
    if (v14)
    {
      v15 = 0;
      v16 = *(a2 + 12);
      v17 = *(a2 + 24);
      v18 = *(a2 + 28) * v16;
      do
      {
        v19 = v14 - v15;
        if (v19 >= v17)
        {
          v19 = v17;
        }

        v20 = v15 + *(a2 + 28);
        if (v19 >= (*(a2 + 32) - v20))
        {
          v19 = *(a2 + 32) - v20;
        }

        v21 = *(a2 + 8) - v20;
        if (v19 >= v21)
        {
          v19 = v21;
        }

        if (v19 < 1)
        {
          break;
        }

        v22 = v19 * v16;
        (*(a2 + 56))(a1, a2 + 48, *(*a2 + 8 * v15), v18, v19 * v16);
        v18 += v22;
        v14 = *(a2 + 20);
        v17 = *(a2 + 24);
        v15 += v17;
      }

      while (v15 < v14);
    }

    *(a2 + 37) = 0;
  }

  if (*(a2 + 28) >= a3)
  {
    v23 = *(a2 + 20);
    v24 = (v10 - v23) & ~((v10 - v23) >> 63);
    *(a2 + 28) = v24;
    if (!v23)
    {
      goto LABEL_35;
    }
  }

  else
  {
    LODWORD(v23) = *(a2 + 20);
    v24 = a3;
    *(a2 + 28) = a3;
    if (!v23)
    {
      goto LABEL_35;
    }
  }

  v25 = 0;
  v26 = *(a2 + 12);
  v27 = v23;
  v28 = v26 * v24;
  v29 = *(a2 + 24);
  do
  {
    v30 = v27 - v25;
    if (v30 < v29)
    {
      v29 = v30;
    }

    v31 = v25 + *(a2 + 28);
    if (v29 >= (*(a2 + 32) - v31))
    {
      v29 = *(a2 + 32) - v31;
    }

    v32 = *(a2 + 8) - v31;
    if (v29 >= v32)
    {
      v29 = v32;
    }

    if (v29 < 1)
    {
      break;
    }

    v33 = v29 * v26;
    (*(a2 + 48))(a1, a2 + 48, *(*a2 + 8 * v25), v28, v29 * v26);
    v28 += v33;
    v27 = *(a2 + 20);
    v29 = *(a2 + 24);
    v25 += v29;
  }

  while (v25 < v27);
LABEL_35:
  v34 = *(a2 + 32);
  if (v34 >= v10)
  {
    goto LABEL_46;
  }

  if (v34 < a3)
  {
    if (a5)
    {
      v35 = *a1;
      *(v35 + 40) = 23;
      (*v35)(a1);
      v34 = a3;
      goto LABEL_40;
    }

    v34 = a3;
    if (*(a2 + 36))
    {
      goto LABEL_43;
    }

LABEL_50:
    v41 = *a1;
    *(v41 + 40) = 23;
    (*v41)(a1);
    return *a2 + 8 * (a3 - *(a2 + 28));
  }

  if (a5)
  {
LABEL_40:
    *(a2 + 32) = v10;
    if (!*(a2 + 36))
    {
      goto LABEL_47;
    }

    goto LABEL_43;
  }

  if (!*(a2 + 36))
  {
    goto LABEL_50;
  }

LABEL_43:
  v36 = *(a2 + 28);
  if (v34 - v36 < v10 - v36)
  {
    v37 = *(a2 + 12);
    v38 = 8 * (v34 - v36);
    v39 = a4 + a3 - v34;
    do
    {
      bzero(*(*a2 + v38), v37);
      v38 += 8;
      --v39;
    }

    while (v39);
  }

LABEL_46:
  if (a5)
  {
LABEL_47:
    *(a2 + 37) = 1;
  }

  return *a2 + 8 * (a3 - *(a2 + 28));
}

uint64_t sub_1003C488C(uint64_t *a1, uint64_t a2, unsigned int a3, unsigned int a4, int a5)
{
  v10 = a4 + a3;
  if (v10 <= *(a2 + 8) && *(a2 + 16) >= a4 && *a2)
  {
    v11 = *(a2 + 28);
    if (v11 > a3)
    {
      goto LABEL_8;
    }
  }

  else
  {
    v12 = *a1;
    *(v12 + 40) = 23;
    (*v12)(a1);
    v11 = *(a2 + 28);
    if (v11 > a3)
    {
      goto LABEL_8;
    }
  }

  if (v10 <= *(a2 + 20) + v11)
  {
    goto LABEL_35;
  }

LABEL_8:
  if (!*(a2 + 38))
  {
    v13 = *a1;
    *(v13 + 40) = 71;
    (*v13)(a1);
  }

  if (*(a2 + 37))
  {
    v14 = *(a2 + 20);
    if (v14)
    {
      v15 = 0;
      v16 = *(a2 + 12) << 7;
      v17 = *(a2 + 24);
      v18 = v16 * *(a2 + 28);
      do
      {
        v19 = v14 - v15;
        if (v19 >= v17)
        {
          v19 = v17;
        }

        v20 = v15 + *(a2 + 28);
        if (v19 >= (*(a2 + 32) - v20))
        {
          v19 = *(a2 + 32) - v20;
        }

        v21 = *(a2 + 8) - v20;
        if (v19 >= v21)
        {
          v19 = v21;
        }

        if (v19 < 1)
        {
          break;
        }

        v22 = v19 * v16;
        (*(a2 + 56))(a1, a2 + 48, *(*a2 + 8 * v15), v18, v19 * v16);
        v18 += v22;
        v14 = *(a2 + 20);
        v17 = *(a2 + 24);
        v15 += v17;
      }

      while (v15 < v14);
    }

    *(a2 + 37) = 0;
  }

  if (*(a2 + 28) >= a3)
  {
    v23 = *(a2 + 20);
    v24 = (v10 - v23) & ~((v10 - v23) >> 63);
    *(a2 + 28) = v24;
    if (!v23)
    {
      goto LABEL_35;
    }
  }

  else
  {
    LODWORD(v23) = *(a2 + 20);
    v24 = a3;
    *(a2 + 28) = a3;
    if (!v23)
    {
      goto LABEL_35;
    }
  }

  v25 = 0;
  v26 = *(a2 + 12) << 7;
  v27 = v23;
  v28 = v26 * v24;
  v29 = *(a2 + 24);
  do
  {
    v30 = v27 - v25;
    if (v30 < v29)
    {
      v29 = v30;
    }

    v31 = v25 + *(a2 + 28);
    if (v29 >= (*(a2 + 32) - v31))
    {
      v29 = *(a2 + 32) - v31;
    }

    v32 = *(a2 + 8) - v31;
    if (v29 >= v32)
    {
      v29 = v32;
    }

    if (v29 < 1)
    {
      break;
    }

    v33 = v29 * v26;
    (*(a2 + 48))(a1, a2 + 48, *(*a2 + 8 * v25), v28, v29 * v26);
    v28 += v33;
    v27 = *(a2 + 20);
    v29 = *(a2 + 24);
    v25 += v29;
  }

  while (v25 < v27);
LABEL_35:
  v34 = *(a2 + 32);
  if (v34 >= v10)
  {
    goto LABEL_46;
  }

  if (v34 < a3)
  {
    if (a5)
    {
      v35 = *a1;
      *(v35 + 40) = 23;
      (*v35)(a1);
      v34 = a3;
      goto LABEL_40;
    }

    v34 = a3;
    if (*(a2 + 36))
    {
      goto LABEL_43;
    }

LABEL_50:
    v41 = *a1;
    *(v41 + 40) = 23;
    (*v41)(a1);
    return *a2 + 8 * (a3 - *(a2 + 28));
  }

  if (a5)
  {
LABEL_40:
    *(a2 + 32) = v10;
    if (!*(a2 + 36))
    {
      goto LABEL_47;
    }

    goto LABEL_43;
  }

  if (!*(a2 + 36))
  {
    goto LABEL_50;
  }

LABEL_43:
  v36 = *(a2 + 28);
  if (v34 - v36 < v10 - v36)
  {
    v37 = *(a2 + 12) << 7;
    v38 = 8 * (v34 - v36);
    v39 = a4 + a3 - v34;
    do
    {
      bzero(*(*a2 + v38), v37);
      v38 += 8;
      --v39;
    }

    while (v39);
  }

LABEL_46:
  if (a5)
  {
LABEL_47:
    *(a2 + 37) = 1;
  }

  return *a2 + 8 * (a3 - *(a2 + 28));
}

void sub_1003C4B9C(void *a1, signed int a2)
{
  v4 = a1[1];
  if (a2 < 2)
  {
    if (a2 == 1)
    {
      for (i = v4[17]; i; i = *(i + 40))
      {
        if (*(i + 38))
        {
          *(i + 38) = 0;
          (*(i + 64))(a1, i + 48);
        }
      }

      v4[17] = 0;
      for (j = v4[18]; j; j = *(j + 40))
      {
        if (*(j + 38))
        {
          *(j + 38) = 0;
          (*(j + 64))(a1, j + 48);
        }
      }

      v4[18] = 0;
    }
  }

  else
  {
    v5 = *a1;
    *(v5 + 10) = 15;
    *(v5 + 11) = a2;
    (**a1)(a1);
  }

  v8 = &v4[a2];
  v9 = a2;
  v10 = v8[15];
  v8[15] = 0;
  if (v10)
  {
    do
    {
      v11 = *v10;
      v12 = v10[1] + v10[2] + 24;
      sub_1003C4D5C(a1, v10);
      v4[19] -= v12;
      v10 = v11;
    }

    while (v11);
  }

  v13 = &v4[v9];
  v14 = v13[13];
  v13[13] = 0;
  if (v14)
  {
    do
    {
      v15 = *v14;
      v16 = v14[1] + v14[2] + 24;
      sub_1003C4D5C(a1, v14);
      v4[19] -= v16;
      v14 = v15;
    }

    while (v15);
  }
}

uint64_t sub_1003C4CF0(uint64_t a1)
{
  sub_1003C4B9C(a1, 1);
  sub_1003C4B9C(a1, 0);
  sub_1003C4D5C(a1, *(a1 + 8));
  *(a1 + 8) = 0;

  return nullsub_1(a1);
}

uint64_t sub_1003C4D7C(uint64_t *a1)
{
  v1 = *a1;
  *(v1 + 40) = 51;
  return (*v1)(a1);
}

uint64_t sub_1003C4D90(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  *(a1 + 624) = v2;
  *v2 = sub_1003C52BC;
  v2[2] = nullsub_106;
  v2[3] = sub_1003C56D8;
  v2[14] = 0;
  v2[10] = 0;
  if (*(a1 + 124) >= 5)
  {
    *(*a1 + 40) = 0x400000039;
    (**a1)(a1);
    v3 = *(a1 + 108);
    if (v3 < 257)
    {
LABEL_3:
      v4 = *(a1 + 624);
      v5 = *(a1 + 124);
      v6 = v3;
      if (v5 >= 2)
      {
        goto LABEL_4;
      }

      goto LABEL_10;
    }
  }

  else
  {
    v3 = *(a1 + 108);
    if (v3 < 257)
    {
      goto LABEL_3;
    }
  }

  *(*a1 + 40) = 0x1000000003BLL;
  (**a1)(a1);
  v4 = *(a1 + 624);
  v5 = *(a1 + 124);
  v6 = *(a1 + 108);
  if (v5 >= 2)
  {
LABEL_4:
    if (v5 == 2)
    {
      v7 = 0;
      do
      {
        v8 = (v7 + 2) * (v7 + 2);
        ++v7;
      }

      while (v8 <= v6);
    }

    else if (v5 - 1 == ((v5 - 1) & 0xFFFFFFFE))
    {
      v45 = 1;
      do
      {
        LODWORD(v7) = v45++;
        v46 = (v5 - 1) & 0xFFFFFFFE;
        v47 = v45;
        v48 = 1;
        do
        {
          v47 *= v45;
          v48 *= v45;
          v46 -= 2;
        }

        while (v46);
        v8 = v48 * v47;
      }

      while (v8 <= v6);
    }

    else
    {
      v57 = 1;
      do
      {
        LODWORD(v7) = v57++;
        v58 = (v5 - 1) & 0xFFFFFFFE;
        v59 = v57;
        v60 = 1;
        do
        {
          v59 *= v57;
          v60 *= v57;
          v58 -= 2;
        }

        while (v58);
        v8 = v60 * v59;
        v61 = v5 - ((v5 - 1) | 1);
        do
        {
          v8 *= v57;
          --v61;
        }

        while (v61);
      }

      while (v8 <= v6);
    }

    goto LABEL_14;
  }

LABEL_10:
  if (v6 <= 1)
  {
    LODWORD(v7) = 1;
  }

  else
  {
    LODWORD(v7) = v6;
  }

  LODWORD(v8) = v7 + 1;
LABEL_14:
  v9 = v4 + 60;
  if (v7 <= 1)
  {
    v10 = *a1;
    *(v10 + 40) = 58;
    *(v10 + 44) = v8;
    (**a1)(a1);
  }

  if (v5 < 1)
  {
    v12 = 1;
    goto LABEL_28;
  }

  if (v5 <= 7)
  {
    v11 = 0;
    LODWORD(v12) = 1;
LABEL_23:
    v19 = v5 - v11;
    v20 = (v4 + 4 * v11 + 60);
    do
    {
      *v20++ = v7;
      v12 = (v12 * v7);
      --v19;
    }

    while (v19);
    goto LABEL_25;
  }

  v11 = v5 & 0x7FFFFFF8;
  v13 = vdupq_n_s32(v7);
  v14 = (v4 + 76);
  v15.i64[0] = 0x100000001;
  v15.i64[1] = 0x100000001;
  v16 = v11;
  v17.i64[0] = 0x100000001;
  v17.i64[1] = 0x100000001;
  do
  {
    v14[-1] = v13;
    *v14 = v13;
    v15 = vmulq_s32(v15, v13);
    v17 = vmulq_s32(v17, v13);
    v14 += 2;
    v16 -= 8;
  }

  while (v16);
  v18 = vmulq_s32(vuzp2q_s32(v15, v17), vuzp1q_s32(v15, v17));
  *v18.i8 = vmul_s32(*v18.i8, *&vextq_s8(v18, v18, 8uLL));
  v12 = (v18.i32[0] * v18.i32[1]);
  if (v11 != v5)
  {
    goto LABEL_23;
  }

LABEL_25:
  v21 = (v9 + 4 * (*(a1 + 64) == 2));
  v22 = *v21;
  v23 = v22 + 1;
  v24 = v12 / v22 * (v22 + 1);
  if (v24 <= v6)
  {
    if (v5 == 1)
    {
      do
      {
        *v21 = v23;
        v12 = v24;
        v21 = (v9 + 4 * (*(a1 + 64) == 2));
        v25 = *v21;
        v23 = v25 + 1;
        v24 = v24 / v25 * (v25 + 1);
      }

      while (v24 <= v6);
    }

    else
    {
      do
      {
        *v21 = v23;
        v50 = 1;
        v12 = v24;
        while (1)
        {
          v51 = *(a1 + 64);
          v52 = v51 == 2 ? dword_1003ECA58[v50] : v50;
          v53 = *(v9 + 4 * v52);
          v54 = v12 / v53;
          v55 = v53 + 1;
          v56 = v54 * v55;
          if (v56 > v6)
          {
            break;
          }

          *(v9 + 4 * v52) = v55;
          v12 = v56;
          if (v5 == ++v50)
          {
            v51 = *(a1 + 64);
            break;
          }
        }

        v21 = (v9 + 4 * (v51 == 2));
        v49 = *v21;
        v23 = v49 + 1;
        v24 = v12 / v49 * (v49 + 1);
      }

      while (v24 <= v6);
    }
  }

LABEL_28:
  v26 = *(a1 + 124);
  v27 = *a1;
  *(*a1 + 44) = v12;
  if (v26 == 3)
  {
    *(v27 + 12) = *(v4 + 60);
    *(v27 + 13) = *(v4 + 64);
    *(v27 + 14) = *(v4 + 68);
    v28 = 96;
    v29 = v27;
  }

  else
  {
    v29 = *a1;
    v28 = 97;
  }

  *(v27 + 10) = v28;
  v29[1](a1, 1);
  v30 = (*(*(a1 + 8) + 16))(a1, 1, v12, *(a1 + 124));
  v31 = *(a1 + 124);
  if (v31 >= 1)
  {
    v32 = 0;
    v33 = v12;
    do
    {
      v34 = *(v9 + 4 * v32);
      v35 = (v33 / v34);
      if (v34 >= 1 && v35 >= 1)
      {
        v36 = 0;
        v37 = 0;
        do
        {
          if (v35 * v36 < v12)
          {
            v38 = v37;
            do
            {
              v39 = v38;
              v40 = (v33 / v34);
              do
              {
                *(*(v30 + 8 * v32) + v39++) = (((v34 - 1) >> 1) - v36 + (v36 << 8)) / (v34 - 1);
                --v40;
              }

              while (v40);
              v38 += v33;
            }

            while (v38 < v12);
          }

          ++v36;
          v37 += v35;
        }

        while (v36 != v34);
        v31 = *(a1 + 124);
      }

      ++v32;
      v33 /= v34;
    }

    while (v32 < v31);
  }

  *(v4 + 32) = v30;
  *(v4 + 40) = v12;
  result = sub_1003C56EC(a1);
  if (*(a1 + 100) == 2 && *(a1 + 124) >= 1)
  {
    v42 = 0;
    v43 = 2 * (*(a1 + 116) + 2);
    v44 = *(a1 + 624) + 112;
    do
    {
      result = (*(*(a1 + 8) + 8))(a1, 1, v43);
      *(v44 + 8 * v42++) = result;
    }

    while (v42 < *(a1 + 124));
  }

  return result;
}

void sub_1003C52BC(uint64_t a1)
{
  v2 = *(a1 + 624);
  *(a1 + 144) = *(v2 + 32);
  *(a1 + 136) = *(v2 + 40);
  v3 = *(a1 + 100);
  if (v3 == 2)
  {
    v7 = *(v2 + 112);
    v6 = v2 + 112;
    *(v6 - 104) = sub_1003C5D1C;
    *(v6 + 32) = 0;
    if (v7)
    {
      LODWORD(v8) = *(a1 + 124);
    }

    else
    {
      if (*(a1 + 124) < 1)
      {
        return;
      }

      v24 = 0;
      v25 = 2 * (*(a1 + 116) + 2);
      do
      {
        *(v6 + 8 * v24++) = (*(*(a1 + 8) + 8))(a1, 1, v25);
        v8 = *(a1 + 124);
      }

      while (v24 < v8);
    }

    if (v8 >= 1)
    {
      v26 = 0;
      v27 = 2 * (*(a1 + 116) + 2);
      do
      {
        bzero(*(v6 + 8 * v26++), v27);
      }

      while (v26 < *(a1 + 124));
    }
  }

  else if (v3 == 1)
  {
    v5 = sub_1003C5BC8;
    if (*(a1 + 124) == 3)
    {
      v5 = sub_1003C5AE4;
    }

    *(v2 + 8) = v5;
    *(v2 + 76) = 0;
    if (*(v2 + 56))
    {
      if (*(v2 + 80))
      {
        return;
      }
    }

    else
    {
      sub_1003C56EC(a1);
      if (*(v2 + 80))
      {
        return;
      }
    }

    v11 = *(a1 + 124);
    if (v11 >= 1)
    {
      v12 = 0;
      v13 = *(a1 + 624);
      v14 = v13 + 60;
      v15 = v13 + 80;
      do
      {
        while (1)
        {
          v17 = *(v14 + 4 * v12);
          if (!v12)
          {
            break;
          }

          v18 = 0;
          while (v17 != *(v14 + 4 * v18))
          {
            if (v12 == ++v18)
            {
              goto LABEL_27;
            }
          }

          v16 = *(v14 + 8 * v18 + 20);
          if (!v16)
          {
            break;
          }

          *(v15 + 8 * v12++) = v16;
          if (v12 >= v11)
          {
            return;
          }
        }

LABEL_27:
        v19 = (**(a1 + 8))(a1, 1, 1024);
        v20 = 0;
        v21 = (v17 << 9) - 512;
        v22 = &byte_1003EC95F;
        do
        {
          v23 = (v19 + v20);
          *v23 = 255 * (255 - 2 * *(v22 - 7)) / v21;
          v23[1] = 255 * (255 - 2 * *(v22 - 6)) / v21;
          v23[2] = 255 * (255 - 2 * *(v22 - 5)) / v21;
          v23[3] = 255 * (255 - 2 * *(v22 - 4)) / v21;
          v23[4] = 255 * (255 - 2 * *(v22 - 3)) / v21;
          v23[5] = 255 * (255 - 2 * *(v22 - 2)) / v21;
          v23[6] = 255 * (255 - 2 * *(v22 - 1)) / v21;
          v23[7] = 255 * (255 - 2 * *v22) / v21;
          v23[8] = 255 * (255 - 2 * v22[1]) / v21;
          v23[9] = 255 * (255 - 2 * v22[2]) / v21;
          v23[10] = 255 * (255 - 2 * v22[3]) / v21;
          v23[11] = 255 * (255 - 2 * v22[4]) / v21;
          v23[12] = 255 * (255 - 2 * v22[5]) / v21;
          v23[13] = 255 * (255 - 2 * v22[6]) / v21;
          v23[14] = 255 * (255 - 2 * v22[7]) / v21;
          v23[15] = 255 * (255 - 2 * v22[8]) / v21;
          v20 += 64;
          v22 += 16;
        }

        while (v20 != 1024);
        v11 = *(a1 + 124);
        *(v15 + 8 * v12++) = v19;
      }

      while (v12 < v11);
    }
  }

  else if (v3)
  {
    v9 = *a1;
    *(v9 + 40) = 49;
    v10 = *v9;

    v10();
  }

  else
  {
    if (*(a1 + 124) == 3)
    {
      v4 = sub_1003C58A4;
    }

    else
    {
      v4 = sub_1003C5918;
    }

    *(v2 + 8) = v4;
  }
}

uint64_t sub_1003C56D8(uint64_t *a1)
{
  v1 = *a1;
  *(v1 + 40) = 47;
  return (*v1)(a1);
}

uint64_t sub_1003C56EC(uint64_t a1)
{
  v2 = *(a1 + 624);
  v3 = *(a1 + 100);
  if (v3 == 1)
  {
    v4 = 766;
  }

  else
  {
    v4 = 256;
  }

  *(v2 + 56) = v3 == 1;
  result = (*(*(a1 + 8) + 16))(a1, 1, v4, *(a1 + 124));
  *(v2 + 48) = result;
  if (*(a1 + 124) >= 1)
  {
    v6 = *(v2 + 40);
    v7 = v2 + 60;
    if (v3 == 1)
    {
      v8 = 0;
      do
      {
        v9 = 0;
        v10 = 0;
        v11 = *(v7 + 4 * v8);
        v6 /= v11;
        v12 = *(v2 + 48);
        v13 = *(v12 + 8 * v8);
        *(v12 + 8 * v8) = v13 + 255;
        v14 = v11 + 254;
        v15 = 2 * v11 - 2;
        v16 = v11 + 764;
        result = v14 / v15;
        do
        {
          if (v9 > result)
          {
            v17 = v16 + 510 * v10;
            do
            {
              result = v17 / v15;
              ++v10;
              v17 += 510;
            }

            while (v9 > result);
          }

          *(v13 + 255 + v9++) = v10 * v6;
        }

        while (v9 != 256);
        v18 = *(v13 + 255);
        v19 = 254;
        v20 = 511;
        do
        {
          *(v13 + v19) = v18;
          *(v13 + v20++) = *(v13 + 510);
          --v19;
        }

        while (v19 != -1);
        ++v8;
      }

      while (v8 < *(a1 + 124));
    }

    else
    {
      v21 = 0;
      do
      {
        v22 = 0;
        v23 = 0;
        v24 = *(v7 + 4 * v21);
        v25 = *(*(v2 + 48) + 8 * v21);
        v26 = 2 * v24 - 2;
        v27 = (v24 + 254) / v26;
        v28 = v24 + 764;
        v6 /= v24;
        do
        {
          if (v22 > v27)
          {
            v29 = v28 + 510 * v23;
            do
            {
              v27 = v29 / v26;
              ++v23;
              v29 += 510;
            }

            while (v22 > v27);
          }

          result = (v23 * v6);
          *(v25 + v22++) = v23 * v6;
        }

        while (v22 != 256);
        ++v21;
      }

      while (v21 < *(a1 + 124));
    }
  }

  return result;
}

uint64_t sub_1003C58A4(uint64_t result, uint64_t a2, uint64_t a3, int a4)
{
  if (a4 >= 1)
  {
    v4 = *(result + 116);
    if (v4)
    {
      v5 = 0;
      v6 = *(*(result + 624) + 48);
      v7 = *v6;
      v8 = v6[1];
      v9 = v6[2];
      do
      {
        v10 = *(a2 + 8 * v5);
        v11 = *(a3 + 8 * v5);
        v12 = v4;
        do
        {
          result = *(v8 + v10[1]);
          *v11++ = result + *(v7 + *v10) + *(v9 + v10[2]);
          v10 += 3;
          --v12;
        }

        while (v12);
        ++v5;
      }

      while (v5 != a4);
    }
  }

  return result;
}

void sub_1003C5918(uint64_t a1, uint64_t a2, void **a3, int a4)
{
  if (a4 >= 1)
  {
    v4 = *(a1 + 116);
    if (v4)
    {
      v5 = a3;
      v6 = *(a1 + 124);
      v7 = a4;
      if (v6 <= 0)
      {
        do
        {
          v14 = *v5++;
          bzero(v14, v4);
          --v7;
        }

        while (v7);
      }

      else
      {
        v8 = *(*(a1 + 624) + 48);
        if (v6 == 1)
        {
          for (i = 0; i != a4; ++i)
          {
            v10 = *(a2 + 8 * i);
            v11 = a3[i];
            v12 = v4;
            do
            {
              v13 = *(*v8 + *v10);
              v10 += v6;
              *v11++ = v13;
              --v12;
            }

            while (v12);
          }
        }

        else if ((v6 & 0x7FFFFFFE) == v6)
        {
          v15 = 0;
          v16 = v8 + 1;
          do
          {
            v17 = v5[v15];
            v18 = *(a2 + 8 * v15) + 1;
            v19 = v4;
            do
            {
              v20 = 0;
              v21 = 0;
              v22 = v18;
              v23 = v16;
              v24 = v6 & 0x7FFFFFFE;
              do
              {
                v25 = *(v22 - 1);
                v26 = *v22;
                v22 += 2;
                v20 += *(*(v23 - 1) + v25);
                v21 += *(*v23 + v26);
                v23 += 2;
                v24 -= 2;
              }

              while (v24);
              *v17++ = v21 + v20;
              v18 += v6;
              --v19;
            }

            while (v19);
            ++v15;
          }

          while (v15 != a4);
        }

        else
        {
          for (j = 0; j != v7; ++j)
          {
            v28 = *(a2 + 8 * j);
            v29 = v5[j];
            v30 = (v28 + 1);
            v31 = v4;
            do
            {
              v32 = 0;
              v33 = 0;
              v34 = v6 & 0x7FFFFFFE;
              v35 = v8 + 1;
              v36 = v30;
              do
              {
                v37 = *(v36 - 1);
                v38 = *v36;
                v36 += 2;
                v32 += *(*(v35 - 1) + v37);
                v33 += *(*v35 + v38);
                v35 += 2;
                v34 -= 2;
              }

              while (v34);
              v39 = v33 + v32;
              v40 = v6 & 0x7FFFFFFE;
              do
              {
                v39 += *(v8[v40] + *(v28 + v40));
                ++v40;
              }

              while (v6 != v40);
              v28 += v6;
              *v29++ = v39;
              v30 += v6;
              --v31;
            }

            while (v31);
          }
        }
      }
    }
  }
}

_BYTE *sub_1003C5AE4(_BYTE *result, uint64_t a2, uint64_t a3, int a4)
{
  if (a4 >= 1)
  {
    v4 = *(result + 78);
    v5 = *(result + 29);
    if (v5)
    {
      v6 = 0;
      v7 = *(v4 + 48);
      v8 = *v7;
      v9 = v7[1];
      v10 = v7[2];
      v11 = a4;
      v12 = *(v4 + 76);
      do
      {
        v13 = 0;
        v14 = *(a2 + 8 * v6);
        result = *(a3 + 8 * v6);
        v15 = v12 << 6;
        v16 = *(v4 + 80) + v15;
        v17 = *(v4 + 88) + v15;
        v18 = *(v4 + 96) + v15;
        v19 = v5;
        do
        {
          *result++ = *(v9 + *(v17 + 4 * v13) + v14[1]) + *(v8 + *(v16 + 4 * v13) + *v14) + *(v10 + *(v18 + 4 * v13) + v14[2]);
          v13 = (v13 + 1) & 0xF;
          v14 += 3;
          --v19;
        }

        while (v19);
        v12 = (v12 + 1) & 0xF;
        *(v4 + 76) = v12;
        ++v6;
      }

      while (v6 != v11);
    }

    else
    {
      v20 = *(v4 + 76);
      do
      {
        v20 = (v20 + 1) & 0xF;
        --a4;
      }

      while (a4);
      *(v4 + 76) = v20;
    }
  }

  return result;
}

void sub_1003C5BC8(uint64_t a1, uint64_t a2, void **a3, int a4)
{
  if (a4 >= 1)
  {
    v5 = *(a1 + 124);
    v6 = *(a1 + 116);
    v7 = *(a1 + 624);
    if (v5 <= 0)
    {
      v20 = a4;
      do
      {
        v21 = *a3++;
        bzero(v21, v6);
        *(v7 + 76) = (*(v7 + 76) + 1) & 0xF;
        --v20;
      }

      while (v20);
    }

    else
    {
      v8 = a4;
      if (v6)
      {
        for (i = 0; i != v8; ++i)
        {
          bzero(a3[i], v6);
          v11 = 0;
          v12 = *(v7 + 76);
          do
          {
            v13 = 0;
            v14 = *(a2 + 8 * i);
            v15 = a3[i];
            v16 = *(*(v7 + 48) + 8 * v11);
            v17 = *(v7 + 80 + 8 * v11) + (v12 << 6);
            v18 = v6;
            do
            {
              *v15++ += *(v16 + *(v17 + 4 * v13) + *(v14 + v11));
              v13 = (v13 + 1) & 0xF;
              v14 += v5;
              --v18;
            }

            while (v18);
            ++v11;
          }

          while (v11 != v5);
          *(v7 + 76) = (v12 + 1) & 0xF;
        }
      }

      else
      {
        do
        {
          v19 = *a3++;
          bzero(v19, v6);
          *(v7 + 76) = (*(v7 + 76) + 1) & 0xF;
          --v8;
        }

        while (v8);
      }
    }
  }
}

void sub_1003C5D1C(uint64_t a1, uint64_t a2, void **a3, int a4)
{
  if (a4 >= 1)
  {
    v5 = *(a1 + 124);
    v6 = *(a1 + 116);
    v7 = *(a1 + 624);
    v52 = v6;
    if (v5 <= 0)
    {
      v27 = a4;
      do
      {
        v28 = a3 + 1;
        bzero(*a3, v6);
        v6 = v52;
        a3 = v28;
        *(v7 + 144) = *(v7 + 144) == 0;
        --v27;
      }

      while (v27);
    }

    else
    {
      v8 = (v7 + 112);
      v9 = (v6 + 1);
      v50 = a4;
      v51 = a3;
      if (v6)
      {
        v10 = 0;
        v11 = *(a1 + 408);
        v12 = (v6 - 1);
        do
        {
          bzero(a3[v10], v6);
          a3 = v51;
          v6 = v52;
          for (i = 0; i != v5; ++i)
          {
            v14 = (*(a2 + 8 * v10) + i);
            v15 = v51[v10];
            if (*(v7 + 144))
            {
              v14 += (v12 * v5);
              v15 += v12;
              v16 = &v8[i][v9];
              v17 = -1;
              v18 = -v5;
            }

            else
            {
              v16 = v8[i];
              v17 = 1;
              v18 = v5;
            }

            v19 = 0;
            v20 = 0;
            v21 = 0;
            v22 = *(*(v7 + 48) + 8 * i);
            v23 = *(*(v7 + 32) + 8 * i);
            v24 = v52;
            do
            {
              v25 = *(v11 + *v14 + ((v19 + v16[v17] + 8) >> 4));
              v26 = *(v22 + v25);
              *v15 += v26;
              LODWORD(v26) = v25 - *(v23 + v26);
              LOWORD(v25) = 3 * v26 + v21;
              v21 = 5 * v26 + v20;
              v19 = 7 * v26;
              v14 += v18;
              *v16 = v25;
              v15 += v17;
              v16 += v17;
              v20 = v26;
              --v24;
            }

            while (v24);
            *v16 = v21;
          }

          *(v7 + 144) = *(v7 + 144) == 0;
          ++v10;
        }

        while (v10 != v50);
      }

      else
      {
        v29 = v5 & 0x7FFFFFFE;
        if (v5 == 1)
        {
          for (j = 0; j != v50; ++j)
          {
            bzero(a3[j], v6);
            v31 = *(v7 + 144);
            if (*(v7 + 144))
            {
              a3 = v51;
              v6 = v52;
              v32 = v5;
              v33 = (v7 + 112);
              do
              {
                v34 = *v33++;
                *(v34 + 2 * v9) = 0;
                --v32;
              }

              while (v32);
            }

            else
            {
              **v8 = 0;
              a3 = v51;
              v6 = v52;
            }

            *(v7 + 144) = v31 == 0;
          }
        }

        else
        {
          for (k = 0; k != v50; ++k)
          {
            bzero(a3[k], v6);
            v36 = *(v7 + 144);
            v37 = v5 & 0x7FFFFFFE;
            v38 = (v7 + 120);
            if (*(v7 + 144))
            {
              v39 = v5 & 0x7FFFFFFE;
              v40 = (v7 + 120);
              do
              {
                v45 = *v40;
                *(*(v40 - 1) + 2 * v9) = 0;
                *(v45 + 2 * v9) = 0;
                v40 += 2;
                v39 -= 2;
              }

              while (v39);
              v46 = v5 & 0x7FFFFFFE;
              a3 = v51;
              v6 = v52;
              if (v5 != v29)
              {
                v47 = (v7 + 112 + 8 * v46);
                v48 = v5 - v46;
                do
                {
                  v49 = *v47++;
                  *(v49 + 2 * v9) = 0;
                  --v48;
                }

                while (v48);
              }
            }

            else
            {
              do
              {
                v41 = *v38;
                **(v38 - 1) = 0;
                *v41 = 0;
                v38 += 2;
                v37 -= 2;
              }

              while (v37);
              v42 = v5 - v29;
              v43 = (v7 + 112 + 16 * ((v5 >> 1) & 0x3FFFFFFF));
              a3 = v51;
              v6 = v52;
              if (v5 != v29)
              {
                do
                {
                  v44 = *v43++;
                  *v44 = 0;
                  --v42;
                }

                while (v42);
              }
            }

            *(v7 + 144) = v36 == 0;
          }
        }
      }
    }
  }
}

uint64_t sub_1003C6094(uint64_t a1)
{
  v2 = (**(a1 + 8))();
  *(a1 + 624) = v2;
  *v2 = sub_1003C661C;
  *(v2 + 24) = sub_1003C6918;
  *(v2 + 64) = 0;
  *(v2 + 80) = 0;
  if (*(a1 + 124) != 3)
  {
    v3 = *a1;
    *(v3 + 40) = 48;
    (*v3)(a1);
  }

  *(v2 + 48) = (**(a1 + 8))(a1, 1, 256);
  **(v2 + 48) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 8) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 16) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 24) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 32) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 40) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 48) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 56) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 64) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 72) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 80) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 88) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 96) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 104) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 112) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 120) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 128) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 136) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 144) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 152) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 160) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 168) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 176) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 184) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 192) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 200) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 208) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 216) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 224) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 232) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 240) = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  result = (*(*(a1 + 8) + 8))(a1, 1, 4096);
  *(*(v2 + 48) + 248) = result;
  *(v2 + 56) = 1;
  if (*(a1 + 114))
  {
    v5 = *(a1 + 108);
    if (v5 >= 8)
    {
      if (v5 < 0x101)
      {
        goto LABEL_11;
      }

      v6 = 0x1000000003BLL;
    }

    else
    {
      v6 = 0x80000003ALL;
    }

    *(*a1 + 40) = v6;
    (**a1)(a1);
LABEL_11:
    result = (*(*(a1 + 8) + 16))(a1, 1, v5, 3);
    *(v2 + 32) = result;
    *(v2 + 40) = v5;
    if (!*(a1 + 100))
    {
      return result;
    }

    goto LABEL_12;
  }

  *(v2 + 32) = 0;
  if (!*(a1 + 100))
  {
    return result;
  }

LABEL_12:
  *(a1 + 100) = 2;
  *(v2 + 64) = (*(*(a1 + 8) + 8))(a1, 1, 6 * (*(a1 + 116) + 2));

  return sub_1003C6928(a1);
}

void sub_1003C661C(uint64_t a1, int a2)
{
  v3 = *(a1 + 624);
  v4 = *(v3 + 48);
  if (*(a1 + 100))
  {
    *(a1 + 100) = 2;
    v5 = sub_1003C6EC0;
    if (a2)
    {
LABEL_3:
      *(v3 + 8) = sub_1003C6A9C;
      *(v3 + 16) = sub_1003C6B1C;
      v6 = 1;
      v7 = 56;
      goto LABEL_17;
    }
  }

  else
  {
    v5 = sub_1003C71D4;
    if (a2)
    {
      goto LABEL_3;
    }
  }

  *(v3 + 8) = v5;
  *(v3 + 16) = nullsub_107;
  v8 = *(a1 + 136);
  if (v8 < 1)
  {
    v9 = 0x10000003ALL;
  }

  else
  {
    if (v8 < 0x101)
    {
      if (*(a1 + 100) != 2)
      {
        goto LABEL_8;
      }

      goto LABEL_14;
    }

    v9 = 0x1000000003BLL;
  }

  *(*a1 + 40) = v9;
  (**a1)(a1);
  if (*(a1 + 100) != 2)
  {
LABEL_8:
    if (!*(v3 + 56))
    {
      return;
    }

    goto LABEL_9;
  }

LABEL_14:
  v10 = *(a1 + 116) + 2;
  v11 = 6 * v10;
  v12 = *(v3 + 64);
  if (!v12)
  {
    v13 = (*(*(a1 + 8) + 8))(a1, 1, v11);
    *(v3 + 64) = v13;
    bzero(v13, v11);
    if (*(v3 + 80))
    {
      goto LABEL_16;
    }

LABEL_20:
    sub_1003C6928(a1);
    goto LABEL_16;
  }

  bzero(v12, 6 * v10);
  if (!*(v3 + 80))
  {
    goto LABEL_20;
  }

LABEL_16:
  v6 = 0;
  v7 = 72;
LABEL_17:
  *(v3 + v7) = v6;
  if (*(v3 + 56))
  {
LABEL_9:
    bzero(*v4, 0x1000uLL);
    bzero(v4[1], 0x1000uLL);
    bzero(v4[2], 0x1000uLL);
    bzero(v4[3], 0x1000uLL);
    bzero(v4[4], 0x1000uLL);
    bzero(v4[5], 0x1000uLL);
    bzero(v4[6], 0x1000uLL);
    bzero(v4[7], 0x1000uLL);
    bzero(v4[8], 0x1000uLL);
    bzero(v4[9], 0x1000uLL);
    bzero(v4[10], 0x1000uLL);
    bzero(v4[11], 0x1000uLL);
    bzero(v4[12], 0x1000uLL);
    bzero(v4[13], 0x1000uLL);
    bzero(v4[14], 0x1000uLL);
    bzero(v4[15], 0x1000uLL);
    bzero(v4[16], 0x1000uLL);
    bzero(v4[17], 0x1000uLL);
    bzero(v4[18], 0x1000uLL);
    bzero(v4[19], 0x1000uLL);
    bzero(v4[20], 0x1000uLL);
    bzero(v4[21], 0x1000uLL);
    bzero(v4[22], 0x1000uLL);
    bzero(v4[23], 0x1000uLL);
    bzero(v4[24], 0x1000uLL);
    bzero(v4[25], 0x1000uLL);
    bzero(v4[26], 0x1000uLL);
    bzero(v4[27], 0x1000uLL);
    bzero(v4[28], 0x1000uLL);
    bzero(v4[29], 0x1000uLL);
    bzero(v4[30], 0x1000uLL);
    bzero(v4[31], 0x1000uLL);
    *(v3 + 56) = 0;
  }
}

uint64_t sub_1003C6928(uint64_t a1)
{
  v1 = *(a1 + 624);
  result = (**(a1 + 8))();
  *(v1 + 80) = result + 1020;
  *(result + 1008) = xmmword_1003ECA90;
  *(result + 1024) = xmmword_1003E6860;
  *(result + 1040) = xmmword_1003ECAB0;
  *(result + 1056) = xmmword_1003ECAD0;
  *(result + 976) = xmmword_1003ECAC0;
  *(result + 992) = xmmword_1003ECAA0;
  *(result + 1072) = xmmword_1003ECAF0;
  *(result + 1088) = xmmword_1003ECB10;
  *(result + 944) = xmmword_1003ECB00;
  *(result + 960) = xmmword_1003ECAE0;
  *(result + 1104) = xmmword_1003ECB30;
  *(result + 1120) = xmmword_1003ECB50;
  *(result + 912) = xmmword_1003ECB40;
  *(result + 928) = xmmword_1003ECB20;
  *(result + 1136) = xmmword_1003ECB70;
  *(result + 1152) = xmmword_1003ECB90;
  *(result + 880) = xmmword_1003ECB80;
  *(result + 896) = xmmword_1003ECB60;
  *(result + 1168) = xmmword_1003ECBB0;
  *(result + 1184) = xmmword_1003ECBD0;
  *(result + 1200) = 0x1F0000001ELL;
  *(result + 1208) = 31;
  v3 = 1212;
  v4 = 828;
  *(result + 848) = xmmword_1003ECBC0;
  *(result + 864) = xmmword_1003ECBA0;
  *(result + 832) = xmmword_1003ECBE0;
  do
  {
    *(result + v3) = 32;
    *(result + v4) = -32;
    v3 += 4;
    v4 -= 4;
  }

  while (v4 != -4);
  return result;
}

uint64_t sub_1003C6A9C(uint64_t result, uint64_t a2, uint64_t a3, int a4)
{
  if (a4 >= 1)
  {
    v4 = *(result + 116);
    if (v4)
    {
      v5 = 0;
      v6 = *(*(result + 624) + 48);
      do
      {
        v7 = *(a2 + 8 * v5);
        v8 = v4;
        do
        {
          v9 = *(v6 + (*v7 & 0xF8)) + ((16 * v7[1]) & 0xFC0);
          v10 = (v7[2] >> 2) & 0x3E;
          v11 = *(v9 + v10);
          if (((v11 + 1) & 0x10000) == 0)
          {
            LOWORD(v11) = v11 + 1;
          }

          *(v9 + v10) = v11;
          v7 += 3;
          --v8;
        }

        while (v8);
        ++v5;
      }

      while (v5 != a4);
    }
  }

  return result;
}

uint64_t sub_1003C6B1C(uint64_t *a1)
{
  v2 = a1[78];
  a1[18] = *(v2 + 32);
  v55 = v2;
  v3 = *(v2 + 40);
  v4 = (*a1[1])();
  *v4 = xmmword_1003ECBF0;
  *(v4 + 16) = 0x1F00000000;
  v56 = v4;
  sub_1003C72BC(*(a1[78] + 48), v4);
  v5 = 1;
  if (v3 < 2)
  {
    goto LABEL_28;
  }

  v6 = 1;
  while (1)
  {
    if (v3 >= 2 * v6)
    {
      v10 = 0;
      v25 = 0;
      v26 = v6;
      v27 = v56;
      do
      {
        if (*(v27 + 32) > v25 && *(v27 + 24) > 0)
        {
          v25 = *(v27 + 32);
          v10 = v27;
        }

        v27 += 40;
        --v26;
      }

      while (v26);
    }

    else
    {
      v10 = 0;
      v11 = 0;
      v12 = v6;
      v13 = v56;
      do
      {
        if (*(v13 + 24) > v11)
        {
          v11 = *(v13 + 24);
          v10 = v13;
        }

        v13 += 40;
        --v12;
      }

      while (v12);
    }

    if (!v10)
    {
      break;
    }

    v14 = (v56 + 40 * v6);
    v8 = v10 + 1;
    v15 = v10[1];
    v16 = v10[3];
    v14[3] = v16;
    v17 = v10[5];
    v14[5] = v17;
    v18 = *v10;
    *v14 = *v10;
    v14[1] = v15;
    v19 = v10[2];
    v14[2] = v19;
    v9 = v14 + 2;
    v20 = v10[4];
    v14[4] = v20;
    v21 = 16 * (v15 - v18);
    v22 = 12 * (v16 - v19);
    v23 = v21 <= v22;
    if (v21 <= v22)
    {
      v21 = 12 * (v16 - v19);
    }

    if (v21 >= 8 * (v17 - v20))
    {
      v24 = v23;
    }

    else
    {
      v24 = 2;
    }

    if (v24 == 2)
    {
      v7 = v20 + v17;
      v8 = v10 + 5;
      v9 = v14 + 4;
    }

    else if (v24 == 1)
    {
      v7 = v19 + v16;
      v8 = v10 + 3;
    }

    else
    {
      v7 = v18 + v15;
      v9 = (v56 + 40 * v6);
    }

    *v8 = v7 / 2;
    *v9 = v7 / 2 + 1;
    sub_1003C72BC(*(a1[78] + 48), v10);
    sub_1003C72BC(*(a1[78] + 48), v14);
    if (++v6 == v3)
    {
      goto LABEL_27;
    }
  }

  LODWORD(v3) = v6;
LABEL_27:
  v5 = v3;
  if (v3 >= 1)
  {
LABEL_28:
    v28 = 0;
    do
    {
      v33 = (v56 + 40 * v28);
      v34 = v33[1];
      v35 = *v33;
      if (v35 <= v34 && ((v36 = v33[3], v37 = v33[2], v38 = v33[4], v39 = v33[5], v37 <= v36) ? (v40 = v38 <= v39) : (v40 = 0), v40))
      {
        v32 = 0;
        v31 = 0;
        v30 = 0;
        v29 = 0;
        v41 = v36 + 1;
        v42 = v34 + 1;
        v43 = v39 - v38 + 1;
        do
        {
          v44 = v37;
          do
          {
            v45 = (*(*(a1[78] + 48) + 8 * v35) + (v44 << 6) + 2 * v38);
            v46 = (8 * v38) | 4;
            v47 = v43;
            do
            {
              v48 = *v45++;
              v49 = v29 + v48;
              v50 = v30 + v48 * ((8 * v35) | 4);
              v51 = v31 + v48 * ((4 * v44) | 2);
              v52 = v32 + v48 * v46;
              if (v48)
              {
                v29 = v49;
                v30 = v50;
                v31 = v51;
                v32 = v52;
              }

              v46 += 8;
              --v47;
            }

            while (v47);
            ++v44;
          }

          while (v41 != v44);
          ++v35;
        }

        while (v42 != v35);
      }

      else
      {
        v29 = 0;
        v30 = 0;
        v31 = 0;
        v32 = 0;
      }

      *(*a1[18] + v28) = (v30 + (v29 >> 1)) / v29;
      *(*(a1[18] + 8) + v28) = (v31 + (v29 >> 1)) / v29;
      *(*(a1[18] + 16) + v28++) = (v32 + (v29 >> 1)) / v29;
    }

    while (v28 != v5);
  }

  *(a1 + 34) = v5;
  v53 = *a1;
  *(v53 + 40) = 98;
  *(v53 + 44) = v5;
  result = (*(*a1 + 8))(a1, 1);
  *(v55 + 56) = 1;
  return result;
}

uint64_t sub_1003C6EC0(uint64_t result, uint64_t a2, uint64_t a3, int a4)
{
  if (a4 >= 1)
  {
    v4 = *(result + 624);
    v5 = *(result + 116);
    v6 = 3 * v5;
    if (v5)
    {
      v7 = 0;
      v8 = *(v4 + 48);
      v9 = *(result + 408);
      v10 = *(v4 + 80);
      v11 = *(result + 144);
      v12 = *v11;
      v13 = v11[1];
      v14 = v11[2];
      v52 = (v5 - 1);
      v53 = (v6 + 3);
      v51 = (v6 - 3);
      v54 = a4;
      v56 = *(result + 624);
      v55 = *(result + 116);
      v64 = v9;
      v65 = v8;
      v62 = *v11;
      v63 = v10;
      v60 = v14;
      v61 = v13;
      do
      {
        v15 = *(a2 + 8 * v7);
        v16 = *(a3 + 8 * v7);
        v59 = v7;
        if (*(v4 + 72))
        {
          v17 = 0;
          v15 += v51;
          v16 += v52;
          v18 = *(v4 + 64) + 2 * v53;
          v19 = -3;
          v20 = -1;
        }

        else
        {
          v18 = *(v4 + 64);
          v19 = 3;
          v17 = 1;
          v20 = 1;
        }

        v21 = 0;
        v22 = 0;
        v23 = 0;
        v24 = 0;
        v25 = 0;
        v26 = 0;
        v27 = 0;
        *(v4 + 72) = v17;
        v28 = 0;
        v71 = v19;
        v29 = 2 * v19;
        v30 = 0;
        v70 = v29;
        v31 = (v18 + 2);
        v32 = (v15 + 2);
        v66 = v20;
        do
        {
          v72 = v24;
          v73 = v26;
          v74 = v25;
          v75 = v27;
          v40 = (v31 + v70);
          v41 = *(v9 + *(v10 + 4 * ((v21 + *(v31 + v70 - 2) + 8) >> 4)) + *(v32 - 2));
          v42 = *(v9 + *(v10 + 4 * ((v22 + *(v31 + v70) + 8) >> 4)) + *(v32 - 1));
          v43 = *(v9 + *(v10 + 4 * ((v23 + *(v31 + v70 + 2) + 8) >> 4)) + *v32);
          v44 = *(v8 + 8 * (v41 >> 3)) + (v42 >> 2 << 6);
          v45 = *(v44 + 2 * (v43 >> 3));
          if (!*(v44 + 2 * (v43 >> 3)))
          {
            v46 = result;
            v69 = v16;
            v68 = v28;
            v67 = v30;
            sub_1003C7898(result, v41 >> 3, v42 >> 2, v43 >> 3);
            v30 = v67;
            v28 = v68;
            v8 = v65;
            v20 = v66;
            v16 = v69;
            v13 = v61;
            v12 = v62;
            v10 = v63;
            v9 = v64;
            result = v46;
            v14 = v60;
            v45 = *(v44 + 2 * (v43 >> 3));
          }

          v33 = v45 - 1;
          *v16 = v33;
          v34 = v41 - *(v12 + v33);
          v35 = v42 - *(v13 + v33);
          v36 = v43 - *(v14 + v33);
          v37 = 3 * (v41 - *(v12 + v33)) + v74;
          v25 = 5 * v34 + v30;
          v38 = 3 * (v42 - *(v13 + v33)) + v73;
          v26 = 5 * v35 + v28;
          v39 = 3 * (v43 - *(v14 + v33)) + v75;
          v21 = 7 * v34;
          v27 = 5 * v36 + v72;
          v22 = 7 * v35;
          *(v31 - 1) = v37;
          *v31 = v38;
          v23 = 7 * v36;
          v16 += v20;
          v32 += v71;
          v31[1] = v39;
          v31 = (v31 + v70);
          v30 = v34;
          v28 = v35;
          v24 = v36;
          --v5;
        }

        while (v5);
        *(v40 - 1) = v25;
        *v40 = v26;
        v40[1] = v27;
        v7 = v59 + 1;
        v4 = v56;
        v5 = v55;
      }

      while (v59 + 1 != v54);
    }

    else
    {
      v47 = *(v4 + 72);
      v48 = *(v4 + 64);
      do
      {
        v47 = v47 == 0;
        if (v47)
        {
          v49 = 0;
        }

        else
        {
          v49 = (3 * v5 + 3);
        }

        v50 = v48 + 2 * v49;
        *v50 = 0;
        *(v50 + 4) = 0;
        --a4;
      }

      while (a4);
      *(v4 + 72) = v47;
    }
  }

  return result;
}

_BYTE *sub_1003C71D4(_BYTE *result, uint64_t a2, uint64_t a3, int a4)
{
  if (a4 >= 1)
  {
    v4 = result;
    v5 = *(result + 29);
    if (v5)
    {
      v7 = 0;
      v8 = *(*(result + 78) + 48);
      v9 = a4;
      do
      {
        v10 = *(a2 + 8 * v7);
        v11 = *(a3 + 8 * v7);
        v12 = v5;
        do
        {
          v13 = *v10 >> 3;
          v14 = v10[1] >> 2;
          v15 = v10[2] >> 3;
          v16 = (*(v8 + 8 * v13) + (v14 << 6) + 2 * v15);
          v17 = *v16;
          if (!*v16)
          {
            result = sub_1003C7898(v4, v13, v14, v15);
            LOBYTE(v17) = *v16;
          }

          *v11++ = v17 - 1;
          v10 += 3;
          --v12;
        }

        while (v12);
        ++v7;
      }

      while (v7 != v9);
    }
  }

  return result;
}

uint64_t sub_1003C72BC(uint64_t result, uint64_t a2)
{
  LODWORD(v3) = *a2;
  v2 = *(a2 + 4);
  v4 = *(a2 + 8);
  v5 = *(a2 + 12);
  v6 = v4;
  v7 = *(a2 + 16);
  v8 = *(a2 + 20);
  v9 = v7;
  v10 = v2 > *a2 && v4 <= v5;
  if (v10 && v7 <= v8)
  {
    v12 = v3;
    do
    {
      v13 = v4;
      while (2)
      {
        v14 = (*(result + 8 * v12) + (v13 << 6) + 2 * v7);
        v15 = v8 - v7 + 1;
        do
        {
          if (*v14)
          {
            *a2 = v12;
            LODWORD(v3) = v12;
            goto LABEL_18;
          }

          ++v14;
          --v15;
        }

        while (v15);
        if (v5 + 1 != ++v13)
        {
          continue;
        }

        break;
      }

      ++v12;
    }

    while (v2 + 1 != v12);
  }

LABEL_18:
  if (v2 > v3 && v4 <= v5 && v7 <= v8)
  {
    v18 = v2;
    do
    {
      v19 = v4;
      while (2)
      {
        v20 = (*(result + 8 * v18) + (v19 << 6) + 2 * v7);
        v21 = v8 - v7 + 1;
        do
        {
          if (*v20)
          {
            *(a2 + 4) = v18;
            v2 = v18;
            goto LABEL_36;
          }

          ++v20;
          --v21;
        }

        while (v21);
        if (v5 + 1 != ++v19)
        {
          continue;
        }

        break;
      }

      v10 = v18-- <= v3;
    }

    while (!v10);
  }

LABEL_36:
  if (v5 > v4 && v2 >= v3 && v7 <= v8)
  {
    do
    {
      v22 = v3;
      while (2)
      {
        v23 = (*(result + 8 * v22) + (v6 << 6) + 2 * v7);
        v24 = v8 - v7 + 1;
        do
        {
          if (*v23)
          {
            *(a2 + 8) = v6;
            v4 = v6;
            goto LABEL_47;
          }

          ++v23;
          --v24;
        }

        while (v24);
        if (v2 + 1 != ++v22)
        {
          continue;
        }

        break;
      }

      ++v6;
    }

    while (v5 + 1 != v6);
  }

LABEL_47:
  if (v5 > v4 && v2 >= v3 && v7 <= v8)
  {
    v25 = v5;
    do
    {
      v26 = v3;
      while (2)
      {
        v27 = (*(result + 8 * v26) + (v25 << 6) + 2 * v7);
        v28 = v8 - v7 + 1;
        do
        {
          if (*v27)
          {
            *(a2 + 12) = v25;
            v5 = v25;
            goto LABEL_60;
          }

          ++v27;
          --v28;
        }

        while (v28);
        if (v2 + 1 != ++v26)
        {
          continue;
        }

        break;
      }

      v10 = v25-- <= v4;
    }

    while (!v10);
  }

LABEL_60:
  if (v8 > v7 && v2 >= v3 && v5 >= v4)
  {
    do
    {
      v29 = v3;
      while (2)
      {
        v30 = (*(result + 8 * v29) + (v4 << 6) + 2 * v9);
        v31 = v5 - v4 + 1;
        do
        {
          if (*v30)
          {
            *(a2 + 16) = v9;
            v7 = v9;
            goto LABEL_71;
          }

          v30 += 32;
          --v31;
        }

        while (v31);
        if (v2 + 1 != ++v29)
        {
          continue;
        }

        break;
      }

      ++v9;
    }

    while (v8 + 1 != v9);
  }

LABEL_71:
  if (v8 > v7 && v2 >= v3 && v5 >= v4)
  {
    v32 = v8;
    do
    {
      v33 = v3;
      while (2)
      {
        v34 = (*(result + 8 * v33) + (v4 << 6) + 2 * v32);
        v35 = v5 - v4 + 1;
        do
        {
          if (*v34)
          {
            *(a2 + 20) = v32;
            v8 = v32;
            goto LABEL_84;
          }

          v34 += 32;
          --v35;
        }

        while (v35);
        if (v2 + 1 != ++v33)
        {
          continue;
        }

        break;
      }

      v10 = v32-- <= v7;
    }

    while (!v10);
  }

LABEL_84:
  v36 = (v8 - v7);
  *(a2 + 24) = 12 * (v5 - v4) * (12 * (v5 - v4)) + 16 * (v2 - v3) * (16 * (v2 - v3)) + 8 * v36 * (8 * v36);
  if (v2 < v3)
  {
    v37 = 0;
LABEL_86:
    *(a2 + 32) = v37;
    return result;
  }

  if (v5 < v4)
  {
    *(a2 + 32) = 0;
    return result;
  }

  if (v8 >= v7)
  {
    v39 = v7;
    v40 = v5 + 1;
    v3 = v3;
    v41 = v2 + 1;
    if (v36 < 3)
    {
      v37 = 0;
      v42 = v8 - v7 + 1;
      do
      {
        v43 = v4;
        do
        {
          v44 = (*(result + 8 * v3) + (v43 << 6) + 2 * v39);
          v45 = v42;
          do
          {
            if (*v44++)
            {
              ++v37;
            }

            --v45;
          }

          while (v45);
          ++v43;
        }

        while (v40 != v43);
        ++v3;
      }

      while (v41 != v3);
      goto LABEL_86;
    }

    v37 = 0;
    v47 = v36 + 1;
    v48 = (v4 << 6) + 2 * v7;
    v49 = ~v8 + v7;
    v50 = vdupq_n_s64(1uLL);
LABEL_105:
    v51 = *(result + 8 * v3);
    v52 = (v51 + v48 + 16);
    v53 = v51 + v48;
    v54 = v4;
    while (1)
    {
      if (v36 >= 0xF)
      {
        v56 = 0uLL;
        v57 = v37;
        v58 = (v36 + 1) & 0x1FFFFFFF0;
        v59 = v52;
        v60 = 0uLL;
        v61 = 0uLL;
        v62 = 0uLL;
        v63 = 0uLL;
        v64 = 0uLL;
        v65 = 0uLL;
        do
        {
          v66 = vtstq_s16(v59[-1], v59[-1]);
          v67 = vmovl_u16(*v66.i8);
          v68 = vdupq_n_s64(1uLL);
          v69.i64[0] = v67.u32[0];
          v69.i64[1] = v67.u32[1];
          v70 = vandq_s8(v69, v68);
          v69.i64[0] = v67.u32[2];
          v69.i64[1] = v67.u32[3];
          v71 = vandq_s8(v69, v68);
          v72 = vmovl_high_u16(v66);
          v69.i64[0] = v72.u32[0];
          v69.i64[1] = v72.u32[1];
          v73 = vandq_s8(v69, v68);
          v69.i64[0] = v72.u32[2];
          v69.i64[1] = v72.u32[3];
          v74 = vandq_s8(v69, v68);
          v75 = vtstq_s16(*v59, *v59);
          v76 = vmovl_u16(*v75.i8);
          v69.i64[0] = v76.u32[0];
          v69.i64[1] = v76.u32[1];
          v77 = vandq_s8(v69, v68);
          v69.i64[0] = v76.u32[2];
          v69.i64[1] = v76.u32[3];
          v78 = vandq_s8(v69, v68);
          v79 = vmovl_high_u16(v75);
          v69.i64[0] = v79.u32[0];
          v69.i64[1] = v79.u32[1];
          v80 = vandq_s8(v69, v68);
          v69.i64[0] = v79.u32[2];
          v69.i64[1] = v79.u32[3];
          v61 = vaddq_s64(v61, v74);
          v60 = vaddq_s64(v60, v73);
          v56 = vaddq_s64(v56, v71);
          v57 = vaddq_s64(v57, v70);
          v65 = vaddq_s64(v65, vandq_s8(v69, v68));
          v64 = vaddq_s64(v64, v80);
          v63 = vaddq_s64(v63, v78);
          v62 = vaddq_s64(v62, v77);
          v59 += 2;
          v58 -= 16;
        }

        while (v58);
        v37 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v62, v57), vaddq_s64(v64, v60)), vaddq_s64(vaddq_s64(v63, v56), vaddq_s64(v65, v61))));
        if (v47 == ((v36 + 1) & 0x1FFFFFFF0))
        {
          goto LABEL_106;
        }

        v55 = (v36 + 1) & 0x1FFFFFFF0;
        v81 = v55;
        if (((v36 + 1) & 0xC) == 0)
        {
          goto LABEL_116;
        }
      }

      else
      {
        v55 = 0;
      }

      v82 = 0uLL;
      v83 = v37;
      v84 = (v53 + 2 * v55);
      v85 = v55 - ((v36 + 1) & 0x1FFFFFFFCLL);
      do
      {
        v86 = *v84++;
        v87 = vmovl_u16(vtst_s16(v86, v86));
        v88.i64[0] = v87.u32[0];
        v88.i64[1] = v87.u32[1];
        v89 = vandq_s8(v88, v50);
        v88.i64[0] = v87.u32[2];
        v88.i64[1] = v87.u32[3];
        v82 = vaddq_s64(v82, vandq_s8(v88, v50));
        v83 = vaddq_s64(v83, v89);
        v85 += 4;
      }

      while (v85);
      v37 = vaddvq_s64(vaddq_s64(v83, v82));
      v81 = (v36 + 1) & 0x1FFFFFFFCLL;
      if (v47 != v81)
      {
LABEL_116:
        v90 = 2 * v81;
        v91 = v49 + v81;
        do
        {
          if (*(v53 + v90))
          {
            ++v37;
          }

          v90 += 2;
        }

        while (!__CFADD__(v91++, 1));
      }

LABEL_106:
      ++v54;
      v52 += 4;
      v53 += 64;
      if (v40 == v54)
      {
        if (v41 == ++v3)
        {
          goto LABEL_86;
        }

        goto LABEL_105;
      }
    }
  }

  v38 = v2 - v3 + 1;
  do
  {
    --v38;
  }

  while (v38);
  *(a2 + 32) = 0;
  return result;
}

_BYTE *sub_1003C7898(uint64_t a1, unsigned int a2, int a3, int a4)
{
  v110 = *(*(a1 + 624) + 48);
  v4 = *(a1 + 136);
  if (v4 > 0)
  {
    v5 = 0;
    v6 = (32 * (a2 >> 2)) | 4;
    v7 = 4 * a3;
    v8 = v7 & 0xFFFFFFFFFFFFFFE0 | 2;
    v9 = 8 * a4;
    v10 = v9 & 0xFFFFFFFFFFFFFFE0 | 4;
    v11 = (8 * a2) | 0x1C;
    v12 = v7 | 0x1E;
    v13 = (v8 + (v7 | 0x1E)) >> 1;
    v14 = v9 | 0x1C;
    v15 = *(a1 + 144);
    v16 = *v15;
    v17 = v15[1];
    v18 = v15[2];
    v19 = 0x7FFFFFFFLL;
    do
    {
      v20 = *(v16 + v5);
      if ((v6 + v11) >> 1 >= v20)
      {
        v21 = v11;
      }

      else
      {
        v21 = v6;
      }

      v22 = 2 * (v20 - v11) * (2 * (v20 - v11));
      if (v20 <= v11)
      {
        v22 = 0;
      }

      else
      {
        v21 = v6;
      }

      if (v20 < v6)
      {
        v21 = v11;
        v22 = 2 * (v20 - v6) * (2 * (v20 - v6));
      }

      v23 = 2 * (v20 - v21) * (2 * (v20 - v21));
      v24 = *(v17 + v5);
      if (v13 >= v24)
      {
        v25 = v12;
      }

      else
      {
        v25 = v8;
      }

      v26 = v22 + 3 * (v24 - v12) * 3 * (v24 - v12);
      if (v24 <= v12)
      {
        v26 = v22;
      }

      else
      {
        v25 = v8;
      }

      v27 = v22 + 3 * (v24 - v8) * 3 * (v24 - v8);
      if (v24 >= v8)
      {
        v27 = v26;
      }

      else
      {
        v25 = v12;
      }

      v28 = v23 + 3 * (v24 - v25) * 3 * (v24 - v25);
      v29 = *(v18 + v5);
      if ((v10 + v14) >> 1 >= v29)
      {
        v30 = v14;
      }

      else
      {
        v30 = v10;
      }

      v31 = v27 + (v29 - v14) * (v29 - v14);
      if (v29 <= v14)
      {
        v31 = v27;
      }

      else
      {
        v30 = v10;
      }

      v32 = v27 + (v29 - v10) * (v29 - v10);
      if (v29 >= v10)
      {
        v32 = v31;
      }

      else
      {
        v30 = v14;
      }

      v33 = v28 + (v29 - v30) * (v29 - v30);
      __b[v5] = v32;
      if (v33 < v19)
      {
        v19 = v33;
      }

      ++v5;
    }

    while (v4 != v5);
    v34 = 0;
    v35 = 0;
    do
    {
      if (__b[v34] <= v19)
      {
        v112[v35++ + 113] = v34;
      }

      ++v34;
    }

    while (v4 != v34);
    memset_pattern16(__b, &unk_1003ECC00, 0x400uLL);
    if (v35 >= 1)
    {
      v36 = 0;
      v37 = v8;
      v38 = v10;
      v39 = v35;
      do
      {
        v40 = v112[v36 + 113];
        v41 = 2 * (v6 - *(*v15 + v40));
        v42 = v37 - *(v17 + v40);
        v43 = v38 - *(v18 + v40);
        v44 = 3 * v42 * 3 * v42 + v41 * v41 + v43 * v43;
        v45 = 32 * v41 + 256;
        v46 = 72 * v42;
        v47 = 72 * v42 + 144;
        v48 = 16 * v43;
        v49 = 16 * v43 + 64;
        v50 = v48 + 192;
        v51 = v48 + 320;
        v52 = v46 + 432;
        v53 = v46 + 720;
        v54 = v46 + 1008;
        v55 = v46 + 1296;
        v56 = v46 + 1584;
        v57 = v46 + 1872;
        v58 = -4;
        v59 = v112;
        v60 = &v114;
        do
        {
          if (v44 < *(v60 - 16))
          {
            *(v60 - 16) = v44;
            *(v59 - 15) = v40;
            v62 = v44 + v49;
            if (v44 + v49 >= *(v60 - 15))
            {
LABEL_43:
              v63 = v62 + v50;
              if (v63 >= *(v60 - 14))
              {
                goto LABEL_44;
              }

              goto LABEL_76;
            }
          }

          else
          {
            v62 = v44 + v49;
            if (v44 + v49 >= *(v60 - 15))
            {
              goto LABEL_43;
            }
          }

          *(v60 - 15) = v62;
          *(v59 - 14) = v40;
          v63 = v62 + v50;
          if (v63 >= *(v60 - 14))
          {
LABEL_44:
            v64 = v63 + v51;
            if (v64 >= *(v60 - 13))
            {
              goto LABEL_45;
            }

            goto LABEL_77;
          }

LABEL_76:
          *(v60 - 14) = v63;
          *(v59 - 13) = v40;
          v64 = v63 + v51;
          if (v64 >= *(v60 - 13))
          {
LABEL_45:
            v65 = v47 + v44;
            if (v47 + v44 >= *(v60 - 12))
            {
              goto LABEL_46;
            }

            goto LABEL_78;
          }

LABEL_77:
          *(v60 - 13) = v64;
          *(v59 - 12) = v40;
          v65 = v47 + v44;
          if (v47 + v44 >= *(v60 - 12))
          {
LABEL_46:
            v66 = v65 + v49;
            if (v65 + v49 >= *(v60 - 11))
            {
              goto LABEL_47;
            }

            goto LABEL_79;
          }

LABEL_78:
          *(v60 - 12) = v65;
          *(v59 - 11) = v40;
          v66 = v65 + v49;
          if (v65 + v49 >= *(v60 - 11))
          {
LABEL_47:
            v67 = v66 + v50;
            if (v67 >= *(v60 - 10))
            {
              goto LABEL_48;
            }

            goto LABEL_80;
          }

LABEL_79:
          *(v60 - 11) = v66;
          *(v59 - 10) = v40;
          v67 = v66 + v50;
          if (v67 >= *(v60 - 10))
          {
LABEL_48:
            v68 = v67 + v51;
            if (v68 >= *(v60 - 9))
            {
              goto LABEL_49;
            }

            goto LABEL_81;
          }

LABEL_80:
          *(v60 - 10) = v67;
          *(v59 - 9) = v40;
          v68 = v67 + v51;
          if (v68 >= *(v60 - 9))
          {
LABEL_49:
            v69 = v52 + v65;
            if (v69 >= *(v60 - 8))
            {
              goto LABEL_50;
            }

            goto LABEL_82;
          }

LABEL_81:
          *(v60 - 9) = v68;
          *(v59 - 8) = v40;
          v69 = v52 + v65;
          if (v69 >= *(v60 - 8))
          {
LABEL_50:
            v70 = v69 + v49;
            if (v69 + v49 >= *(v60 - 7))
            {
              goto LABEL_51;
            }

            goto LABEL_83;
          }

LABEL_82:
          *(v60 - 8) = v69;
          *(v59 - 7) = v40;
          v70 = v69 + v49;
          if (v69 + v49 >= *(v60 - 7))
          {
LABEL_51:
            v71 = v70 + v50;
            if (v71 >= *(v60 - 6))
            {
              goto LABEL_52;
            }

            goto LABEL_84;
          }

LABEL_83:
          *(v60 - 7) = v70;
          *(v59 - 6) = v40;
          v71 = v70 + v50;
          if (v71 >= *(v60 - 6))
          {
LABEL_52:
            v72 = v71 + v51;
            if (v72 >= *(v60 - 5))
            {
              goto LABEL_53;
            }

            goto LABEL_85;
          }

LABEL_84:
          *(v60 - 6) = v71;
          *(v59 - 5) = v40;
          v72 = v71 + v51;
          if (v72 >= *(v60 - 5))
          {
LABEL_53:
            v73 = v53 + v69;
            if (v73 >= *(v60 - 4))
            {
              goto LABEL_54;
            }

            goto LABEL_86;
          }

LABEL_85:
          *(v60 - 5) = v72;
          *(v59 - 4) = v40;
          v73 = v53 + v69;
          if (v73 >= *(v60 - 4))
          {
LABEL_54:
            v74 = v73 + v49;
            if (v73 + v49 >= *(v60 - 3))
            {
              goto LABEL_55;
            }

            goto LABEL_87;
          }

LABEL_86:
          *(v60 - 4) = v73;
          *(v59 - 3) = v40;
          v74 = v73 + v49;
          if (v73 + v49 >= *(v60 - 3))
          {
LABEL_55:
            v75 = v74 + v50;
            if (v75 >= *(v60 - 2))
            {
              goto LABEL_56;
            }

            goto LABEL_88;
          }

LABEL_87:
          *(v60 - 3) = v74;
          *(v59 - 2) = v40;
          v75 = v74 + v50;
          if (v75 >= *(v60 - 2))
          {
LABEL_56:
            v76 = v75 + v51;
            if (v76 >= *(v60 - 1))
            {
              goto LABEL_57;
            }

            goto LABEL_89;
          }

LABEL_88:
          *(v60 - 2) = v75;
          *(v59 - 1) = v40;
          v76 = v75 + v51;
          if (v76 >= *(v60 - 1))
          {
LABEL_57:
            v77 = v54 + v73;
            if (v77 >= *v60)
            {
              goto LABEL_58;
            }

            goto LABEL_90;
          }

LABEL_89:
          *(v60 - 1) = v76;
          *v59 = v40;
          v77 = v54 + v73;
          if (v77 >= *v60)
          {
LABEL_58:
            v78 = v77 + v49;
            if (v77 + v49 >= v60[1])
            {
              goto LABEL_59;
            }

            goto LABEL_91;
          }

LABEL_90:
          *v60 = v77;
          v59[1] = v40;
          v78 = v77 + v49;
          if (v77 + v49 >= v60[1])
          {
LABEL_59:
            v79 = v78 + v50;
            if (v79 >= v60[2])
            {
              goto LABEL_60;
            }

            goto LABEL_92;
          }

LABEL_91:
          v60[1] = v78;
          v59[2] = v40;
          v79 = v78 + v50;
          if (v79 >= v60[2])
          {
LABEL_60:
            v80 = v79 + v51;
            if (v80 >= v60[3])
            {
              goto LABEL_61;
            }

            goto LABEL_93;
          }

LABEL_92:
          v60[2] = v79;
          v59[3] = v40;
          v80 = v79 + v51;
          if (v80 >= v60[3])
          {
LABEL_61:
            v81 = v55 + v77;
            if (v81 >= v60[4])
            {
              goto LABEL_62;
            }

            goto LABEL_94;
          }

LABEL_93:
          v60[3] = v80;
          v59[4] = v40;
          v81 = v55 + v77;
          if (v81 >= v60[4])
          {
LABEL_62:
            v82 = v81 + v49;
            if (v81 + v49 >= v60[5])
            {
              goto LABEL_63;
            }

            goto LABEL_95;
          }

LABEL_94:
          v60[4] = v81;
          v59[5] = v40;
          v82 = v81 + v49;
          if (v81 + v49 >= v60[5])
          {
LABEL_63:
            v83 = v82 + v50;
            if (v83 >= v60[6])
            {
              goto LABEL_64;
            }

            goto LABEL_96;
          }

LABEL_95:
          v60[5] = v82;
          v59[6] = v40;
          v83 = v82 + v50;
          if (v83 >= v60[6])
          {
LABEL_64:
            v84 = v83 + v51;
            if (v84 >= v60[7])
            {
              goto LABEL_65;
            }

            goto LABEL_97;
          }

LABEL_96:
          v60[6] = v83;
          v59[7] = v40;
          v84 = v83 + v51;
          if (v84 >= v60[7])
          {
LABEL_65:
            v85 = v56 + v81;
            if (v85 >= v60[8])
            {
              goto LABEL_66;
            }

            goto LABEL_98;
          }

LABEL_97:
          v60[7] = v84;
          v59[8] = v40;
          v85 = v56 + v81;
          if (v85 >= v60[8])
          {
LABEL_66:
            v86 = v85 + v49;
            if (v85 + v49 >= v60[9])
            {
              goto LABEL_67;
            }

            goto LABEL_99;
          }

LABEL_98:
          v60[8] = v85;
          v59[9] = v40;
          v86 = v85 + v49;
          if (v85 + v49 >= v60[9])
          {
LABEL_67:
            v87 = v86 + v50;
            if (v87 >= v60[10])
            {
              goto LABEL_68;
            }

            goto LABEL_100;
          }

LABEL_99:
          v60[9] = v86;
          v59[10] = v40;
          v87 = v86 + v50;
          if (v87 >= v60[10])
          {
LABEL_68:
            v88 = v87 + v51;
            if (v88 >= v60[11])
            {
              goto LABEL_69;
            }

            goto LABEL_101;
          }

LABEL_100:
          v60[10] = v87;
          v59[11] = v40;
          v88 = v87 + v51;
          if (v88 >= v60[11])
          {
LABEL_69:
            v89 = v57 + v85;
            if (v89 >= v60[12])
            {
              goto LABEL_70;
            }

            goto LABEL_102;
          }

LABEL_101:
          v60[11] = v88;
          v59[12] = v40;
          v89 = v57 + v85;
          if (v89 >= v60[12])
          {
LABEL_70:
            v90 = v89 + v49;
            if (v90 >= v60[13])
            {
              goto LABEL_71;
            }

            goto LABEL_103;
          }

LABEL_102:
          v60[12] = v89;
          v59[13] = v40;
          v90 = v89 + v49;
          if (v90 >= v60[13])
          {
LABEL_71:
            v91 = v90 + v50;
            if (v91 < v60[14])
            {
              goto LABEL_104;
            }

            goto LABEL_72;
          }

LABEL_103:
          v60[13] = v90;
          v59[14] = v40;
          v91 = v90 + v50;
          if (v91 < v60[14])
          {
LABEL_104:
            v60[14] = v91;
            v59[15] = v40;
            v92 = v91 + v51;
            if (v92 >= v60[15])
            {
              goto LABEL_40;
            }

            goto LABEL_105;
          }

LABEL_72:
          v92 = v91 + v51;
          if (v92 >= v60[15])
          {
            goto LABEL_40;
          }

LABEL_105:
          v60[15] = v92;
          v59[16] = v40;
LABEL_40:
          v44 += v45;
          v45 += 512;
          v60 += 32;
          v59 += 32;
        }

        while (!__CFADD__(v58++, 1));
        ++v36;
      }

      while (v36 != v39);
    }
  }

  v93 = 0;
  v94 = a3 & 0xFFFFFFFFFFFFFFF8;
  v95 = (v110 + 8 * (a2 & 0xFFFFFFFC));
  result = v111;
  v97 = 2 * (a4 & 0xFFFFFFFC);
  do
  {
    v98 = *v95++;
    v99 = (v98 + (v94 << 6) + v97);
    *v99 = v111[v93] + 1;
    v99[1] = v111[v93 + 1] + 1;
    v99[2] = v111[v93 + 2] + 1;
    v99[3] = v111[v93 + 3] + 1;
    v100 = (v98 + ((v94 | 1) << 6) + v97);
    *v100 = v111[v93 + 4] + 1;
    v100[1] = v111[v93 + 5] + 1;
    v100[2] = v111[v93 + 6] + 1;
    v100[3] = v111[v93 + 7] + 1;
    v101 = (v98 + ((v94 | 2) << 6) + v97);
    *v101 = v111[v93 + 8] + 1;
    v101[1] = v111[v93 + 9] + 1;
    v101[2] = v111[v93 + 10] + 1;
    v101[3] = v111[v93 + 11] + 1;
    v102 = (v98 + ((v94 | 3) << 6) + v97);
    *v102 = v111[v93 + 12] + 1;
    v102[1] = v111[v93 + 13] + 1;
    v102[2] = v111[v93 + 14] + 1;
    v102[3] = v111[v93 + 15] + 1;
    v103 = (v98 + ((v94 | 4) << 6) + v97);
    *v103 = v112[v93 + 1] + 1;
    v103[1] = v112[v93 + 2] + 1;
    v103[2] = v112[v93 + 3] + 1;
    v103[3] = v112[v93 + 4] + 1;
    v104 = (v98 + ((v94 | 5) << 6) + v97);
    *v104 = v112[v93 + 5] + 1;
    v104[1] = v112[v93 + 6] + 1;
    v104[2] = v112[v93 + 7] + 1;
    v104[3] = v112[v93 + 8] + 1;
    v105 = (v98 + ((v94 | 6) << 6) + v97);
    *v105 = v112[v93 + 9] + 1;
    v105[1] = v112[v93 + 10] + 1;
    v105[2] = v112[v93 + 11] + 1;
    v105[3] = v112[v93 + 12] + 1;
    v106 = (v98 + ((v94 | 7) << 6) + v97);
    *v106 = v112[v93 + 13] + 1;
    v106[1] = v112[v93 + 14] + 1;
    v106[2] = v112[v93 + 15] + 1;
    v106[3] = v112[v93 + 16] + 1;
    v93 += 32;
  }

  while (v93 != 128);
  return result;
}

char *sub_1003C82D0(char *result, int a2, uint64_t a3, int a4, int a5, size_t __n)
{
  if (a5 >= 1)
  {
    v6 = __n;
    v7 = (a3 + 8 * a4);
    v8 = a5 + 1;
    v9 = &result[8 * a2];
    do
    {
      v11 = *v9++;
      v10 = v11;
      v12 = *v7++;
      result = memcpy(v12, v10, v6);
      --v8;
    }

    while (v8 > 1);
  }

  return result;
}

void sub_1003C836C()
{
  if (__cxa_guard_acquire(qword_1004B0060))
  {
    sub_1001FA7EC();

    __cxa_guard_release(qword_1004B0060);
  }
}

void sub_1003C83B4()
{
  if (__cxa_guard_acquire(qword_1004B0020))
  {
    sub_1001FA7DC();

    __cxa_guard_release(qword_1004B0020);
  }
}

void sub_1003C83FC()
{
  if (__cxa_guard_acquire(qword_1004B0040))
  {
    sub_1001FA7CC();

    __cxa_guard_release(qword_1004B0040);
  }
}

void sub_1003C8444()
{
  if (__cxa_guard_acquire(qword_1004B0080))
  {
    sub_1001FA80C();

    __cxa_guard_release(qword_1004B0080);
  }
}

void sub_1003C848C()
{
  if (__cxa_guard_acquire(&qword_1004B00A0))
  {
    sub_1001FA7FC();

    __cxa_guard_release(&qword_1004B00A0);
  }
}

void sub_1003C84D4()
{
  if (__cxa_guard_acquire(&qword_1004B0130))
  {
    qword_1004B0128 = 0;

    __cxa_guard_release(&qword_1004B0130);
  }
}

void sub_1003C8524()
{
  if (__cxa_guard_acquire(&qword_1004BD5C8))
  {
    qword_1004BD5C0 = off_100475048;
    __cxa_atexit(nullsub_15, &qword_1004BD5C0, &_mh_execute_header);

    __cxa_guard_release(&qword_1004BD5C8);
  }
}

void sub_1003C867C()
{
  if (__cxa_guard_acquire(&qword_1004BD6A0))
  {
    v1 = 0x3FF0000000000000;
    v0 = sub_1002A0BA0(&v1, &qword_1003E3D30);

    __cxa_guard_release(v0);
  }
}

void sub_1003C86F0()
{
  if (__cxa_guard_acquire(&qword_1004BD6B0))
  {
    v1 = 0x3FE62E42FEFA39F1;
    v0 = sub_1002A0BA0(&v1, &qword_1003E3D30);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8770()
{
  if (__cxa_guard_acquire(&qword_1004BD6C0))
  {
    v1 = 0x3FCEBFBDFF82A45ALL;
    v0 = sub_1002A0BA0(&v1, &qword_1003E3D30);

    __cxa_guard_release(v0);
  }
}

void sub_1003C87F0()
{
  if (__cxa_guard_acquire(&qword_1004BD6D0))
  {
    v1 = 0x3FAC6B08D81FEC75;
    v0 = sub_1002A0BA0(&v1, &qword_1003E3D30);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8870()
{
  if (__cxa_guard_acquire(&qword_1004BD6E0))
  {
    v1 = 0x3F83B2A72B4F3CD3;
    v0 = sub_1002A0BA0(&v1, &qword_1003E3D30);

    __cxa_guard_release(v0);
  }
}

void sub_1003C88F0()
{
  if (__cxa_guard_acquire(&qword_1004BD6F0))
  {
    v1 = 0x3F55E7AA1566C2A4;
    v0 = sub_1002A0BA0(&v1, &qword_1003E3D30);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8970()
{
  if (__cxa_guard_acquire(&qword_1004BD700))
  {
    qword_1004BD6F8 = 0x3FF0000000000000;

    __cxa_guard_release(&qword_1004BD700);
  }
}

void sub_1003C89BC()
{
  if (__cxa_guard_acquire(&qword_1004BD710))
  {
    v1 = 0xBFF0000000000000;
    v2 = 0x4000000000000000;
    v0 = sub_1002A0BA0(&v1, &v2);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8A30()
{
  if (__cxa_guard_acquire(&qword_1004BD720))
  {
    v1 = 0x3FF0000000000000;
    v2 = 0x4008000000000000;
    v0 = sub_1002A0BA0(&v1, &v2);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8AA4()
{
  if (__cxa_guard_acquire(&qword_1004BD730))
  {
    v1 = 0xBFF0000000000000;
    v2 = 0x4010000000000000;
    v0 = sub_1002A0BA0(&v1, &v2);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8B18()
{
  if (__cxa_guard_acquire(&qword_1004BD740))
  {
    v1 = 0x3FF0000000000000;
    v2 = 0x4014000000000000;
    v0 = sub_1002A0BA0(&v1, &v2);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8B8C()
{
  if (__cxa_guard_acquire(&qword_1004BD750))
  {
    v1 = 0xBFF0000000000000;
    v2 = 0x4018000000000000;
    v0 = sub_1002A0BA0(&v1, &v2);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8C00()
{
  if (__cxa_guard_acquire(&qword_1004BD760))
  {
    v1 = 0x3FF0000000000000;
    v2 = 0x401C000000000000;
    v0 = sub_1002A0BA0(&v1, &v2);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8C74()
{
  if (__cxa_guard_acquire(qword_1004BD770))
  {
    v1 = 0xBFF0000000000000;
    v2 = 0x4020000000000000;
    v0 = sub_1002A0BA0(&v1, &v2);

    __cxa_guard_release(v0);
  }
}

void sub_1003C8CE8()
{
  if (__cxa_guard_acquire(&qword_1004BD7A0))
  {
    qword_1004BD798 = 0;

    __cxa_guard_release(&qword_1004BD7A0);
  }
}

void sub_1003C8D30()
{
  if (__cxa_guard_acquire(&qword_1004BD7B0))
  {
    qword_1004BD7A8 = 0x3FF0000000000000;

    __cxa_guard_release(&qword_1004BD7B0);
  }
}

void sub_1003C8D7C()
{
  if (__cxa_guard_acquire(&qword_1004BD7C0))
  {
    qword_1004BD7B8 = 0x7FF0000000000000;

    __cxa_guard_release(&qword_1004BD7C0);
  }
}

void sub_1003C8DC8()
{
  if (__cxa_guard_acquire(&qword_1004BD7D0))
  {
    qword_1004BD7C8 = 0x7FFFFFFFFFFFFFFFLL;

    __cxa_guard_release(&qword_1004BD7D0);
  }
}

float sub_1003C8E24()
{
  if (__cxa_guard_acquire(&qword_1004D3EC8))
  {
    *&dword_1004D3E38 = 1.0 / (*&dword_1004D3E2C * 8.0);
    __cxa_guard_release(&qword_1004D3EC8);
  }

  return result;
}

void sub_1003C8E70()
{
  if (__cxa_guard_acquire(qword_1004B0060))
  {
    sub_1001FA7EC();
    __cxa_guard_release(qword_1004B0060);
  }
}

void sub_1003C8EA4()
{
  if (__cxa_guard_acquire(qword_1004B0020))
  {
    sub_1001FA7DC();
    __cxa_guard_release(qword_1004B0020);
  }
}

void sub_1003C8ED8()
{
  if (__cxa_guard_acquire(qword_1004B0040))
  {
    sub_1001FA7CC();
    __cxa_guard_release(qword_1004B0040);
  }
}

__n128 sub_1003C8F0C()
{
  if (__cxa_guard_acquire(&qword_1004D48E0))
  {
    *&v1 = 0x80008000800080;
    *(&v1 + 1) = 0x80008000800080;
    xmmword_1004D4900 = v1;
    __cxa_guard_release(&qword_1004D48E0);
  }

  return result;
}

__n128 sub_1003C8F4C()
{
  if (__cxa_guard_acquire(&qword_1004D48E8))
  {
    *&v1 = 0x800000008000;
    *(&v1 + 1) = 0x800000008000;
    xmmword_1004D4910 = v1;
    __cxa_guard_release(&qword_1004D48E8);
  }

  return result;
}

__n128 sub_1003C8F8C()
{
  if (__cxa_guard_acquire(&qword_1004D48F0))
  {
    *&v1 = 0x8000800080008000;
    *(&v1 + 1) = 0x8000800080008000;
    xmmword_1004D4920 = v1;
    __cxa_guard_release(&qword_1004D48F0);
  }

  return result;
}

__n128 sub_1003C8FCC()
{
  if (__cxa_guard_acquire(&qword_1004D48F8))
  {
    *&v1 = 0x8080808080808080;
    *(&v1 + 1) = 0x8080808080808080;
    xmmword_1004D4930 = v1;
    __cxa_guard_release(&qword_1004D48F8);
  }

  return result;
}

Swift::String __swiftcall NSLocalizedString(_:tableName:bundle:value:comment:)(Swift::String _, Swift::String_optional tableName, NSBundle bundle, Swift::String value, Swift::String comment)
{
  v5 = NSLocalizedString(_:tableName:bundle:value:comment:)(_._countAndFlagsBits, _._object, tableName.value._countAndFlagsBits, tableName.value._object, bundle.super.isa, value._countAndFlagsBits, value._object, comment._countAndFlagsBits);
  result._object = v6;
  result._countAndFlagsBits = v5;
  return result;
}

Swift::OpaquePointer_optional __swiftcall MeasureCore.adHitTestPositionOnly(screenPoints:frame:)(Swift::OpaquePointer screenPoints, ARFrame frame)
{
  v2 = MeasureCore.adHitTestPositionOnly(screenPoints:frame:)(screenPoints._rawValue, frame.super.isa);
  result.value._rawValue = v2;
  result.is_nil = v3;
  return result;
}

MTLRenderPassDescriptor_optional __swiftcall MetalScene.makeDefaultRenderPassDescriptor()()
{
  v0 = MetalScene.makeDefaultRenderPassDescriptor()();
  result.value.super.isa = v0;
  result.is_nil = v1;
  return result;
}

Swift::OpaquePointer_optional __swiftcall DepthProcessor.getJasperPointsPosition(requestedMinConfidence:currentFrame:)(Swift::Float requestedMinConfidence, ARFrame currentFrame)
{
  v2 = DepthProcessor.getJasperPointsPosition(requestedMinConfidence:currentFrame:)(currentFrame.super.isa, requestedMinConfidence);
  result.value._rawValue = v2;
  result.is_nil = v3;
  return result;
}

Swift::String __swiftcall benchmarkFormat(seconds:)(Swift::Double seconds)
{
  v1 = benchmarkFormat(seconds:)(seconds);
  result._object = v2;
  result._countAndFlagsBits = v1;
  return result;
}

Swift::String __swiftcall EdgePlanesMetrics.metricDescriptionForBestPlaneType()()
{
  v0 = EdgePlanesMetrics.metricDescriptionForBestPlaneType()();
  result._object = v1;
  result._countAndFlagsBits = v0;
  return result;
}

Swift::String __swiftcall EdgePlanesMetrics.metricDescriptionForOtherPlaneType()()
{
  v0 = EdgePlanesMetrics.metricDescriptionForOtherPlaneType()();
  result._object = v1;
  result._countAndFlagsBits = v0;
  return result;
}

Swift::tuple_actualPoints_OpaquePointer_bestPoints_OpaquePointer __swiftcall LocalPlaneDetector.getPointsForDebug()()
{
  v0 = LocalPlaneDetector.getPointsForDebug()();
  result.bestPoints._rawValue = v1;
  result.actualPoints._rawValue = v0;
  return result;
}

uint64_t closestPointOnLine(lineP1:lineP2:point:)()
{
  return closestPointOnLine(lineP1:lineP2:point:)();
}

{
  return closestPointOnLine(lineP1:lineP2:point:)();
}

uint64_t * infix(_:_:)()
{
  return * infix(_:_:)();
}

{
  return * infix(_:_:)();
}

{
  return * infix(_:_:)();
}

uint64_t + infix(_:_:)()
{
  return + infix(_:_:)();
}

{
  return + infix(_:_:)();
}

IOSurface_optional __swiftcall makeIOSurfaceOfFirstPlane(from:)(CVBufferRef from)
{
  v1 = makeIOSurfaceOfFirstPlane(from:)(from);
  result.value._impl = v2;
  result.value.super.isa = v1;
  result.is_nil = v3;
  return result;
}

__C::SCNVector3 __swiftcall SCNVector3.init(_:_:_:)(Swift::Double a1, Swift::Double a2, Swift::Double a3)
{
  SCNVector3.init(_:_:_:)(a1, a2, a3);
  result.z = v5;
  result.y = v4;
  result.x = v3;
  return result;
}

__C::SCNVector4 __swiftcall SCNVector4.init(_:_:_:_:)(Swift::Float a1, Swift::Float a2, Swift::Float a3, Swift::Float a4)
{
  SCNVector4.init(_:_:_:_:)(a1, a2, a3, a4);
  result.w = v7;
  result.z = v6;
  result.y = v5;
  result.x = v4;
  return result;
}

uint64_t CGPoint.init(_:)()
{
  return CGPoint.init(_:)();
}

{
  return CGPoint.init(_:)();
}

uint64_t SIMD2<>.init(_:)()
{
  return SIMD2<>.init(_:)();
}

{
  return SIMD2<>.init(_:)();
}

CGPoint CGPointApplyAffineTransform(CGPoint point, CGAffineTransform *t)
{
  v4 = _CGPointApplyAffineTransform(point, t);
  y = v4.y;
  x = v4.x;
  result.y = y;
  result.x = x;
  return result;
}

CGPoint CGPointFromString(NSString *string)
{
  v3 = _CGPointFromString(string);
  y = v3.y;
  x = v3.x;
  result.y = y;
  result.x = x;
  return result;
}

uint64_t std::stringbuf::str()
{
  return std::stringbuf::str();
}

{
  return std::stringbuf::str();
}

uint64_t std::ostream::operator<<()
{
  return std::ostream::operator<<();
}

{
  return std::ostream::operator<<();
}

void operator delete[]()
{
    ;
  }
}

void operator delete(void *__p)
{
    ;
  }
}

void operator delete()
{
    ;
  }
}

void operator new[]()
{
    ;
  }
}

void operator new()
{
    ;
  }
}

__double2 __sincos_stret(double a1)
{
  v3 = ___sincos_stret(a1);
  cosval = v3.__cosval;
  sinval = v3.__sinval;
  result.__cosval = cosval;
  result.__sinval = sinval;
  return result;
}

__float2 __sincosf_stret(float a1)
{
  v3 = ___sincosf_stret(a1);
  cosval = v3.__cosval;
  sinval = v3.__sinval;
  result.__cosval = cosval;
  result.__sinval = sinval;
  return result;
}